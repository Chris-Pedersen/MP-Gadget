<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MP-Gadget: petaio.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MP-Gadget
   &#160;<span id="projectnumber">5.0.0.dev0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">petaio.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;bigfile.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for petaio.h:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="petaio_8h__incl.svg" width="175" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="petaio_8h__dep__incl.svg" width="243" height="230"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="petaio_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structIOTableEntry.html">IOTableEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structIOTable.html">IOTable</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4e5345f6d90e069890abef6a26f69263"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a4e5345f6d90e069890abef6a26f69263">PTYPE_FOF_GROUP</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a4e5345f6d90e069890abef6a26f69263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace8e9a46838e0d813093bae6bf8cc226"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#ace8e9a46838e0d813093bae6bf8cc226">IO_REG</a>(<a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,  dtype,  items,  ptype)&#160;&#160;&#160;<a class="el" href="petaio_8h.html#a0c78ec1d5e3904b337ed49888013a7b9">io_register_io_block</a>(# <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, dtype, items, ptype, (<a class="el" href="petaio_8h.html#ae28fbad3a576c00c114d86c27869178e">property_getter</a>) GT ## <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a> , (<a class="el" href="petaio_8h.html#a43091c5ea072e4f9fa21467484dae15a">property_setter</a>) ST ## <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, 1)</td></tr>
<tr class="separator:ace8e9a46838e0d813093bae6bf8cc226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab88a3bc4e74cd3dc0585c1d7117ac871"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#ab88a3bc4e74cd3dc0585c1d7117ac871">IO_REG_TYPE</a>(<a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,  dtype,  items,  ptype)&#160;&#160;&#160;<a class="el" href="petaio_8h.html#a0c78ec1d5e3904b337ed49888013a7b9">io_register_io_block</a>(# <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, dtype, items, ptype, (<a class="el" href="petaio_8h.html#ae28fbad3a576c00c114d86c27869178e">property_getter</a>) GT ## ptype ## <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a> , (<a class="el" href="petaio_8h.html#a43091c5ea072e4f9fa21467484dae15a">property_setter</a>) ST ## ptype ## <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, 0)</td></tr>
<tr class="separator:ab88a3bc4e74cd3dc0585c1d7117ac871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6baaa05e5226d06e0cddbde5c6780bbe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a6baaa05e5226d06e0cddbde5c6780bbe">IO_REG_WRONLY</a>(<a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,  dtype,  items,  ptype)&#160;&#160;&#160;<a class="el" href="petaio_8h.html#a0c78ec1d5e3904b337ed49888013a7b9">io_register_io_block</a>(# <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, dtype, items, ptype, (<a class="el" href="petaio_8h.html#ae28fbad3a576c00c114d86c27869178e">property_getter</a>) GT ## <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a> , NULL, 1)</td></tr>
<tr class="separator:a6baaa05e5226d06e0cddbde5c6780bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05e029453265aea48d8f6f5c8003849d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a05e029453265aea48d8f6f5c8003849d">IO_REG_NONFATAL</a>(<a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,  dtype,  items,  ptype)&#160;&#160;&#160;<a class="el" href="petaio_8h.html#a0c78ec1d5e3904b337ed49888013a7b9">io_register_io_block</a>(# <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, dtype, items, ptype, (<a class="el" href="petaio_8h.html#ae28fbad3a576c00c114d86c27869178e">property_getter</a>) GT ## <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a> , (<a class="el" href="petaio_8h.html#a43091c5ea072e4f9fa21467484dae15a">property_setter</a>) ST ## <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, 0)</td></tr>
<tr class="separator:a05e029453265aea48d8f6f5c8003849d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69505b4ee5eafa3a47830b0d4ca69cba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a69505b4ee5eafa3a47830b0d4ca69cba">SIMPLE_GETTER</a>(<a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,  field,  type,  items)</td></tr>
<tr class="separator:a69505b4ee5eafa3a47830b0d4ca69cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a713ec5c23c81c0e5ff4cc9a7f5676ebc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a713ec5c23c81c0e5ff4cc9a7f5676ebc">SIMPLE_SETTER</a>(<a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,  field,  type,  items)</td></tr>
<tr class="separator:a713ec5c23c81c0e5ff4cc9a7f5676ebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ab7a88228a6b7d76399c221d467770b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a1ab7a88228a6b7d76399c221d467770b">SIMPLE_PROPERTY</a>(<a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,  field,  type,  items)</td></tr>
<tr class="separator:a1ab7a88228a6b7d76399c221d467770b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa720326cfa548d617eaf46b6f75bead8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#aa720326cfa548d617eaf46b6f75bead8">SIMPLE_PROPERTY_TYPE</a>(<a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,  ptype,  field,  type,  items)</td></tr>
<tr class="separator:aa720326cfa548d617eaf46b6f75bead8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ae28fbad3a576c00c114d86c27869178e"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#ae28fbad3a576c00c114d86c27869178e">property_getter</a>) (int i, void *result)</td></tr>
<tr class="separator:ae28fbad3a576c00c114d86c27869178e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43091c5ea072e4f9fa21467484dae15a"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a43091c5ea072e4f9fa21467484dae15a">property_setter</a>) (int i, void *target)</td></tr>
<tr class="separator:a43091c5ea072e4f9fa21467484dae15a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6014f5b74b81d4ca7ede89419ba9170"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#ac6014f5b74b81d4ca7ede89419ba9170">petaio_selection</a>) (int i)</td></tr>
<tr class="separator:ac6014f5b74b81d4ca7ede89419ba9170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8d5ed7aeed0dc4fdcd052ff74cc849"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structIOTableEntry.html">IOTableEntry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a0f8d5ed7aeed0dc4fdcd052ff74cc849">IOTableEntry</a></td></tr>
<tr class="separator:a0f8d5ed7aeed0dc4fdcd052ff74cc849"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2398ab5c3e8c8475d7c625fcac182c5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a2398ab5c3e8c8475d7c625fcac182c5b">petaio_init</a> ()</td></tr>
<tr class="separator:a2398ab5c3e8c8475d7c625fcac182c5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a807144b5059bd3247ddec9ec7135c822"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a807144b5059bd3247ddec9ec7135c822">petaio_alloc_buffer</a> (BigArray *array, <a class="el" href="structIOTableEntry.html">IOTableEntry</a> *ent, int64_t npartLocal)</td></tr>
<tr class="separator:a807144b5059bd3247ddec9ec7135c822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a598cad7b60c0fe58c18e03f5b15b8a48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a598cad7b60c0fe58c18e03f5b15b8a48">petaio_build_buffer</a> (BigArray *array, <a class="el" href="structIOTableEntry.html">IOTableEntry</a> *ent, const int *selection, const int size)</td></tr>
<tr class="separator:a598cad7b60c0fe58c18e03f5b15b8a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfbe2137aa21a8042aadf9c8621212f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#acfbe2137aa21a8042aadf9c8621212f9">petaio_readout_buffer</a> (BigArray *array, <a class="el" href="structIOTableEntry.html">IOTableEntry</a> *ent)</td></tr>
<tr class="separator:acfbe2137aa21a8042aadf9c8621212f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00bc8b1ba2ab1de94d983b08b14580c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a00bc8b1ba2ab1de94d983b08b14580c7">petaio_destroy_buffer</a> (BigArray *array)</td></tr>
<tr class="separator:a00bc8b1ba2ab1de94d983b08b14580c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4abd78b70e4a1dfbed5db05cd89073"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a8d4abd78b70e4a1dfbed5db05cd89073">petaio_save_block</a> (BigFile *bf, char *blockname, BigArray *array)</td></tr>
<tr class="separator:a8d4abd78b70e4a1dfbed5db05cd89073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a375e118ac0a9723ee7a157edc2d1e1ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a375e118ac0a9723ee7a157edc2d1e1ed">petaio_read_block</a> (BigFile *bf, char *blockname, BigArray *array, int required)</td></tr>
<tr class="separator:a375e118ac0a9723ee7a157edc2d1e1ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91ff9324adbdc5b2652db62e161042b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a91ff9324adbdc5b2652db62e161042b8">petaio_save_snapshot</a> (const char *fmt,...)</td></tr>
<tr class="separator:a91ff9324adbdc5b2652db62e161042b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cafe68cc20536a835f9e31febee2a7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a3cafe68cc20536a835f9e31febee2a7f">petaio_save_restart</a> ()</td></tr>
<tr class="separator:a3cafe68cc20536a835f9e31febee2a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dd52bd7a320fa9ef1c7963d060ae4ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a3dd52bd7a320fa9ef1c7963d060ae4ec">petaio_read_snapshot</a> (int num)</td></tr>
<tr class="separator:a3dd52bd7a320fa9ef1c7963d060ae4ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7b533afc766345881d11628147375db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#ac7b533afc766345881d11628147375db">petaio_read_header</a> (int num)</td></tr>
<tr class="separator:ac7b533afc766345881d11628147375db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad13d20d78ff834f5005e68ad11d228e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#ad13d20d78ff834f5005e68ad11d228e3">petaio_build_selection</a> (int *selection, int *ptype_offset, int *ptype_count, const int NumPart, int(*select_func)(int i))</td></tr>
<tr class="separator:ad13d20d78ff834f5005e68ad11d228e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c78ec1d5e3904b337ed49888013a7b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a0c78ec1d5e3904b337ed49888013a7b9">io_register_io_block</a> (char *<a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, char *dtype, int items, int ptype, <a class="el" href="petaio_8h.html#ae28fbad3a576c00c114d86c27869178e">property_getter</a> getter, <a class="el" href="petaio_8h.html#a43091c5ea072e4f9fa21467484dae15a">property_setter</a> setter, int required)</td></tr>
<tr class="separator:a0c78ec1d5e3904b337ed49888013a7b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a916261b1063dddc69dc1e39bf35fab02"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structIOTable.html">IOTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="petaio_8h.html#a916261b1063dddc69dc1e39bf35fab02">IOTable</a></td></tr>
<tr class="separator:a916261b1063dddc69dc1e39bf35fab02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ace8e9a46838e0d813093bae6bf8cc226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace8e9a46838e0d813093bae6bf8cc226">&#9670;&nbsp;</a></span>IO_REG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IO_REG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">dtype, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">items, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptype&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="petaio_8h.html#a0c78ec1d5e3904b337ed49888013a7b9">io_register_io_block</a>(# <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, dtype, items, ptype, (<a class="el" href="petaio_8h.html#ae28fbad3a576c00c114d86c27869178e">property_getter</a>) GT ## <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a> , (<a class="el" href="petaio_8h.html#a43091c5ea072e4f9fa21467484dae15a">property_setter</a>) ST ## <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8h_source.html#l00055">55</a> of file <a class="el" href="petaio_8h_source.html">petaio.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="fofpetaio_8c_source.html#l00311">fof_register_io_blocks()</a>, <a class="el" href="petaio_8c_source.html#l00892">register_io_blocks()</a>, and <a class="el" href="runtests_8c_source.html#l00027">runtests()</a>.</p>

</div>
</div>
<a id="a05e029453265aea48d8f6f5c8003849d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05e029453265aea48d8f6f5c8003849d">&#9670;&nbsp;</a></span>IO_REG_NONFATAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IO_REG_NONFATAL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">dtype, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">items, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptype&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="petaio_8h.html#a0c78ec1d5e3904b337ed49888013a7b9">io_register_io_block</a>(# <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, dtype, items, ptype, (<a class="el" href="petaio_8h.html#ae28fbad3a576c00c114d86c27869178e">property_getter</a>) GT ## <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a> , (<a class="el" href="petaio_8h.html#a43091c5ea072e4f9fa21467484dae15a">property_setter</a>) ST ## <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8h_source.html#l00061">61</a> of file <a class="el" href="petaio_8h_source.html">petaio.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="petaio_8c_source.html#l00892">register_io_blocks()</a>.</p>

</div>
</div>
<a id="ab88a3bc4e74cd3dc0585c1d7117ac871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab88a3bc4e74cd3dc0585c1d7117ac871">&#9670;&nbsp;</a></span>IO_REG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IO_REG_TYPE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">dtype, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">items, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptype&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="petaio_8h.html#a0c78ec1d5e3904b337ed49888013a7b9">io_register_io_block</a>(# <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, dtype, items, ptype, (<a class="el" href="petaio_8h.html#ae28fbad3a576c00c114d86c27869178e">property_getter</a>) GT ## ptype ## <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a> , (<a class="el" href="petaio_8h.html#a43091c5ea072e4f9fa21467484dae15a">property_setter</a>) ST ## ptype ## <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8h_source.html#l00057">57</a> of file <a class="el" href="petaio_8h_source.html">petaio.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="petaio_8c_source.html#l00892">register_io_blocks()</a>.</p>

</div>
</div>
<a id="a6baaa05e5226d06e0cddbde5c6780bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6baaa05e5226d06e0cddbde5c6780bbe">&#9670;&nbsp;</a></span>IO_REG_WRONLY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IO_REG_WRONLY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">dtype, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">items, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptype&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="petaio_8h.html#a0c78ec1d5e3904b337ed49888013a7b9">io_register_io_block</a>(# <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, dtype, items, ptype, (<a class="el" href="petaio_8h.html#ae28fbad3a576c00c114d86c27869178e">property_getter</a>) GT ## <a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a> , NULL, 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8h_source.html#l00059">59</a> of file <a class="el" href="petaio_8h_source.html">petaio.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="fofpetaio_8c_source.html#l00311">fof_register_io_blocks()</a>, and <a class="el" href="petaio_8c_source.html#l00892">register_io_blocks()</a>.</p>

</div>
</div>
<a id="a4e5345f6d90e069890abef6a26f69263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e5345f6d90e069890abef6a26f69263">&#9670;&nbsp;</a></span>PTYPE_FOF_GROUP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTYPE_FOF_GROUP&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8h_source.html#l00020">20</a> of file <a class="el" href="petaio_8h_source.html">petaio.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="fofpetaio_8c_source.html#l00311">fof_register_io_blocks()</a>, and <a class="el" href="fofpetaio_8c_source.html#l00046">fof_save_particles()</a>.</p>

</div>
</div>
<a id="a69505b4ee5eafa3a47830b0d4ca69cba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69505b4ee5eafa3a47830b0d4ca69cba">&#9670;&nbsp;</a></span>SIMPLE_GETTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIMPLE_GETTER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">items&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>(<span class="keywordtype">int</span> i, type * out) { \</div><div class="line">    int k; \</div><div class="line">    for(k = 0; k &lt; <a class="code" href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">items</a>; k ++) { \</div><div class="line">        out[k] = *(&amp;(field) + k); \</div><div class="line">    } \</div><div class="line">}</div><div class="ttc" id="densitykernel_8c_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="densitykernel_8c_source.html#l00093">densitykernel.c:93</a></div></div>
<div class="ttc" id="structIOTableEntry_html_a2cd7cf3c7b9731be73d16e80ed389e21"><div class="ttname"><a href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">IOTableEntry::items</a></div><div class="ttdeci">int items</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00014">petaio.h:14</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="petaio_8h_source.html#l00085">85</a> of file <a class="el" href="petaio_8h_source.html">petaio.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="petaio_8c_source.html#l00810">STVelocity()</a>.</p>

</div>
</div>
<a id="a1ab7a88228a6b7d76399c221d467770b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ab7a88228a6b7d76399c221d467770b">&#9670;&nbsp;</a></span>SIMPLE_PROPERTY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIMPLE_PROPERTY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">items&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="petaio_8h.html#a69505b4ee5eafa3a47830b0d4ca69cba">SIMPLE_GETTER</a>(GT ## <a class="code" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a> , field, type, <a class="code" href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">items</a>) \</div><div class="line">    SIMPLE_SETTER(ST ## <a class="code" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a> , field, type, <a class="code" href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">items</a>) \</div><div class="line"><span class="comment">/*A property with getters and setters that are type specific*/</span></div><div class="ttc" id="densitykernel_8c_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="densitykernel_8c_source.html#l00093">densitykernel.c:93</a></div></div>
<div class="ttc" id="petaio_8h_html_a69505b4ee5eafa3a47830b0d4ca69cba"><div class="ttname"><a href="petaio_8h.html#a69505b4ee5eafa3a47830b0d4ca69cba">SIMPLE_GETTER</a></div><div class="ttdeci">#define SIMPLE_GETTER(name, field, type, items)</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00085">petaio.h:85</a></div></div>
<div class="ttc" id="structIOTableEntry_html_a2cd7cf3c7b9731be73d16e80ed389e21"><div class="ttname"><a href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">IOTableEntry::items</a></div><div class="ttdeci">int items</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00014">petaio.h:14</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="petaio_8h_source.html#l00099">99</a> of file <a class="el" href="petaio_8h_source.html">petaio.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="fofpetaio_8c_source.html#l00247">fof_write_header()</a>, <a class="el" href="fofpetaio_8c_source.html#l00287">GTMassCenterVelocity()</a>, <a class="el" href="petaio_8c_source.html#l00776">io_register_io_block()</a>, and <a class="el" href="petaio_8c_source.html#l00810">STVelocity()</a>.</p>

</div>
</div>
<a id="aa720326cfa548d617eaf46b6f75bead8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa720326cfa548d617eaf46b6f75bead8">&#9670;&nbsp;</a></span>SIMPLE_PROPERTY_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIMPLE_PROPERTY_TYPE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptype, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">items&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="petaio_8h.html#a69505b4ee5eafa3a47830b0d4ca69cba">SIMPLE_GETTER</a>(GT ## <a class="code" href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">ptype</a> ## <a class="code" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a> , field, type, <a class="code" href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">items</a>) \</div><div class="line">    SIMPLE_SETTER(ST ## <a class="code" href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">ptype</a> ## <a class="code" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a> , field, type, <a class="code" href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">items</a>) \</div><div class="line"><span class="comment">/* </span></div><div class="line"><span class="comment"> * currently 4096 entries are supported </span></div><div class="line"><span class="comment"> * */</span></div><div class="ttc" id="structIOTableEntry_html_ab5ee266f94a60e5b12aab7c40b267c87"><div class="ttname"><a href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">IOTableEntry::ptype</a></div><div class="ttdeci">int ptype</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00012">petaio.h:12</a></div></div>
<div class="ttc" id="densitykernel_8c_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="densitykernel_8c_source.html#l00093">densitykernel.c:93</a></div></div>
<div class="ttc" id="petaio_8h_html_a69505b4ee5eafa3a47830b0d4ca69cba"><div class="ttname"><a href="petaio_8h.html#a69505b4ee5eafa3a47830b0d4ca69cba">SIMPLE_GETTER</a></div><div class="ttdeci">#define SIMPLE_GETTER(name, field, type, items)</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00085">petaio.h:85</a></div></div>
<div class="ttc" id="structIOTableEntry_html_a2cd7cf3c7b9731be73d16e80ed389e21"><div class="ttname"><a href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">IOTableEntry::items</a></div><div class="ttdeci">int items</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00014">petaio.h:14</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="petaio_8h_source.html#l00103">103</a> of file <a class="el" href="petaio_8h_source.html">petaio.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="petaio_8c_source.html#l00810">STVelocity()</a>.</p>

</div>
</div>
<a id="a713ec5c23c81c0e5ff4cc9a7f5676ebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a713ec5c23c81c0e5ff4cc9a7f5676ebc">&#9670;&nbsp;</a></span>SIMPLE_SETTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIMPLE_SETTER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">items&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>(<span class="keywordtype">int</span> i, type * out) { \</div><div class="line">    int k; \</div><div class="line">    for(k = 0; k &lt; <a class="code" href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">items</a>; k ++) { \</div><div class="line">        *(&amp;(field) + k) = out[k]; \</div><div class="line">    } \</div><div class="line">}</div><div class="ttc" id="densitykernel_8c_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="densitykernel_8c_source.html#l00093">densitykernel.c:93</a></div></div>
<div class="ttc" id="structIOTableEntry_html_a2cd7cf3c7b9731be73d16e80ed389e21"><div class="ttname"><a href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">IOTableEntry::items</a></div><div class="ttdeci">int items</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00014">petaio.h:14</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="petaio_8h_source.html#l00092">92</a> of file <a class="el" href="petaio_8h_source.html">petaio.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a0f8d5ed7aeed0dc4fdcd052ff74cc849"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f8d5ed7aeed0dc4fdcd052ff74cc849">&#9670;&nbsp;</a></span>IOTableEntry</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structIOTableEntry.html">IOTableEntry</a>  <a class="el" href="structIOTableEntry.html">IOTableEntry</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac6014f5b74b81d4ca7ede89419ba9170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6014f5b74b81d4ca7ede89419ba9170">&#9670;&nbsp;</a></span>petaio_selection</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* petaio_selection) (int i)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8h_source.html#l00008">8</a> of file <a class="el" href="petaio_8h_source.html">petaio.h</a>.</p>

</div>
</div>
<a id="ae28fbad3a576c00c114d86c27869178e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae28fbad3a576c00c114d86c27869178e">&#9670;&nbsp;</a></span>property_getter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* property_getter) (int i, void *result)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8h_source.html#l00006">6</a> of file <a class="el" href="petaio_8h_source.html">petaio.h</a>.</p>

</div>
</div>
<a id="a43091c5ea072e4f9fa21467484dae15a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43091c5ea072e4f9fa21467484dae15a">&#9670;&nbsp;</a></span>property_setter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* property_setter) (int i, void *target)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8h_source.html#l00007">7</a> of file <a class="el" href="petaio_8h_source.html">petaio.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0c78ec1d5e3904b337ed49888013a7b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c78ec1d5e3904b337ed49888013a7b9">&#9670;&nbsp;</a></span>io_register_io_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void io_register_io_block </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ptype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="petaio_8h.html#ae28fbad3a576c00c114d86c27869178e">property_getter</a>&#160;</td>
          <td class="paramname"><em>getter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="petaio_8h.html#a43091c5ea072e4f9fa21467484dae15a">property_setter</a>&#160;</td>
          <td class="paramname"><em>setter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>required</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8c_source.html#l00776">776</a> of file <a class="el" href="petaio_8c_source.html">petaio.c</a>.</p>

<p class="reference">References <a class="el" href="petaio_8h_source.html#l00013">IOTableEntry::dtype</a>, <a class="el" href="petaio_8h_source.html#l00110">IOTable::ent</a>, <a class="el" href="petaio_8h_source.html#l00016">IOTableEntry::getter</a>, <a class="el" href="petaio_8h_source.html#l00014">IOTableEntry::items</a>, <a class="el" href="petaio_8h_source.html#l00011">IOTableEntry::name</a>, <a class="el" href="partmanager_8h_source.html#l00099">P</a>, <a class="el" href="petaio_8h_source.html#l00012">IOTableEntry::ptype</a>, <a class="el" href="petaio_8h_source.html#l00015">IOTableEntry::required</a>, <a class="el" href="petaio_8h_source.html#l00017">IOTableEntry::setter</a>, <a class="el" href="petaio_8h_source.html#l00099">SIMPLE_PROPERTY</a>, and <a class="el" href="petaio_8h_source.html#l00111">IOTable::used</a>.</p>
<div class="fragment"><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;          {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="structIOTableEntry.html">IOTableEntry</a> * ent = &amp;<a class="code" href="structIOTable.html">IOTable</a>.<a class="code" href="structIOTable.html#a1ee2ba25b1e4a156aa40250d619aab71">ent</a>[<a class="code" href="structIOTable.html">IOTable</a>.<a class="code" href="structIOTable.html#a5653cce54984987c97ee9473ad06c76d">used</a>];</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    strcpy(ent-&gt;<a class="code" href="structIOTableEntry.html#ae8210949ad522cfbf6342e4b8caeefc2">name</a>, <a class="code" href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    ent-&gt;<a class="code" href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">ptype</a> = <a class="code" href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">ptype</a>;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    dtype_normalize(ent-&gt;<a class="code" href="structIOTableEntry.html#a76dbf5bd339f62204ec9af6edff35f2b">dtype</a>, <a class="code" href="namespacemake__zeros.html#a38250bba642050fd66fe2d03ef5ebf76">dtype</a>);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    ent-&gt;<a class="code" href="structIOTableEntry.html#ac571725e2d3247c7e038821bca7bf87f">getter</a> = <a class="code" href="structIOTableEntry.html#ac571725e2d3247c7e038821bca7bf87f">getter</a>;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    ent-&gt;<a class="code" href="structIOTableEntry.html#aca5a071ce97564cf069f4c1bbbe15894">setter</a> = <a class="code" href="structIOTableEntry.html#aca5a071ce97564cf069f4c1bbbe15894">setter</a>;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    ent-&gt;<a class="code" href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">items</a> = <a class="code" href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">items</a>;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    ent-&gt;<a class="code" href="structIOTableEntry.html#abd017805b410e444ec76f0633c530ea4">required</a> = <a class="code" href="structIOTableEntry.html#abd017805b410e444ec76f0633c530ea4">required</a>;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <a class="code" href="structIOTable.html">IOTable</a>.<a class="code" href="structIOTable.html#a5653cce54984987c97ee9473ad06c76d">used</a> ++;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;}</div><div class="ttc" id="structIOTable_html"><div class="ttname"><a href="structIOTable.html">IOTable</a></div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00109">petaio.h:109</a></div></div>
<div class="ttc" id="structIOTableEntry_html_ae8210949ad522cfbf6342e4b8caeefc2"><div class="ttname"><a href="structIOTableEntry.html#ae8210949ad522cfbf6342e4b8caeefc2">IOTableEntry::name</a></div><div class="ttdeci">char name[64]</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00011">petaio.h:11</a></div></div>
<div class="ttc" id="structIOTableEntry_html_abd017805b410e444ec76f0633c530ea4"><div class="ttname"><a href="structIOTableEntry.html#abd017805b410e444ec76f0633c530ea4">IOTableEntry::required</a></div><div class="ttdeci">int required</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00015">petaio.h:15</a></div></div>
<div class="ttc" id="structIOTableEntry_html"><div class="ttname"><a href="structIOTableEntry.html">IOTableEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00010">petaio.h:10</a></div></div>
<div class="ttc" id="structIOTable_html_a5653cce54984987c97ee9473ad06c76d"><div class="ttname"><a href="structIOTable.html#a5653cce54984987c97ee9473ad06c76d">IOTable::used</a></div><div class="ttdeci">int used</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00111">petaio.h:111</a></div></div>
<div class="ttc" id="structIOTableEntry_html_aca5a071ce97564cf069f4c1bbbe15894"><div class="ttname"><a href="structIOTableEntry.html#aca5a071ce97564cf069f4c1bbbe15894">IOTableEntry::setter</a></div><div class="ttdeci">property_setter setter</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00017">petaio.h:17</a></div></div>
<div class="ttc" id="structIOTableEntry_html_ab5ee266f94a60e5b12aab7c40b267c87"><div class="ttname"><a href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">IOTableEntry::ptype</a></div><div class="ttdeci">int ptype</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00012">petaio.h:12</a></div></div>
<div class="ttc" id="structIOTableEntry_html_ac571725e2d3247c7e038821bca7bf87f"><div class="ttname"><a href="structIOTableEntry.html#ac571725e2d3247c7e038821bca7bf87f">IOTableEntry::getter</a></div><div class="ttdeci">property_getter getter</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00016">petaio.h:16</a></div></div>
<div class="ttc" id="namespacemake__zeros_html_a38250bba642050fd66fe2d03ef5ebf76"><div class="ttname"><a href="namespacemake__zeros.html#a38250bba642050fd66fe2d03ef5ebf76">make_zeros.dtype</a></div><div class="ttdeci">dtype</div><div class="ttdef"><b>Definition:</b> <a href="make__zeros_8py_source.html#l00008">make_zeros.py:8</a></div></div>
<div class="ttc" id="structIOTableEntry_html_a76dbf5bd339f62204ec9af6edff35f2b"><div class="ttname"><a href="structIOTableEntry.html#a76dbf5bd339f62204ec9af6edff35f2b">IOTableEntry::dtype</a></div><div class="ttdeci">char dtype[8]</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00013">petaio.h:13</a></div></div>
<div class="ttc" id="densitykernel_8c_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="densitykernel_8c.html#a5ac083a645d964373f022d03df4849c8">name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="densitykernel_8c_source.html#l00093">densitykernel.c:93</a></div></div>
<div class="ttc" id="structIOTable_html_a1ee2ba25b1e4a156aa40250d619aab71"><div class="ttname"><a href="structIOTable.html#a1ee2ba25b1e4a156aa40250d619aab71">IOTable::ent</a></div><div class="ttdeci">IOTableEntry ent[4096]</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00110">petaio.h:110</a></div></div>
<div class="ttc" id="structIOTableEntry_html_a2cd7cf3c7b9731be73d16e80ed389e21"><div class="ttname"><a href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">IOTableEntry::items</a></div><div class="ttdeci">int items</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00014">petaio.h:14</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a807144b5059bd3247ddec9ec7135c822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a807144b5059bd3247ddec9ec7135c822">&#9670;&nbsp;</a></span>petaio_alloc_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void petaio_alloc_buffer </td>
          <td>(</td>
          <td class="paramtype">BigArray *&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structIOTableEntry.html">IOTableEntry</a> *&#160;</td>
          <td class="paramname"><em>ent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>npartLocal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8c_source.html#l00609">609</a> of file <a class="el" href="petaio_8c_source.html">petaio.c</a>.</p>

<p class="reference">References <a class="el" href="petaio_8h_source.html#l00013">IOTableEntry::dtype</a>, <a class="el" href="petaio_8h_source.html#l00014">IOTableEntry::items</a>, and <a class="el" href="mymalloc_8h_source.html#l00012">mymalloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="fofpetaio_8c_source.html#l00233">build_buffer_fof()</a>, <a class="el" href="petaio_8c_source.html#l00639">petaio_build_buffer()</a>, and <a class="el" href="petaio_8c_source.html#l00278">petaio_read_internal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                                                                                  {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordtype">size_t</span> dims[2];</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    ptrdiff_t strides[2];</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordtype">int</span> elsize = dtype_itemsize(ent-&gt;<a class="code" href="structIOTableEntry.html#a76dbf5bd339f62204ec9af6edff35f2b">dtype</a>);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    dims[0] = localsize;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    dims[1] = ent-&gt;<a class="code" href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">items</a>;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    strides[1] = elsize;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    strides[0] = elsize * ent-&gt;<a class="code" href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">items</a>;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordtype">char</span> * buffer = <a class="code" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>(<span class="stringliteral">&quot;IOBUFFER&quot;</span>, dims[0] * dims[1] * elsize);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    big_array_init(array, buffer, ent-&gt;<a class="code" href="structIOTableEntry.html#a76dbf5bd339f62204ec9af6edff35f2b">dtype</a>, 2, dims, strides);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div><div class="ttc" id="mymalloc_8h_html_a3eb707b32b6ac69f2df085e4bc098cc4"><div class="ttname"><a href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a></div><div class="ttdeci">#define mymalloc(name, size)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00012">mymalloc.h:12</a></div></div>
<div class="ttc" id="structIOTableEntry_html_a76dbf5bd339f62204ec9af6edff35f2b"><div class="ttname"><a href="structIOTableEntry.html#a76dbf5bd339f62204ec9af6edff35f2b">IOTableEntry::dtype</a></div><div class="ttdeci">char dtype[8]</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00013">petaio.h:13</a></div></div>
<div class="ttc" id="structIOTableEntry_html_a2cd7cf3c7b9731be73d16e80ed389e21"><div class="ttname"><a href="structIOTableEntry.html#a2cd7cf3c7b9731be73d16e80ed389e21">IOTableEntry::items</a></div><div class="ttdeci">int items</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00014">petaio.h:14</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="petaio_8h_a807144b5059bd3247ddec9ec7135c822_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a598cad7b60c0fe58c18e03f5b15b8a48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a598cad7b60c0fe58c18e03f5b15b8a48">&#9670;&nbsp;</a></span>petaio_build_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void petaio_build_buffer </td>
          <td>(</td>
          <td class="paramtype">BigArray *&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structIOTableEntry.html">IOTableEntry</a> *&#160;</td>
          <td class="paramname"><em>ent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>selection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8c_source.html#l00639">639</a> of file <a class="el" href="petaio_8c_source.html">petaio.c</a>.</p>

<p class="reference">References <a class="el" href="endrun_8c_source.html#l00210">endrun()</a>, <a class="el" href="petaio_8h_source.html#l00016">IOTableEntry::getter</a>, <a class="el" href="allvars_8h_source.html#l00034">omp_get_thread_num</a>, <a class="el" href="partmanager_8h_source.html#l00099">P</a>, <a class="el" href="petaio_8c_source.html#l00609">petaio_alloc_buffer()</a>, and <a class="el" href="petaio_8h_source.html#l00012">IOTableEntry::ptype</a>.</p>

<p class="reference">Referenced by <a class="el" href="fofpetaio_8c_source.html#l00046">fof_save_particles()</a>, and <a class="el" href="petaio_8c_source.html#l00232">petaio_save_internal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;{</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">if</span>(selection == NULL) {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(-1, <span class="stringliteral">&quot;NULL selection is not supported\n&quot;</span>);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="comment">/* don&#39;t forget to free buffer after its done*/</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <a class="code" href="petaio_8c.html#aafe1fe998e7ca93a780ad69be4d061dc">petaio_alloc_buffer</a>(array, ent, NumSelection);</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">/* Fast code path if there are no such particles */</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">if</span>(NumSelection == 0) {</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    }</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="preprocessor">#pragma omp parallel</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    {</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> tid = <a class="code" href="allvars_8h.html#a889ec205c635b219999c761b28cc39ba">omp_get_thread_num</a>();</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> NT = omp_get_num_threads();</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> start = NumSelection * (size_t) tid / NT;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> end = NumSelection * ((size_t) tid + 1) / NT;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="comment">/* fill the buffer */</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="keywordtype">char</span> * p = array-&gt;data;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        p += array-&gt;strides[0] * start;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keywordflow">for</span>(i = start; i &lt; end; i ++) {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> j = selection[i];</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[j].Type != ent-&gt;<a class="code" href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">ptype</a>) {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(2, <span class="stringliteral">&quot;Selection %d has type = %d != %d\n&quot;</span>, j, <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[j].Type, ent-&gt;<a class="code" href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">ptype</a>);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            }</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            ent-&gt;<a class="code" href="structIOTableEntry.html#ac571725e2d3247c7e038821bca7bf87f">getter</a>(j, p);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            p += array-&gt;strides[0];</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;}</div><div class="ttc" id="partmanager_8h_html_a2748566f4c443ee77aa831e63dbb5ebe"><div class="ttname"><a href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a></div><div class="ttdeci">#define P</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00099">partmanager.h:99</a></div></div>
<div class="ttc" id="endrun_8c_html_ad963d7efdb9f10f7a2298c8ccd222ab0"><div class="ttname"><a href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a></div><div class="ttdeci">void endrun(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00210">endrun.c:210</a></div></div>
<div class="ttc" id="structIOTableEntry_html_ab5ee266f94a60e5b12aab7c40b267c87"><div class="ttname"><a href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">IOTableEntry::ptype</a></div><div class="ttdeci">int ptype</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00012">petaio.h:12</a></div></div>
<div class="ttc" id="allvars_8h_html_a889ec205c635b219999c761b28cc39ba"><div class="ttname"><a href="allvars_8h.html#a889ec205c635b219999c761b28cc39ba">omp_get_thread_num</a></div><div class="ttdeci">#define omp_get_thread_num()</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00034">allvars.h:34</a></div></div>
<div class="ttc" id="structIOTableEntry_html_ac571725e2d3247c7e038821bca7bf87f"><div class="ttname"><a href="structIOTableEntry.html#ac571725e2d3247c7e038821bca7bf87f">IOTableEntry::getter</a></div><div class="ttdeci">property_getter getter</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00016">petaio.h:16</a></div></div>
<div class="ttc" id="petaio_8c_html_aafe1fe998e7ca93a780ad69be4d061dc"><div class="ttname"><a href="petaio_8c.html#aafe1fe998e7ca93a780ad69be4d061dc">petaio_alloc_buffer</a></div><div class="ttdeci">void petaio_alloc_buffer(BigArray *array, IOTableEntry *ent, int64_t localsize)</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8c_source.html#l00609">petaio.c:609</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="petaio_8h_a598cad7b60c0fe58c18e03f5b15b8a48_cgraph.svg" width="423" height="370"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="petaio_8h_a598cad7b60c0fe58c18e03f5b15b8a48_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ad13d20d78ff834f5005e68ad11d228e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad13d20d78ff834f5005e68ad11d228e3">&#9670;&nbsp;</a></span>petaio_build_selection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void petaio_build_selection </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>selection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ptype_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ptype_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>NumPart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(int i)&#160;</td>
          <td class="paramname"><em>select_func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a Selection array for the buffers. This array indirectly sort the particles by the type.</p>
<p>The offset for the starting of each type is stored in ptype_offset.</p>
<p>if select_func is provided, it shall return 1 for those that shall be included in the output. </p>

<p class="definition">Definition at line <a class="el" href="petaio_8c_source.html#l00098">98</a> of file <a class="el" href="petaio_8c_source.html">petaio.c</a>.</p>

<p class="reference">References <a class="el" href="gravpm_8c_source.html#l00024">delta_tot_table</a>, and <a class="el" href="partmanager_8h_source.html#l00099">P</a>.</p>

<p class="reference">Referenced by <a class="el" href="fofpetaio_8c_source.html#l00046">fof_save_particles()</a>, and <a class="el" href="petaio_8c_source.html#l00232">petaio_save_internal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    ptype_offset[0] = 0;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    ptype_count[0] = 0;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; NumPart; i ++) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">if</span>((select_func == NULL) || (select_func(i) != 0)) {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">ptype</a> = <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].Type;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            ptype_count[<a class="code" href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">ptype</a>] ++;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">for</span>(i = 1; i &lt; 6; i ++) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        ptype_offset[i] = ptype_offset[i-1] + ptype_count[i-1];</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        ptype_count[i-1] = 0;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    ptype_count[5] = 0;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; NumPart; i ++) {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">ptype</a> = <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].Type;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">if</span>((select_func == NULL) || (select_func(i) != 0)) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            selection[ptype_offset[<a class="code" href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">ptype</a>] + ptype_count[<a class="code" href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">ptype</a>]] = i;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            ptype_count[<a class="code" href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">ptype</a>]++;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div><div class="ttc" id="partmanager_8h_html_a2748566f4c443ee77aa831e63dbb5ebe"><div class="ttname"><a href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a></div><div class="ttdeci">#define P</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00099">partmanager.h:99</a></div></div>
<div class="ttc" id="structIOTableEntry_html_ab5ee266f94a60e5b12aab7c40b267c87"><div class="ttname"><a href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">IOTableEntry::ptype</a></div><div class="ttdeci">int ptype</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00012">petaio.h:12</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="petaio_8h_ad13d20d78ff834f5005e68ad11d228e3_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a00bc8b1ba2ab1de94d983b08b14580c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00bc8b1ba2ab1de94d983b08b14580c7">&#9670;&nbsp;</a></span>petaio_destroy_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void petaio_destroy_buffer </td>
          <td>(</td>
          <td class="paramtype">BigArray *&#160;</td>
          <td class="paramname"><em>array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8c_source.html#l00675">675</a> of file <a class="el" href="petaio_8c_source.html">petaio.c</a>.</p>

<p class="reference">References <a class="el" href="mymalloc_8h_source.html#l00016">myfree</a>.</p>

<p class="reference">Referenced by <a class="el" href="fofpetaio_8c_source.html#l00046">fof_save_particles()</a>, <a class="el" href="petaio_8c_source.html#l00278">petaio_read_internal()</a>, and <a class="el" href="petaio_8c_source.html#l00232">petaio_save_internal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                                             {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(array-&gt;data);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;}</div><div class="ttc" id="mymalloc_8h_html_af469c2f7e504a771f5d8a91ac9623240"><div class="ttname"><a href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a></div><div class="ttdeci">#define myfree(x)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00016">mymalloc.h:16</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="petaio_8h_a00bc8b1ba2ab1de94d983b08b14580c7_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a2398ab5c3e8c8475d7c625fcac182c5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2398ab5c3e8c8475d7c625fcac182c5b">&#9670;&nbsp;</a></span>petaio_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void petaio_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8c_source.html#l00045">45</a> of file <a class="el" href="petaio_8c_source.html">petaio.c</a>.</p>

<p class="reference">References <a class="el" href="allvars_8h_source.html#l00177">global_data_all_processes::AggregatedIOThreshold</a>, <a class="el" href="allvars_8c_source.html#l00047">All</a>, <a class="el" href="allvars_8h_source.html#l00176">global_data_all_processes::EnableAggregatedIO</a>, <a class="el" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">global_data_all_processes::IO</a>, <a class="el" href="endrun_8c_source.html#l00226">message()</a>, <a class="el" href="petaio_8c_source.html#l00232">petaio_save_internal()</a>, and <a class="el" href="petaio_8c_source.html#l00892">register_io_blocks()</a>.</p>

<p class="reference">Referenced by <a class="el" href="begrun_8c_source.html#l00050">begrun()</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                   {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="comment">/* Smaller files will do aggregareted IO.*/</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">IO</a>.<a class="code" href="structglobal__data__all__processes.html#a2bf1cbf159cd0d2559a29c80463b482d">EnableAggregatedIO</a>) {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a>(0, <span class="stringliteral">&quot;Aggregated IO is enabled\n&quot;</span>);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        big_file_mpi_set_aggregated_threshold(<a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">IO</a>.<a class="code" href="structglobal__data__all__processes.html#aa4facc4127e087413d9c89494c61f699">AggregatedIOThreshold</a>);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <a class="code" href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a>(0, <span class="stringliteral">&quot;Aggregated IO is disabled.\n&quot;</span>);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        big_file_mpi_set_aggregated_threshold(0);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    }</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="petaio_8c.html#afdc43604464800f6a96d72801667d046">register_io_blocks</a>();</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div><div class="ttc" id="structglobal__data__all__processes_html_a8c3cca19887372015be491f6110daab4"><div class="ttname"><a href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">global_data_all_processes::IO</a></div><div class="ttdeci">struct global_data_all_processes::@0 IO</div></div>
<div class="ttc" id="structglobal__data__all__processes_html_a2bf1cbf159cd0d2559a29c80463b482d"><div class="ttname"><a href="structglobal__data__all__processes.html#a2bf1cbf159cd0d2559a29c80463b482d">global_data_all_processes::EnableAggregatedIO</a></div><div class="ttdeci">int EnableAggregatedIO</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00176">allvars.h:176</a></div></div>
<div class="ttc" id="petaio_8c_html_afdc43604464800f6a96d72801667d046"><div class="ttname"><a href="petaio_8c.html#afdc43604464800f6a96d72801667d046">register_io_blocks</a></div><div class="ttdeci">static void register_io_blocks()</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8c_source.html#l00892">petaio.c:892</a></div></div>
<div class="ttc" id="endrun_8c_html_a6567cd867c5549fb6586e19ccd819764"><div class="ttname"><a href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a></div><div class="ttdeci">void message(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00226">endrun.c:226</a></div></div>
<div class="ttc" id="allvars_8c_html_ad49123ae0461ffe61629a0d4cf2ba91f"><div class="ttname"><a href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a></div><div class="ttdeci">struct global_data_all_processes All</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8c_source.html#l00047">allvars.c:47</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_aa4facc4127e087413d9c89494c61f699"><div class="ttname"><a href="structglobal__data__all__processes.html#aa4facc4127e087413d9c89494c61f699">global_data_all_processes::AggregatedIOThreshold</a></div><div class="ttdeci">size_t AggregatedIOThreshold</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00177">allvars.h:177</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="petaio_8h_a2398ab5c3e8c8475d7c625fcac182c5b_cgraph.svg" width="612" height="490"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="petaio_8h_a2398ab5c3e8c8475d7c625fcac182c5b_icgraph.svg" width="122" height="518"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a375e118ac0a9723ee7a157edc2d1e1ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a375e118ac0a9723ee7a157edc2d1e1ed">&#9670;&nbsp;</a></span>petaio_read_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int petaio_read_block </td>
          <td>(</td>
          <td class="paramtype">BigFile *&#160;</td>
          <td class="paramname"><em>bf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>blockname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BigArray *&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>required</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8c_source.html#l00680">680</a> of file <a class="el" href="petaio_8c_source.html">petaio.c</a>.</p>

<p class="reference">References <a class="el" href="allvars_8c_source.html#l00047">All</a>, <a class="el" href="endrun_8c_source.html#l00210">endrun()</a>, <a class="el" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">global_data_all_processes::IO</a>, and <a class="el" href="allvars_8h_source.html#l00174">global_data_all_processes::NumWriters</a>.</p>

<p class="reference">Referenced by <a class="el" href="petaio_8c_source.html#l00278">petaio_read_internal()</a>, and <a class="el" href="petaio_8c_source.html#l00178">petaio_read_neutrinos()</a>.</p>
<div class="fragment"><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                                                                                      {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    BigBlock bb;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    BigBlockPtr ptr;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="comment">/* open the block */</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">if</span>(0 != big_file_mpi_open_block(bf, &amp;bb, blockname, MPI_COMM_WORLD)) {</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="structIOTableEntry.html#abd017805b410e444ec76f0633c530ea4">required</a>)</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(0, <span class="stringliteral">&quot;Failed to open block at %s:%s\n&quot;</span>, blockname, big_file_get_error_message());</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span>(0 != big_block_seek(&amp;bb, &amp;ptr, 0)) {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(1, <span class="stringliteral">&quot;Failed to seek block %s: %s\n&quot;</span>, blockname, big_file_get_error_message());</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    }</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordflow">if</span>(0 != big_block_mpi_read(&amp;bb, &amp;ptr, array, <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">IO</a>.<a class="code" href="structglobal__data__all__processes.html#a4d99ec84999d84b8be7b55e94b2301fb">NumWriters</a>, MPI_COMM_WORLD)) {</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(1, <span class="stringliteral">&quot;Failed to read from block %s: %s\n&quot;</span>, blockname, big_file_get_error_message());</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">if</span>(0 != big_block_mpi_close(&amp;bb, MPI_COMM_WORLD)) {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(0, <span class="stringliteral">&quot;Failed to close block at %s:%s\n&quot;</span>, blockname,</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                    big_file_get_error_message());</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    }</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;}</div><div class="ttc" id="endrun_8c_html_ad963d7efdb9f10f7a2298c8ccd222ab0"><div class="ttname"><a href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a></div><div class="ttdeci">void endrun(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00210">endrun.c:210</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_a4d99ec84999d84b8be7b55e94b2301fb"><div class="ttname"><a href="structglobal__data__all__processes.html#a4d99ec84999d84b8be7b55e94b2301fb">global_data_all_processes::NumWriters</a></div><div class="ttdeci">int NumWriters</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00174">allvars.h:174</a></div></div>
<div class="ttc" id="structIOTableEntry_html_abd017805b410e444ec76f0633c530ea4"><div class="ttname"><a href="structIOTableEntry.html#abd017805b410e444ec76f0633c530ea4">IOTableEntry::required</a></div><div class="ttdeci">int required</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00015">petaio.h:15</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_a8c3cca19887372015be491f6110daab4"><div class="ttname"><a href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">global_data_all_processes::IO</a></div><div class="ttdeci">struct global_data_all_processes::@0 IO</div></div>
<div class="ttc" id="allvars_8c_html_ad49123ae0461ffe61629a0d4cf2ba91f"><div class="ttname"><a href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a></div><div class="ttdeci">struct global_data_all_processes All</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8c_source.html#l00047">allvars.c:47</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="petaio_8h_a375e118ac0a9723ee7a157edc2d1e1ed_cgraph.svg" width="388" height="287"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="petaio_8h_a375e118ac0a9723ee7a157edc2d1e1ed_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac7b533afc766345881d11628147375db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7b533afc766345881d11628147375db">&#9670;&nbsp;</a></span>petaio_read_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void petaio_read_header </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8c_source.html#l00405">405</a> of file <a class="el" href="petaio_8c_source.html">petaio.c</a>.</p>

<p class="reference">References <a class="el" href="allvars_8c_source.html#l00047">All</a>, <a class="el" href="endrun_8c_source.html#l00210">endrun()</a>, <a class="el" href="utils-string_8c_source.html#l00070">fastpm_strdup_printf()</a>, <a class="el" href="allvars_8h_source.html#l00344">global_data_all_processes::InitCondFile</a>, <a class="el" href="endrun_8c_source.html#l00226">message()</a>, <a class="el" href="allvars_8h_source.html#l00344">global_data_all_processes::OutputDir</a>, <a class="el" href="petaio_8c_source.html#l00538">petaio_read_header_internal()</a>, and <a class="el" href="allvars_8h_source.html#l00344">global_data_all_processes::SnapshotFileBase</a>.</p>

<p class="reference">Referenced by <a class="el" href="begrun_8c_source.html#l00050">begrun()</a>.</p>
<div class="fragment"><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;{</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    BigFile bf = {0};</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordtype">char</span> * fname;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span>(num == -1) {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        fname = <a class="code" href="utils-string_8c.html#a787c3b0717214d830c69b7e8785a3e33">fastpm_strdup_printf</a>(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#adacd2b54a924bb4ce144afc1abbc6138">InitCondFile</a>);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        fname = <a class="code" href="utils-string_8c.html#a787c3b0717214d830c69b7e8785a3e33">fastpm_strdup_printf</a>(<span class="stringliteral">&quot;%s/%s_%03d&quot;</span>, <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#aebda5d1b80cfb767b9668d7858c36bcc">OutputDir</a>, <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a4bcf5b5c31545691038015af9ae9acb3">SnapshotFileBase</a>, num);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a>(0, <span class="stringliteral">&quot;Probing Header of snapshot file: %s\n&quot;</span>, fname);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span>(0 != big_file_mpi_open(&amp;bf, fname, MPI_COMM_WORLD)) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(0, <span class="stringliteral">&quot;Failed to open snapshot at %s:%s\n&quot;</span>, fname,</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    big_file_get_error_message());</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="petaio_8c.html#a5a2e417f5dcdfeaed4beff4b41d87836">petaio_read_header_internal</a>(&amp;bf);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">if</span>(0 != big_file_mpi_close(&amp;bf, MPI_COMM_WORLD)) {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(0, <span class="stringliteral">&quot;Failed to close snapshot at %s:%s\n&quot;</span>, fname,</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                    big_file_get_error_message());</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    free(fname);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div><div class="ttc" id="endrun_8c_html_ad963d7efdb9f10f7a2298c8ccd222ab0"><div class="ttname"><a href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a></div><div class="ttdeci">void endrun(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00210">endrun.c:210</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_adacd2b54a924bb4ce144afc1abbc6138"><div class="ttname"><a href="structglobal__data__all__processes.html#adacd2b54a924bb4ce144afc1abbc6138">global_data_all_processes::InitCondFile</a></div><div class="ttdeci">char InitCondFile[100]</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00344">allvars.h:344</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_a4bcf5b5c31545691038015af9ae9acb3"><div class="ttname"><a href="structglobal__data__all__processes.html#a4bcf5b5c31545691038015af9ae9acb3">global_data_all_processes::SnapshotFileBase</a></div><div class="ttdeci">char SnapshotFileBase[100]</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00344">allvars.h:344</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_aebda5d1b80cfb767b9668d7858c36bcc"><div class="ttname"><a href="structglobal__data__all__processes.html#aebda5d1b80cfb767b9668d7858c36bcc">global_data_all_processes::OutputDir</a></div><div class="ttdeci">char OutputDir[100]</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00344">allvars.h:344</a></div></div>
<div class="ttc" id="petaio_8c_html_a5a2e417f5dcdfeaed4beff4b41d87836"><div class="ttname"><a href="petaio_8c.html#a5a2e417f5dcdfeaed4beff4b41d87836">petaio_read_header_internal</a></div><div class="ttdeci">static void petaio_read_header_internal(BigFile *bf)</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8c_source.html#l00538">petaio.c:538</a></div></div>
<div class="ttc" id="endrun_8c_html_a6567cd867c5549fb6586e19ccd819764"><div class="ttname"><a href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a></div><div class="ttdeci">void message(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00226">endrun.c:226</a></div></div>
<div class="ttc" id="utils-string_8c_html_a787c3b0717214d830c69b7e8785a3e33"><div class="ttname"><a href="utils-string_8c.html#a787c3b0717214d830c69b7e8785a3e33">fastpm_strdup_printf</a></div><div class="ttdeci">char * fastpm_strdup_printf(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="utils-string_8c_source.html#l00070">utils-string.c:70</a></div></div>
<div class="ttc" id="allvars_8c_html_ad49123ae0461ffe61629a0d4cf2ba91f"><div class="ttname"><a href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a></div><div class="ttdeci">struct global_data_all_processes All</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8c_source.html#l00047">allvars.c:47</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="petaio_8h_ac7b533afc766345881d11628147375db_cgraph.svg" width="571" height="518"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="petaio_8h_ac7b533afc766345881d11628147375db_icgraph.svg" width="146" height="518"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3dd52bd7a320fa9ef1c7963d060ae4ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dd52bd7a320fa9ef1c7963d060ae4ec">&#9670;&nbsp;</a></span>petaio_read_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void petaio_read_snapshot </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8c_source.html#l00432">432</a> of file <a class="el" href="petaio_8c_source.html">petaio.c</a>.</p>

<p class="reference">References <a class="el" href="allvars_8h_source.html#l00272">global_data_all_processes::a</a>, <a class="el" href="allvars_8c_source.html#l00047">All</a>, <a class="el" href="structglobal__data__all__processes.html#acaade52dd90345a82fb376c50b679208">global_data_all_processes::cf</a>, <a class="el" href="utils-string_8c_source.html#l00070">fastpm_strdup_printf()</a>, <a class="el" href="allvars_8h_source.html#l00344">global_data_all_processes::InitCondFile</a>, <a class="el" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">global_data_all_processes::IO</a>, <a class="el" href="allvars_8h_source.html#l00161">global_data_all_processes::MassTable</a>, <a class="el" href="partmanager_8h_source.html#l00093">part_manager_type::NumPart</a>, <a class="el" href="allvars_8h_source.html#l00344">global_data_all_processes::OutputDir</a>, <a class="el" href="partmanager_8h_source.html#l00099">P</a>, <a class="el" href="partmanager_8c_source.html#l00009">PartManager</a>, <a class="el" href="petaio_8c_source.html#l00278">petaio_read_internal()</a>, <a class="el" href="allvars_8h_source.html#l00344">global_data_all_processes::SnapshotFileBase</a>, and <a class="el" href="allvars_8h_source.html#l00178">global_data_all_processes::UsePeculiarVelocity</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8c_source.html#l00040">init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;{</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordtype">char</span> * fname;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">if</span>(num == -1) {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        fname = <a class="code" href="utils-string_8c.html#a787c3b0717214d830c69b7e8785a3e33">fastpm_strdup_printf</a>(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#adacd2b54a924bb4ce144afc1abbc6138">InitCondFile</a>);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">         *  IC doesn&#39;t have entropy or energy; always use the</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">         *  InitTemp in paramfile, then use init.c to convert to</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">         *  entropy.</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">         * */</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <a class="code" href="petaio_8c.html#aaa9eefdbfea91c08aa366767aac96a69">petaio_read_internal</a>(fname, 1);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="comment">/* touch up the mass -- IC files save mass in header */</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="partmanager_8c.html#a6cef44682776e476d8f9f1b9e1f9fe16">PartManager</a>-&gt;<a class="code" href="structpart__manager__type.html#ae19becfa10cbd680504de1eb3577cb75">NumPart</a>; i++)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].Mass = <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a0d1dbe97a03958559781d9619f8b17c1">MassTable</a>[<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].Type];</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">IO</a>.<a class="code" href="structglobal__data__all__processes.html#a39039132bb0af83ffdf7729395596fe6">UsePeculiarVelocity</a> ) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <span class="comment">/* fixing the unit of velocity from Legacy GenIC IC */</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="preprocessor">            #pragma omp parallel for</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="partmanager_8c.html#a6cef44682776e476d8f9f1b9e1f9fe16">PartManager</a>-&gt;<a class="code" href="structpart__manager__type.html#ae19becfa10cbd680504de1eb3577cb75">NumPart</a>; i++) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                <span class="keywordtype">int</span> k;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                <span class="comment">/* for GenIC&#39;s Gadget-1 snapshot Unit to Gadget-2 Internal velocity unit */</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                <span class="keywordflow">for</span>(k = 0; k &lt; 3; k++)</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                    <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].Vel[k] *= sqrt(<a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#acaade52dd90345a82fb376c50b679208">cf</a>.<a class="code" href="structglobal__data__all__processes.html#a71bdf66906b22a7e7fd51a938052f8c8">a</a>) * <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#acaade52dd90345a82fb376c50b679208">cf</a>.<a class="code" href="structglobal__data__all__processes.html#a71bdf66906b22a7e7fd51a938052f8c8">a</a>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        fname = <a class="code" href="utils-string_8c.html#a787c3b0717214d830c69b7e8785a3e33">fastpm_strdup_printf</a>(<span class="stringliteral">&quot;%s/%s_%03d&quot;</span>, <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#aebda5d1b80cfb767b9668d7858c36bcc">OutputDir</a>, <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a4bcf5b5c31545691038015af9ae9acb3">SnapshotFileBase</a>, num);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">         * we always save the Entropy, init.c will not mess with the entropy</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">         * */</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <a class="code" href="petaio_8c.html#aaa9eefdbfea91c08aa366767aac96a69">petaio_read_internal</a>(fname, 0);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    free(fname);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;}</div><div class="ttc" id="partmanager_8h_html_a2748566f4c443ee77aa831e63dbb5ebe"><div class="ttname"><a href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a></div><div class="ttdeci">#define P</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00099">partmanager.h:99</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_adacd2b54a924bb4ce144afc1abbc6138"><div class="ttname"><a href="structglobal__data__all__processes.html#adacd2b54a924bb4ce144afc1abbc6138">global_data_all_processes::InitCondFile</a></div><div class="ttdeci">char InitCondFile[100]</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00344">allvars.h:344</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_a4bcf5b5c31545691038015af9ae9acb3"><div class="ttname"><a href="structglobal__data__all__processes.html#a4bcf5b5c31545691038015af9ae9acb3">global_data_all_processes::SnapshotFileBase</a></div><div class="ttdeci">char SnapshotFileBase[100]</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00344">allvars.h:344</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_a0d1dbe97a03958559781d9619f8b17c1"><div class="ttname"><a href="structglobal__data__all__processes.html#a0d1dbe97a03958559781d9619f8b17c1">global_data_all_processes::MassTable</a></div><div class="ttdeci">double MassTable[6]</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00161">allvars.h:161</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_a8c3cca19887372015be491f6110daab4"><div class="ttname"><a href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">global_data_all_processes::IO</a></div><div class="ttdeci">struct global_data_all_processes::@0 IO</div></div>
<div class="ttc" id="structglobal__data__all__processes_html_a71bdf66906b22a7e7fd51a938052f8c8"><div class="ttname"><a href="structglobal__data__all__processes.html#a71bdf66906b22a7e7fd51a938052f8c8">global_data_all_processes::a</a></div><div class="ttdeci">double a</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00272">allvars.h:272</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_acaade52dd90345a82fb376c50b679208"><div class="ttname"><a href="structglobal__data__all__processes.html#acaade52dd90345a82fb376c50b679208">global_data_all_processes::cf</a></div><div class="ttdeci">struct global_data_all_processes::@1 cf</div></div>
<div class="ttc" id="structpart__manager__type_html_ae19becfa10cbd680504de1eb3577cb75"><div class="ttname"><a href="structpart__manager__type.html#ae19becfa10cbd680504de1eb3577cb75">part_manager_type::NumPart</a></div><div class="ttdeci">int NumPart</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00093">partmanager.h:93</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_aebda5d1b80cfb767b9668d7858c36bcc"><div class="ttname"><a href="structglobal__data__all__processes.html#aebda5d1b80cfb767b9668d7858c36bcc">global_data_all_processes::OutputDir</a></div><div class="ttdeci">char OutputDir[100]</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00344">allvars.h:344</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_a39039132bb0af83ffdf7729395596fe6"><div class="ttname"><a href="structglobal__data__all__processes.html#a39039132bb0af83ffdf7729395596fe6">global_data_all_processes::UsePeculiarVelocity</a></div><div class="ttdeci">int UsePeculiarVelocity</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00178">allvars.h:178</a></div></div>
<div class="ttc" id="petaio_8c_html_aaa9eefdbfea91c08aa366767aac96a69"><div class="ttname"><a href="petaio_8c.html#aaa9eefdbfea91c08aa366767aac96a69">petaio_read_internal</a></div><div class="ttdeci">void petaio_read_internal(char *fname, int ic)</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8c_source.html#l00278">petaio.c:278</a></div></div>
<div class="ttc" id="utils-string_8c_html_a787c3b0717214d830c69b7e8785a3e33"><div class="ttname"><a href="utils-string_8c.html#a787c3b0717214d830c69b7e8785a3e33">fastpm_strdup_printf</a></div><div class="ttdeci">char * fastpm_strdup_printf(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="utils-string_8c_source.html#l00070">utils-string.c:70</a></div></div>
<div class="ttc" id="partmanager_8c_html_a6cef44682776e476d8f9f1b9e1f9fe16"><div class="ttname"><a href="partmanager_8c.html#a6cef44682776e476d8f9f1b9e1f9fe16">PartManager</a></div><div class="ttdeci">struct part_manager_type PartManager[1]</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8c_source.html#l00009">partmanager.c:9</a></div></div>
<div class="ttc" id="allvars_8c_html_ad49123ae0461ffe61629a0d4cf2ba91f"><div class="ttname"><a href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a></div><div class="ttdeci">struct global_data_all_processes All</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8c_source.html#l00047">allvars.c:47</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="petaio_8h_a3dd52bd7a320fa9ef1c7963d060ae4ec_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="petaio_8h_a3dd52bd7a320fa9ef1c7963d060ae4ec_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="acfbe2137aa21a8042aadf9c8621212f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfbe2137aa21a8042aadf9c8621212f9">&#9670;&nbsp;</a></span>petaio_readout_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void petaio_readout_buffer </td>
          <td>(</td>
          <td class="paramtype">BigArray *&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structIOTableEntry.html">IOTableEntry</a> *&#160;</td>
          <td class="paramname"><em>ent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8c_source.html#l00624">624</a> of file <a class="el" href="petaio_8c_source.html">petaio.c</a>.</p>

<p class="reference">References <a class="el" href="partmanager_8h_source.html#l00093">part_manager_type::NumPart</a>, <a class="el" href="partmanager_8h_source.html#l00099">P</a>, <a class="el" href="partmanager_8c_source.html#l00009">PartManager</a>, <a class="el" href="petaio_8h_source.html#l00012">IOTableEntry::ptype</a>, and <a class="el" href="petaio_8h_source.html#l00017">IOTableEntry::setter</a>.</p>

<p class="reference">Referenced by <a class="el" href="petaio_8c_source.html#l00278">petaio_read_internal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                                                                 {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="comment">/* fill the buffer */</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordtype">char</span> * p = array-&gt;data;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="partmanager_8c.html#a6cef44682776e476d8f9f1b9e1f9fe16">PartManager</a>-&gt;<a class="code" href="structpart__manager__type.html#ae19becfa10cbd680504de1eb3577cb75">NumPart</a>; i ++) {</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].Type != ent-&gt;<a class="code" href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">ptype</a>) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        ent-&gt;<a class="code" href="structIOTableEntry.html#aca5a071ce97564cf069f4c1bbbe15894">setter</a>(i, p);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        p += array-&gt;strides[0];</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;}</div><div class="ttc" id="partmanager_8h_html_a2748566f4c443ee77aa831e63dbb5ebe"><div class="ttname"><a href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a></div><div class="ttdeci">#define P</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00099">partmanager.h:99</a></div></div>
<div class="ttc" id="structIOTableEntry_html_aca5a071ce97564cf069f4c1bbbe15894"><div class="ttname"><a href="structIOTableEntry.html#aca5a071ce97564cf069f4c1bbbe15894">IOTableEntry::setter</a></div><div class="ttdeci">property_setter setter</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00017">petaio.h:17</a></div></div>
<div class="ttc" id="structIOTableEntry_html_ab5ee266f94a60e5b12aab7c40b267c87"><div class="ttname"><a href="structIOTableEntry.html#ab5ee266f94a60e5b12aab7c40b267c87">IOTableEntry::ptype</a></div><div class="ttdeci">int ptype</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8h_source.html#l00012">petaio.h:12</a></div></div>
<div class="ttc" id="structpart__manager__type_html_ae19becfa10cbd680504de1eb3577cb75"><div class="ttname"><a href="structpart__manager__type.html#ae19becfa10cbd680504de1eb3577cb75">part_manager_type::NumPart</a></div><div class="ttdeci">int NumPart</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00093">partmanager.h:93</a></div></div>
<div class="ttc" id="partmanager_8c_html_a6cef44682776e476d8f9f1b9e1f9fe16"><div class="ttname"><a href="partmanager_8c.html#a6cef44682776e476d8f9f1b9e1f9fe16">PartManager</a></div><div class="ttdeci">struct part_manager_type PartManager[1]</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8c_source.html#l00009">partmanager.c:9</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="petaio_8h_acfbe2137aa21a8042aadf9c8621212f9_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a8d4abd78b70e4a1dfbed5db05cd89073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d4abd78b70e4a1dfbed5db05cd89073">&#9670;&nbsp;</a></span>petaio_save_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void petaio_save_block </td>
          <td>(</td>
          <td class="paramtype">BigFile *&#160;</td>
          <td class="paramname"><em>bf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>blockname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BigArray *&#160;</td>
          <td class="paramname"><em>array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8c_source.html#l00705">705</a> of file <a class="el" href="petaio_8c_source.html">petaio.c</a>.</p>

<p class="reference">References <a class="el" href="allvars_8c_source.html#l00047">All</a>, <a class="el" href="allvars_8h_source.html#l00172">global_data_all_processes::BytesPerFile</a>, <a class="el" href="system_8c_source.html#l00215">count_sum()</a>, <a class="el" href="allvars_8h_source.html#l00176">global_data_all_processes::EnableAggregatedIO</a>, <a class="el" href="endrun_8c_source.html#l00210">endrun()</a>, <a class="el" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">global_data_all_processes::IO</a>, <a class="el" href="endrun_8c_source.html#l00226">message()</a>, <a class="el" href="allvars_8h_source.html#l00175">global_data_all_processes::MinNumWriters</a>, <a class="el" href="allvars_8h_source.html#l00174">global_data_all_processes::NumWriters</a>, <a class="el" href="make__zeros_8py_source.html#l00006">make_zeros::size</a>, and <a class="el" href="allvars_8h_source.html#l00173">global_data_all_processes::WritersPerFile</a>.</p>

<p class="reference">Referenced by <a class="el" href="fofpetaio_8c_source.html#l00046">fof_save_particles()</a>, <a class="el" href="petaio_8c_source.html#l00232">petaio_save_internal()</a>, and <a class="el" href="petaio_8c_source.html#l00135">petaio_save_neutrinos()</a>.</p>
<div class="fragment"><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;{</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    BigBlock bb;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    BigBlockPtr ptr;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordtype">int</span> elsize = dtype_itemsize(array-&gt;dtype);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordtype">int</span> NumWriters = <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">IO</a>.<a class="code" href="structglobal__data__all__processes.html#a4d99ec84999d84b8be7b55e94b2301fb">NumWriters</a>;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="namespacemake__zeros.html#a5a378c460c2a12be3a58ac2e687852d9">size</a> = <a class="code" href="system_8c.html#a1d471d98379273269e8045d2998eca73">count_sum</a>(array-&gt;dims[0]);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordtype">int</span> NumFiles;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">IO</a>.<a class="code" href="structglobal__data__all__processes.html#a2bf1cbf159cd0d2559a29c80463b482d">EnableAggregatedIO</a>) {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        NumFiles = (size * elsize + <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">IO</a>.<a class="code" href="structglobal__data__all__processes.html#a7ee356ec00b15cb648c326b27992aded">BytesPerFile</a> - 1) / <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">IO</a>.<a class="code" href="structglobal__data__all__processes.html#a7ee356ec00b15cb648c326b27992aded">BytesPerFile</a>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <span class="keywordflow">if</span>(NumWriters &gt; NumFiles * <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">IO</a>.<a class="code" href="structglobal__data__all__processes.html#a8ff43f43100e9814fd795bf1511f08b6">WritersPerFile</a>) {</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            NumWriters = NumFiles * <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">IO</a>.<a class="code" href="structglobal__data__all__processes.html#a8ff43f43100e9814fd795bf1511f08b6">WritersPerFile</a>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <a class="code" href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a>(0, <span class="stringliteral">&quot;Throttling NumWriters to %d.\n&quot;</span>, NumWriters);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        }</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="keywordflow">if</span>(NumWriters &lt; <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">IO</a>.<a class="code" href="structglobal__data__all__processes.html#a1e7e2402c5b2f40a4f496f91ffa843b6">MinNumWriters</a>) {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            NumWriters = <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">IO</a>.<a class="code" href="structglobal__data__all__processes.html#a1e7e2402c5b2f40a4f496f91ffa843b6">MinNumWriters</a>;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            NumFiles = (NumWriters + <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">IO</a>.<a class="code" href="structglobal__data__all__processes.html#a8ff43f43100e9814fd795bf1511f08b6">WritersPerFile</a> - 1) / <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">IO</a>.<a class="code" href="structglobal__data__all__processes.html#a8ff43f43100e9814fd795bf1511f08b6">WritersPerFile</a> ;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            <a class="code" href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a>(0, <span class="stringliteral">&quot;Throttling NumWriters to %d.\n&quot;</span>, NumWriters);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        }</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        NumFiles = NumWriters;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="comment">/*Do not write empty files*/</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">if</span>(size == 0) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        NumFiles = 0;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">if</span>(size &gt; 0) {</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <a class="code" href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a>(0, <span class="stringliteral">&quot;Will write %td particles to %d Files for %s\n&quot;</span>, size, NumFiles, blockname);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    }</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="comment">/* create the block */</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="comment">/* dims[1] is the number of members per item */</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">if</span>(0 != big_file_mpi_create_block(bf, &amp;bb, blockname, array-&gt;dtype, array-&gt;dims[1], NumFiles, size, MPI_COMM_WORLD)) {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(0, <span class="stringliteral">&quot;Failed to create block at %s:%s\n&quot;</span>, blockname,</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                    big_file_get_error_message());</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">if</span>(0 != big_block_seek(&amp;bb, &amp;ptr, 0)) {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(0, <span class="stringliteral">&quot;Failed to seek:%s\n&quot;</span>, big_file_get_error_message());</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    }</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">if</span>(0 != big_block_mpi_write(&amp;bb, &amp;ptr, array, NumWriters, MPI_COMM_WORLD)) {</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(0, <span class="stringliteral">&quot;Failed to write :%s\n&quot;</span>, big_file_get_error_message());</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    }</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordflow">if</span>(size &gt; 0)</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <a class="code" href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a>(0, <span class="stringliteral">&quot;Done writing %td particles to %d Files\n&quot;</span>, size, NumFiles);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">if</span>(0 != big_block_mpi_close(&amp;bb, MPI_COMM_WORLD)) {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(0, <span class="stringliteral">&quot;Failed to close block at %s:%s\n&quot;</span>, blockname,</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                big_file_get_error_message());</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    }</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;}</div><div class="ttc" id="system_8c_html_a1d471d98379273269e8045d2998eca73"><div class="ttname"><a href="system_8c.html#a1d471d98379273269e8045d2998eca73">count_sum</a></div><div class="ttdeci">int64_t count_sum(int64_t countLocal)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00215">system.c:215</a></div></div>
<div class="ttc" id="endrun_8c_html_ad963d7efdb9f10f7a2298c8ccd222ab0"><div class="ttname"><a href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a></div><div class="ttdeci">void endrun(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00210">endrun.c:210</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_a4d99ec84999d84b8be7b55e94b2301fb"><div class="ttname"><a href="structglobal__data__all__processes.html#a4d99ec84999d84b8be7b55e94b2301fb">global_data_all_processes::NumWriters</a></div><div class="ttdeci">int NumWriters</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00174">allvars.h:174</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_a7ee356ec00b15cb648c326b27992aded"><div class="ttname"><a href="structglobal__data__all__processes.html#a7ee356ec00b15cb648c326b27992aded">global_data_all_processes::BytesPerFile</a></div><div class="ttdeci">size_t BytesPerFile</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00172">allvars.h:172</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_a8c3cca19887372015be491f6110daab4"><div class="ttname"><a href="structglobal__data__all__processes.html#a8c3cca19887372015be491f6110daab4">global_data_all_processes::IO</a></div><div class="ttdeci">struct global_data_all_processes::@0 IO</div></div>
<div class="ttc" id="structglobal__data__all__processes_html_a2bf1cbf159cd0d2559a29c80463b482d"><div class="ttname"><a href="structglobal__data__all__processes.html#a2bf1cbf159cd0d2559a29c80463b482d">global_data_all_processes::EnableAggregatedIO</a></div><div class="ttdeci">int EnableAggregatedIO</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00176">allvars.h:176</a></div></div>
<div class="ttc" id="namespacemake__zeros_html_a5a378c460c2a12be3a58ac2e687852d9"><div class="ttname"><a href="namespacemake__zeros.html#a5a378c460c2a12be3a58ac2e687852d9">make_zeros.size</a></div><div class="ttdeci">size</div><div class="ttdef"><b>Definition:</b> <a href="make__zeros_8py_source.html#l00006">make_zeros.py:6</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_a8ff43f43100e9814fd795bf1511f08b6"><div class="ttname"><a href="structglobal__data__all__processes.html#a8ff43f43100e9814fd795bf1511f08b6">global_data_all_processes::WritersPerFile</a></div><div class="ttdeci">int WritersPerFile</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00173">allvars.h:173</a></div></div>
<div class="ttc" id="endrun_8c_html_a6567cd867c5549fb6586e19ccd819764"><div class="ttname"><a href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a></div><div class="ttdeci">void message(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00226">endrun.c:226</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_a1e7e2402c5b2f40a4f496f91ffa843b6"><div class="ttname"><a href="structglobal__data__all__processes.html#a1e7e2402c5b2f40a4f496f91ffa843b6">global_data_all_processes::MinNumWriters</a></div><div class="ttdeci">int MinNumWriters</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00175">allvars.h:175</a></div></div>
<div class="ttc" id="allvars_8c_html_ad49123ae0461ffe61629a0d4cf2ba91f"><div class="ttname"><a href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a></div><div class="ttdeci">struct global_data_all_processes All</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8c_source.html#l00047">allvars.c:47</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="petaio_8h_a8d4abd78b70e4a1dfbed5db05cd89073_cgraph.svg" width="384" height="310"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="petaio_8h_a8d4abd78b70e4a1dfbed5db05cd89073_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3cafe68cc20536a835f9e31febee2a7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cafe68cc20536a835f9e31febee2a7f">&#9670;&nbsp;</a></span>petaio_save_restart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void petaio_save_restart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a91ff9324adbdc5b2652db62e161042b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91ff9324adbdc5b2652db62e161042b8">&#9670;&nbsp;</a></span>petaio_save_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void petaio_save_snapshot </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="petaio_8c_source.html#l00061">61</a> of file <a class="el" href="petaio_8c_source.html">petaio.c</a>.</p>

<p class="reference">References <a class="el" href="endrun_8c_source.html#l00226">message()</a>, and <a class="el" href="petaio_8c_source.html#l00232">petaio_save_internal()</a>.</p>

<p class="reference">Referenced by <a class="el" href="io_8c_source.html#l00050">dump_snapshot()</a>, <a class="el" href="runtests_8c_source.html#l00027">runtests()</a>, and <a class="el" href="io_8c_source.html#l00056">write_snapshot()</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    va_list va;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    va_start(va, fmt);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordtype">char</span> fname[4096];</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    vsprintf(fname, fmt, va);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    va_end(va);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a>(0, <span class="stringliteral">&quot;saving snapshot into %s\n&quot;</span>, fname);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="petaio_8c.html#a9b867bd3e997c113f67500b40a7aa593">petaio_save_internal</a>(fname);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div><div class="ttc" id="petaio_8c_html_a9b867bd3e997c113f67500b40a7aa593"><div class="ttname"><a href="petaio_8c.html#a9b867bd3e997c113f67500b40a7aa593">petaio_save_internal</a></div><div class="ttdeci">static void petaio_save_internal(char *fname)</div><div class="ttdef"><b>Definition:</b> <a href="petaio_8c_source.html#l00232">petaio.c:232</a></div></div>
<div class="ttc" id="endrun_8c_html_a6567cd867c5549fb6586e19ccd819764"><div class="ttname"><a href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a></div><div class="ttdeci">void message(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00226">endrun.c:226</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="petaio_8h_a91ff9324adbdc5b2652db62e161042b8_cgraph.svg" width="654" height="518"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="petaio_8h_a91ff9324adbdc5b2652db62e161042b8_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a916261b1063dddc69dc1e39bf35fab02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a916261b1063dddc69dc1e39bf35fab02">&#9670;&nbsp;</a></span>IOTable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structIOTable.html">IOTable</a>  <a class="el" href="structIOTable.html">IOTable</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
