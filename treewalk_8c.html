<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MP-Gadget: treewalk.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MP-Gadget
   &#160;<span id="projectnumber">5.0.0.dev0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">treewalk.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;mpi.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="allvars_8h_source.html">allvars.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="partmanager_8h_source.html">partmanager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="treewalk_8h_source.html">treewalk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="drift_8h_source.html">drift.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="openmpsort_8h_source.html">openmpsort.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mymalloc_8h_source.html">mymalloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="domain_8h_source.html">domain.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="forcetree_8h_source.html">forcetree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="endrun_8h_source.html">endrun.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="timestep_8h_source.html">timestep.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="system_8h_source.html">system.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for treewalk.c:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c__incl.svg" width="752" height="1051"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="treewalk_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structev__task.html">ev_task</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdata__nodelist.html">data_nodelist</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdata__index.html">data_index</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac1cf5f91aa149ba3ad878f2f3e86a801"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#ac1cf5f91aa149ba3ad878f2f3e86a801">FACT1</a>&#160;&#160;&#160;0.366025403785	/* FACT1 = 0.5 * (sqrt(3)-1) */</td></tr>
<tr class="separator:ac1cf5f91aa149ba3ad878f2f3e86a801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed0c1059b6964fa09322aab11fe692f8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#aed0c1059b6964fa09322aab11fe692f8">WATCH</a></td></tr>
<tr class="separator:aed0c1059b6964fa09322aab11fe692f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af906cc0eb36b216610435df321d8e7e3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#af906cc0eb36b216610435df321d8e7e3">ev_init_thread</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw, <a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *lv)</td></tr>
<tr class="separator:af906cc0eb36b216610435df321d8e7e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7edd63d2fb245e7afbd292dcd75863e9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a7edd63d2fb245e7afbd292dcd75863e9">fill_task_queue</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw, struct <a class="el" href="structev__task.html">ev_task</a> *tq, int *pq, int length)</td></tr>
<tr class="separator:a7edd63d2fb245e7afbd292dcd75863e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace9d4cc74131168498c47dc85ffc865e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#ace9d4cc74131168498c47dc85ffc865e">ev_begin</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw, int *active_set, int size)</td></tr>
<tr class="separator:ace9d4cc74131168498c47dc85ffc865e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a183c4217393b49949352febbde1cc1f2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a183c4217393b49949352febbde1cc1f2">ev_finish</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw)</td></tr>
<tr class="separator:a183c4217393b49949352febbde1cc1f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5341d99d76201774516d5e551dc1c559"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a5341d99d76201774516d5e551dc1c559">ev_primary</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw)</td></tr>
<tr class="separator:a5341d99d76201774516d5e551dc1c559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a587df5201e3b9d6608189f9c606c2633"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a587df5201e3b9d6608189f9c606c2633">ev_get_remote</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw)</td></tr>
<tr class="separator:a587df5201e3b9d6608189f9c606c2633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c043b95263071bc974da1c1cefc0a57"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a6c043b95263071bc974da1c1cefc0a57">ev_secondary</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw)</td></tr>
<tr class="separator:a6c043b95263071bc974da1c1cefc0a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe78385cec6aabfdd65e6c619a307ef3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#afe78385cec6aabfdd65e6c619a307ef3">ev_reduce_result</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw)</td></tr>
<tr class="separator:afe78385cec6aabfdd65e6c619a307ef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf470724936367dfc728a10b83152bf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#aecf470724936367dfc728a10b83152bf">ev_ndone</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw)</td></tr>
<tr class="separator:aecf470724936367dfc728a10b83152bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc6089194059b0f1caf76ac3475adb29"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#adc6089194059b0f1caf76ac3475adb29">treewalk_build_queue</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw, int *active_set, int size)</td></tr>
<tr class="separator:adc6089194059b0f1caf76ac3475adb29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0d5f93870c52e50dbfb34df996ee776"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#ab0d5f93870c52e50dbfb34df996ee776">ngb_treefind_threads</a> (<a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *I, <a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *O, <a class="el" href="structTreeWalkNgbIterBase.html">TreeWalkNgbIterBase</a> *iter, int startnode, <a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *lv)</td></tr>
<tr class="separator:ab0d5f93870c52e50dbfb34df996ee776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29856852f0c0d76a35dc519a87c1fa17"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a29856852f0c0d76a35dc519a87c1fa17">data_index_compare</a> (const void *a, const void *b)</td></tr>
<tr class="separator:a29856852f0c0d76a35dc519a87c1fa17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8756da05f289b9a4b4875ab58c4ba0bf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a8756da05f289b9a4b4875ab58c4ba0bf">ev_alloc_threadlocals</a> ()</td></tr>
<tr class="separator:a8756da05f289b9a4b4875ab58c4ba0bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aec9dd3728dfa077f70fb077b145ead"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a8aec9dd3728dfa077f70fb077b145ead">ev_free_threadlocals</a> ()</td></tr>
<tr class="separator:a8aec9dd3728dfa077f70fb077b145ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8619681f7d063183bea07a7d80ac98e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#af8619681f7d063183bea07a7d80ac98e">treewalk_init_query</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw, <a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *query, int i, int *NodeList)</td></tr>
<tr class="separator:af8619681f7d063183bea07a7d80ac98e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a85c8514602df4d3dd61f4ef3e0d48"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#af7a85c8514602df4d3dd61f4ef3e0d48">treewalk_init_result</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw, <a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *result, <a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *query)</td></tr>
<tr class="separator:af7a85c8514602df4d3dd61f4ef3e0d48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d61be6b2bd96daed4c4a17521a0fda"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#ac3d61be6b2bd96daed4c4a17521a0fda">treewalk_reduce_result</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw, <a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *result, int i, enum <a class="el" href="treewalk_8h.html#a504d8280eaa376504899398c68577cef">TreeWalkReduceMode</a> mode)</td></tr>
<tr class="separator:ac3d61be6b2bd96daed4c4a17521a0fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f02f14261da08ead9e42a2fb09495e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#ac1f02f14261da08ead9e42a2fb09495e">real_ev</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw)</td></tr>
<tr class="separator:ac1f02f14261da08ead9e42a2fb09495e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad796f088f1c33bc7994c85e4c93f8585"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#ad796f088f1c33bc7994c85e4c93f8585">treewalk_export_particle</a> (<a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *lv, int no)</td></tr>
<tr class="separator:ad796f088f1c33bc7994c85e4c93f8585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6772bdbc1552278ca7dae6a9adb031d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#aa6772bdbc1552278ca7dae6a9adb031d">treewalk_run</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw, int *active_set, int size)</td></tr>
<tr class="separator:aa6772bdbc1552278ca7dae6a9adb031d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a813df07bf8486b29f23977363a59dea2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a813df07bf8486b29f23977363a59dea2">ev_communicate</a> (void *sendbuf, void *recvbuf, size_t elsize, int import)</td></tr>
<tr class="separator:a813df07bf8486b29f23977363a59dea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4323d8e8e5005a65e1e9bfafc706858"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#ae4323d8e8e5005a65e1e9bfafc706858">data_index_compare_by_index</a> (const void *a, const void *b)</td></tr>
<tr class="separator:ae4323d8e8e5005a65e1e9bfafc706858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a145aa9608fd3824bec8049ee97da1c6f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a145aa9608fd3824bec8049ee97da1c6f">treewalk_visit_ngbiter</a> (<a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *I, <a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *O, <a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *lv)</td></tr>
<tr class="separator:a145aa9608fd3824bec8049ee97da1c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e608e8f599ed84fc1b9e2f6ae1c7ffb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a5e608e8f599ed84fc1b9e2f6ae1c7ffb">cull_node</a> (<a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *I, <a class="el" href="structTreeWalkNgbIterBase.html">TreeWalkNgbIterBase</a> *iter, int no)</td></tr>
<tr class="separator:a5e608e8f599ed84fc1b9e2f6ae1c7ffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ade1b96e6772d0d1ccb06bcbec352b5bd"><td class="memItemLeft" align="right" valign="top">static int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#ade1b96e6772d0d1ccb06bcbec352b5bd">Ngblist</a></td></tr>
<tr class="separator:ade1b96e6772d0d1ccb06bcbec352b5bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43acd135207b8928717a80d461c0da1c"><td class="memItemLeft" align="right" valign="top">static int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a43acd135207b8928717a80d461c0da1c">Exportflag</a></td></tr>
<tr class="separator:a43acd135207b8928717a80d461c0da1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb34022c9e51da1272df23a54dcc5c3c"><td class="memItemLeft" align="right" valign="top">static int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#acb34022c9e51da1272df23a54dcc5c3c">Exportnodecount</a></td></tr>
<tr class="separator:acb34022c9e51da1272df23a54dcc5c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab71b664c73f42ce057c7510e31bc57fe"><td class="memItemLeft" align="right" valign="top">static int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#ab71b664c73f42ce057c7510e31bc57fe">Exportindex</a></td></tr>
<tr class="separator:ab71b664c73f42ce057c7510e31bc57fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d6842f16ab6db63c401244f4b11cbe9"><td class="memItemLeft" align="right" valign="top">static int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a8d6842f16ab6db63c401244f4b11cbe9">Send_offset</a></td></tr>
<tr class="separator:a8d6842f16ab6db63c401244f4b11cbe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1ce32b3af7d102c9bfe189eeeef67d2"><td class="memItemLeft" align="right" valign="top">static int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a></td></tr>
<tr class="separator:ae1ce32b3af7d102c9bfe189eeeef67d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe0df9311f86961bccfea23941bb6513"><td class="memItemLeft" align="right" valign="top">static int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#abe0df9311f86961bccfea23941bb6513">Recv_count</a></td></tr>
<tr class="separator:abe0df9311f86961bccfea23941bb6513"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57d69aeac9f940d210a9e5d4b43952ca"><td class="memItemLeft" align="right" valign="top">static int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a57d69aeac9f940d210a9e5d4b43952ca">Recv_offset</a></td></tr>
<tr class="separator:a57d69aeac9f940d210a9e5d4b43952ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a571736d9ee463ca84af6c4b98079899e"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdata__nodelist.html">data_nodelist</a>  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a></td></tr>
<tr class="separator:a571736d9ee463ca84af6c4b98079899e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf63e880533c73bcbc5ae63dd833459c"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structdata__index.html">data_index</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a></td></tr>
<tr class="separator:adf63e880533c73bcbc5ae63dd833459c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750e759c5d7e555c7ab6015392d5a91b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8c.html#a750e759c5d7e555c7ab6015392d5a91b">GDB_current_ev</a> = NULL</td></tr>
<tr class="separator:a750e759c5d7e555c7ab6015392d5a91b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ac1cf5f91aa149ba3ad878f2f3e86a801"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1cf5f91aa149ba3ad878f2f3e86a801">&#9670;&nbsp;</a></span>FACT1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FACT1&#160;&#160;&#160;0.366025403785	/* FACT1 = 0.5 * (sqrt(3)-1) */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00017">17</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a5e608e8f599ed84fc1b9e2f6ae1c7ffb">cull_node()</a>.</p>

</div>
</div>
<a id="aed0c1059b6964fa09322aab11fe692f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed0c1059b6964fa09322aab11fe692f8">&#9670;&nbsp;</a></span>WATCH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WATCH</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{ \</div><div class="line">        printf(<span class="stringliteral">&quot;tw-&gt;PrimaryTasks[0] = %d %d (%d) %s:%d\n&quot;</span>, tw-&gt;PrimaryTasks[0].top_node, tw-&gt;PrimaryTasks[0].place, tw-&gt;WorkSetSize, __FILE__, __LINE__); \</div><div class="line">    }</div></div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00104">104</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5e608e8f599ed84fc1b9e2f6ae1c7ffb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e608e8f599ed84fc1b9e2f6ae1c7ffb">&#9670;&nbsp;</a></span>cull_node()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cull_node </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTreeWalkNgbIterBase.html">TreeWalkNgbIterBase</a> *&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>no</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Cull a node.</p>
<p>Returns 1 if the node shall be opened; Returns 0 if the node has no business with this query. </p>

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00859">859</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="structNODE.html#a3460a1b4f9607fe15e6adc40a737d947">NODE::center</a>, <a class="el" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">NODE::d</a>, <a class="el" href="allvars_8h.html#a320153e129e2fe4833e5b43935499d3e">DMAX()</a>, <a class="el" href="treewalk_8c.html#ac1cf5f91aa149ba3ad878f2f3e86a801">FACT1</a>, <a class="el" href="structTreeWalkNgbIterBase.html#a633d0a0d40776a7dcef5c6915bda2c56">TreeWalkNgbIterBase::Hsml</a>, <a class="el" href="structNODE.html#ae6d6383dc0bc3e1660bbe700b77a85ab">NODE::len</a>, <a class="el" href="allvars_8h.html#a1094686c363ae3a70dca627763873649">NEAREST</a>, <a class="el" href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13">NGB_TREEFIND_SYMMETRIC</a>, <a class="el" href="forcetree_8c.html#ac46f89ba3715dfa877c2e1b8822da657">Nodes</a>, <a class="el" href="structTreeWalkQueryBase.html#a49a12e5d0c323fc4bda017bf127ff322">TreeWalkQueryBase::Pos</a>, <a class="el" href="structTreeWalkNgbIterBase.html#aebe92fe57ee45b4ada2f95717b7cf12b">TreeWalkNgbIterBase::symmetric</a>, and <a class="el" href="structNODE.html#ac0a7e3bc6d29da84c41010b1336fe9ef">NODE::u</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#ab0d5f93870c52e50dbfb34df996ee776">ngb_treefind_threads()</a>.</p>
<div class="fragment"><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;{</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keyword">struct </span><a class="code" href="structNODE.html">NODE</a> * current = &amp;<a class="code" href="forcetree_8c.html#ac46f89ba3715dfa877c2e1b8822da657">Nodes</a>[no];</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordtype">double</span> dist;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span>(iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#aebe92fe57ee45b4ada2f95717b7cf12b">symmetric</a> == <a class="code" href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13">NGB_TREEFIND_SYMMETRIC</a>) {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        dist = <a class="code" href="allvars_8h.html#a320153e129e2fe4833e5b43935499d3e">DMAX</a>(<a class="code" href="forcetree_8c.html#ac46f89ba3715dfa877c2e1b8822da657">Nodes</a>[no].<a class="code" href="structNODE.html#ac0a7e3bc6d29da84c41010b1336fe9ef">u</a>.d.hmax, iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#a633d0a0d40776a7dcef5c6915bda2c56">Hsml</a>) + 0.5 * current-&gt;<a class="code" href="structNODE.html#ae6d6383dc0bc3e1660bbe700b77a85ab">len</a>;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        dist = iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#a633d0a0d40776a7dcef5c6915bda2c56">Hsml</a> + 0.5 * current-&gt;<a class="code" href="structNODE.html#ae6d6383dc0bc3e1660bbe700b77a85ab">len</a>;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    }</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keywordtype">double</span> r2 = 0;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordtype">double</span> dx = 0;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="comment">/* do each direction */</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">for</span>(d = 0; d &lt; 3; d ++) {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        dx = <a class="code" href="allvars_8h.html#a1094686c363ae3a70dca627763873649">NEAREST</a>(current-&gt;<a class="code" href="structNODE.html#a3460a1b4f9607fe15e6adc40a737d947">center</a>[d] - I-&gt;<a class="code" href="structTreeWalkQueryBase.html#a49a12e5d0c323fc4bda017bf127ff322">Pos</a>[d]);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="keywordflow">if</span>(dx &gt; dist) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="keywordflow">if</span>(dx &lt; -dist) <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        r2 += dx * dx;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="comment">/* now test against the minimal sphere enclosing everything */</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    dist += <a class="code" href="treewalk_8c.html#ac1cf5f91aa149ba3ad878f2f3e86a801">FACT1</a> * current-&gt;<a class="code" href="structNODE.html#ae6d6383dc0bc3e1660bbe700b77a85ab">len</a>;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordflow">if</span>(r2 &gt; dist * dist) {</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    }</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;}</div><div class="ttc" id="structTreeWalkNgbIterBase_html_a633d0a0d40776a7dcef5c6915bda2c56"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#a633d0a0d40776a7dcef5c6915bda2c56">TreeWalkNgbIterBase::Hsml</a></div><div class="ttdeci">double Hsml</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00034">treewalk.h:34</a></div></div>
<div class="ttc" id="structNODE_html"><div class="ttname"><a href="structNODE.html">NODE</a></div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8h_source.html#l00011">forcetree.h:11</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html_aebe92fe57ee45b4ada2f95717b7cf12b"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#aebe92fe57ee45b4ada2f95717b7cf12b">TreeWalkNgbIterBase::symmetric</a></div><div class="ttdeci">enum NgbTreeFindSymmetric symmetric</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00032">treewalk.h:32</a></div></div>
<div class="ttc" id="allvars_8h_html_a320153e129e2fe4833e5b43935499d3e"><div class="ttname"><a href="allvars_8h.html#a320153e129e2fe4833e5b43935499d3e">DMAX</a></div><div class="ttdeci">static double DMAX(double a, double b)</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00112">allvars.h:112</a></div></div>
<div class="ttc" id="structNODE_html_a7f339ed4a80e4bc82506fdab65a7d655"><div class="ttname"><a href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">NODE::d</a></div><div class="ttdeci">struct NODE::@11::@12 d</div></div>
<div class="ttc" id="structNODE_html_ae6d6383dc0bc3e1660bbe700b77a85ab"><div class="ttname"><a href="structNODE.html#ae6d6383dc0bc3e1660bbe700b77a85ab">NODE::len</a></div><div class="ttdeci">MyFloat len</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8h_source.html#l00013">forcetree.h:13</a></div></div>
<div class="ttc" id="treewalk_8h_html_ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13"><div class="ttname"><a href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13">NGB_TREEFIND_SYMMETRIC</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00010">treewalk.h:10</a></div></div>
<div class="ttc" id="structTreeWalkQueryBase_html_a49a12e5d0c323fc4bda017bf127ff322"><div class="ttname"><a href="structTreeWalkQueryBase.html#a49a12e5d0c323fc4bda017bf127ff322">TreeWalkQueryBase::Pos</a></div><div class="ttdeci">double Pos[3]</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00024">treewalk.h:24</a></div></div>
<div class="ttc" id="structNODE_html_a3460a1b4f9607fe15e6adc40a737d947"><div class="ttname"><a href="structNODE.html#a3460a1b4f9607fe15e6adc40a737d947">NODE::center</a></div><div class="ttdeci">MyFloat center[3]</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8h_source.html#l00014">forcetree.h:14</a></div></div>
<div class="ttc" id="forcetree_8c_html_ac46f89ba3715dfa877c2e1b8822da657"><div class="ttname"><a href="forcetree_8c.html#ac46f89ba3715dfa877c2e1b8822da657">Nodes</a></div><div class="ttdeci">struct NODE * Nodes</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8c_source.html#l00038">forcetree.c:38</a></div></div>
<div class="ttc" id="treewalk_8c_html_ac1cf5f91aa149ba3ad878f2f3e86a801"><div class="ttname"><a href="treewalk_8c.html#ac1cf5f91aa149ba3ad878f2f3e86a801">FACT1</a></div><div class="ttdeci">#define FACT1</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00017">treewalk.c:17</a></div></div>
<div class="ttc" id="structNODE_html_ac0a7e3bc6d29da84c41010b1336fe9ef"><div class="ttname"><a href="structNODE.html#ac0a7e3bc6d29da84c41010b1336fe9ef">NODE::u</a></div><div class="ttdeci">union NODE::@11 u</div></div>
<div class="ttc" id="allvars_8h_html_a1094686c363ae3a70dca627763873649"><div class="ttname"><a href="allvars_8h.html#a1094686c363ae3a70dca627763873649">NEAREST</a></div><div class="ttdeci">#define NEAREST(x)</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00044">allvars.h:44</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a5e608e8f599ed84fc1b9e2f6ae1c7ffb_cgraph.svg" width="198" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a5e608e8f599ed84fc1b9e2f6ae1c7ffb_icgraph.svg" width="2031" height="392"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a29856852f0c0d76a35dc519a87c1fa17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29856852f0c0d76a35dc519a87c1fa17">&#9670;&nbsp;</a></span>data_index_compare()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int data_index_compare </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function is used as a comparison kernel in a sort routine. It is used to group particles in the communication buffer that are going to be sent to the same CPU. </p>

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00077">77</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="structdata__index.html#a155c14e6f492c1e1c70f72a69cbbff2f">data_index::Index</a>, <a class="el" href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">data_index::IndexGet</a>, and <a class="el" href="structdata__index.html#a4074371073ee7171281ad6404f22c699">data_index::Task</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a183c4217393b49949352febbde1cc1f2">ev_finish()</a>, and <a class="el" href="treewalk_8c.html#a5341d99d76201774516d5e551dc1c559">ev_primary()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;{</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span>(((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) a)-&gt;Task &lt; (((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) b)-&gt;Task))</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span>(((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) a)-&gt;Task &gt; (((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) b)-&gt;Task))</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">return</span> +1;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">if</span>(((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) a)-&gt;Index &lt; (((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) b)-&gt;Index))</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">if</span>(((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) a)-&gt;Index &gt; (((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) b)-&gt;Index))</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">return</span> +1;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">if</span>(((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) a)-&gt;IndexGet &lt; (((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) b)-&gt;IndexGet))</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">if</span>(((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) a)-&gt;IndexGet &gt; (((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) b)-&gt;IndexGet))</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">return</span> +1;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div><div class="ttc" id="structdata__index_html"><div class="ttname"><a href="structdata__index.html">data_index</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00040">treewalk.c:40</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a29856852f0c0d76a35dc519a87c1fa17_icgraph.svg" width="1988" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae4323d8e8e5005a65e1e9bfafc706858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4323d8e8e5005a65e1e9bfafc706858">&#9670;&nbsp;</a></span>data_index_compare_by_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int data_index_compare_by_index </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00651">651</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#afe78385cec6aabfdd65e6c619a307ef3">ev_reduce_result()</a>.</p>
<div class="fragment"><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;{</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">if</span>(((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) a)-&gt;Index &lt; (((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) b)-&gt;Index))</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">if</span>(((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) a)-&gt;Index &gt; (((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) b)-&gt;Index))</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordflow">return</span> +1;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">if</span>(((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) a)-&gt;IndexGet &lt; (((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) b)-&gt;IndexGet))</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">if</span>(((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) a)-&gt;IndexGet &gt; (((<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a> *) b)-&gt;IndexGet))</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keywordflow">return</span> +1;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;}</div><div class="ttc" id="structdata__index_html"><div class="ttname"><a href="structdata__index.html">data_index</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00040">treewalk.c:40</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_ae4323d8e8e5005a65e1e9bfafc706858_icgraph.svg" width="2023" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8756da05f289b9a4b4875ab58c4ba0bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8756da05f289b9a4b4875ab58c4ba0bf">&#9670;&nbsp;</a></span>ev_alloc_threadlocals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ev_alloc_threadlocals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00126">126</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>, <a class="el" href="treewalk_8c.html#a43acd135207b8928717a80d461c0da1c">Exportflag</a>, <a class="el" href="treewalk_8c.html#ab71b664c73f42ce057c7510e31bc57fe">Exportindex</a>, <a class="el" href="treewalk_8c.html#acb34022c9e51da1272df23a54dcc5c3c">Exportnodecount</a>, <a class="el" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>, <a class="el" href="structglobal__data__all__processes.html#a8e038ee0e682cc8b6e5ac27b849253c5">global_data_all_processes::NumThreads</a>, and <a class="el" href="mymalloc_8h.html#a01a7803ad9560194821e76e4ad0197d8">ta_malloc2</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a5341d99d76201774516d5e551dc1c559">ev_primary()</a>, and <a class="el" href="treewalk_8c.html#a6c043b95263071bc974da1c1cefc0a57">ev_secondary()</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordtype">int</span> NTaskTimesThreads = <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8e038ee0e682cc8b6e5ac27b849253c5">NumThreads</a> * <a class="code" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="treewalk_8c.html#a43acd135207b8928717a80d461c0da1c">Exportflag</a> = (<span class="keywordtype">int</span> *) <a class="code" href="mymalloc_8h.html#a01a7803ad9560194821e76e4ad0197d8">ta_malloc2</a>(<span class="stringliteral">&quot;Exportthreads&quot;</span>, <span class="keywordtype">int</span>, 3*NTaskTimesThreads);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="treewalk_8c.html#ab71b664c73f42ce057c7510e31bc57fe">Exportindex</a> = <a class="code" href="treewalk_8c.html#a43acd135207b8928717a80d461c0da1c">Exportflag</a> + NTaskTimesThreads;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="treewalk_8c.html#acb34022c9e51da1272df23a54dcc5c3c">Exportnodecount</a> = <a class="code" href="treewalk_8c.html#a43acd135207b8928717a80d461c0da1c">Exportflag</a> + 2*NTaskTimesThreads;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="ttc" id="structglobal__data__all__processes_html_a8e038ee0e682cc8b6e5ac27b849253c5"><div class="ttname"><a href="structglobal__data__all__processes.html#a8e038ee0e682cc8b6e5ac27b849253c5">global_data_all_processes::NumThreads</a></div><div class="ttdeci">int NumThreads</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00169">allvars.h:169</a></div></div>
<div class="ttc" id="allvars_8c_html_a675acdcd149f5993271a1fdc11673b65"><div class="ttname"><a href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a></div><div class="ttdeci">int NTask</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8c_source.html#l00025">allvars.c:25</a></div></div>
<div class="ttc" id="mymalloc_8h_html_a01a7803ad9560194821e76e4ad0197d8"><div class="ttname"><a href="mymalloc_8h.html#a01a7803ad9560194821e76e4ad0197d8">ta_malloc2</a></div><div class="ttdeci">#define ta_malloc2(name, type, nele)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00023">mymalloc.h:23</a></div></div>
<div class="ttc" id="treewalk_8c_html_ab71b664c73f42ce057c7510e31bc57fe"><div class="ttname"><a href="treewalk_8c.html#ab71b664c73f42ce057c7510e31bc57fe">Exportindex</a></div><div class="ttdeci">static int * Exportindex</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00027">treewalk.c:27</a></div></div>
<div class="ttc" id="treewalk_8c_html_acb34022c9e51da1272df23a54dcc5c3c"><div class="ttname"><a href="treewalk_8c.html#acb34022c9e51da1272df23a54dcc5c3c">Exportnodecount</a></div><div class="ttdeci">static int * Exportnodecount</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00026">treewalk.c:26</a></div></div>
<div class="ttc" id="treewalk_8c_html_a43acd135207b8928717a80d461c0da1c"><div class="ttname"><a href="treewalk_8c.html#a43acd135207b8928717a80d461c0da1c">Exportflag</a></div><div class="ttdeci">static int * Exportflag</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00025">treewalk.c:25</a></div></div>
<div class="ttc" id="allvars_8c_html_ad49123ae0461ffe61629a0d4cf2ba91f"><div class="ttname"><a href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a></div><div class="ttdeci">struct global_data_all_processes All</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8c_source.html#l00047">allvars.c:47</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a8756da05f289b9a4b4875ab58c4ba0bf_icgraph.svg" width="2008" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ace9d4cc74131168498c47dc85ffc865e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace9d4cc74131168498c47dc85ffc865e">&#9670;&nbsp;</a></span>ev_begin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ev_begin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>active_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00142">142</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>, <a class="el" href="structglobal__data__all__processes.html#aa85183d580a54780e77bb4bf8ddf2fd6">global_data_all_processes::BufferSize</a>, <a class="el" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">TreeWalk::BunchSize</a>, <a class="el" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a>, <a class="el" href="treewalk_8c.html#a7edd63d2fb245e7afbd292dcd75863e9">fill_task_queue()</a>, <a class="el" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>, <a class="el" href="treewalk_8c.html#ade1b96e6772d0d1ccb06bcbec352b5bd">Ngblist</a>, <a class="el" href="structpart__manager__type.html#ae19becfa10cbd680504de1eb3577cb75">part_manager_type::NumPart</a>, <a class="el" href="structglobal__data__all__processes.html#a8e038ee0e682cc8b6e5ac27b849253c5">global_data_all_processes::NumThreads</a>, <a class="el" href="partmanager_8c.html#a6cef44682776e476d8f9f1b9e1f9fe16">PartManager</a>, and <a class="el" href="treewalk_8c.html#adc6089194059b0f1caf76ac3475adb29">treewalk_build_queue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8h.html#aa6772bdbc1552278ca7dae6a9adb031d">treewalk_run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="treewalk_8c.html#ade1b96e6772d0d1ccb06bcbec352b5bd">Ngblist</a> = (<span class="keywordtype">int</span>*) <a class="code" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>(<span class="stringliteral">&quot;Ngblist&quot;</span>, <a class="code" href="partmanager_8c.html#a6cef44682776e476d8f9f1b9e1f9fe16">PartManager</a>-&gt;<a class="code" href="structpart__manager__type.html#ae19becfa10cbd680504de1eb3577cb75">NumPart</a> * <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8e038ee0e682cc8b6e5ac27b849253c5">NumThreads</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">BunchSize</a> =</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        (int) ((<a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#aa85183d580a54780e77bb4bf8ddf2fd6">BufferSize</a> * 1024 * 1024) / (<span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structdata__index.html">data_index</a>) + </div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                    sizeof(struct <a class="code" href="structdata__nodelist.html">data_nodelist</a>) + tw-&gt;query_type_elsize + tw-&gt;result_type_elsize));</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a> =</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        (<span class="keyword">struct </span><a class="code" href="structdata__index.html">data_index</a> *) <a class="code" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>(<span class="stringliteral">&quot;DataIndexTable&quot;</span>, tw-&gt;<a class="code" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">BunchSize</a> * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a>));</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a> =</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        (<span class="keyword">struct </span><a class="code" href="structdata__nodelist.html">data_nodelist</a> *) <a class="code" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>(<span class="stringliteral">&quot;DataNodeList&quot;</span>, tw-&gt;<a class="code" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">BunchSize</a> * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structdata__nodelist.html">data_nodelist</a>));</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    memset(<a class="code" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a>, -1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structdata__nodelist.html">data_nodelist</a>) * tw-&gt;<a class="code" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">BunchSize</a>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">WorkSetSize</a> = 0;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">WorkSet</a> = <a class="code" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>(<span class="stringliteral">&quot;ActiveQueue&quot;</span>, <a class="code" href="partmanager_8c.html#a6cef44682776e476d8f9f1b9e1f9fe16">PartManager</a>-&gt;<a class="code" href="structpart__manager__type.html#ae19becfa10cbd680504de1eb3577cb75">NumPart</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="treewalk_8c.html#adc6089194059b0f1caf76ac3475adb29">treewalk_build_queue</a>(tw, active_set, <a class="code" href="namespacemake__zeros.html#a5a378c460c2a12be3a58ac2e687852d9">size</a>);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#aa3e460ddfb6dff3c488f7dd1e002e824">PrimaryTasks</a> = (<span class="keyword">struct </span><a class="code" href="structev__task.html">ev_task</a> *) <a class="code" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>(<span class="stringliteral">&quot;PrimaryTasks&quot;</span>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structev__task.html">ev_task</a>) * tw-&gt;<a class="code" href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">WorkSetSize</a>);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="treewalk_8c.html#a7edd63d2fb245e7afbd292dcd75863e9">fill_task_queue</a>(tw, tw-&gt;<a class="code" href="structTreeWalk.html#aa3e460ddfb6dff3c488f7dd1e002e824">PrimaryTasks</a>, tw-&gt;<a class="code" href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">WorkSet</a>, tw-&gt;<a class="code" href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">WorkSetSize</a>);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#ab88f1c20f5ab40c70744068d8bc19c4c">currentIndex</a> = <a class="code" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>(<span class="stringliteral">&quot;currentIndexPerThread&quot;</span>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8e038ee0e682cc8b6e5ac27b849253c5">NumThreads</a>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#a52f391b3260152a9b7745b1fc5ddab13">currentEnd</a> = <a class="code" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>(<span class="stringliteral">&quot;currentEndPerThread&quot;</span>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8e038ee0e682cc8b6e5ac27b849253c5">NumThreads</a>);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8e038ee0e682cc8b6e5ac27b849253c5">NumThreads</a>; i ++) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        tw-&gt;<a class="code" href="structTreeWalk.html#ab88f1c20f5ab40c70744068d8bc19c4c">currentIndex</a>[i] = ((size_t) i) * tw-&gt;<a class="code" href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">WorkSetSize</a> / <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8e038ee0e682cc8b6e5ac27b849253c5">NumThreads</a>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        tw-&gt;<a class="code" href="structTreeWalk.html#a52f391b3260152a9b7745b1fc5ddab13">currentEnd</a>[i] = ((size_t) i + 1) * tw-&gt;<a class="code" href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">WorkSetSize</a> / <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8e038ee0e682cc8b6e5ac27b849253c5">NumThreads</a>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div><div class="ttc" id="structglobal__data__all__processes_html_a8e038ee0e682cc8b6e5ac27b849253c5"><div class="ttname"><a href="structglobal__data__all__processes.html#a8e038ee0e682cc8b6e5ac27b849253c5">global_data_all_processes::NumThreads</a></div><div class="ttdeci">int NumThreads</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00169">allvars.h:169</a></div></div>
<div class="ttc" id="structTreeWalk_html_a52f391b3260152a9b7745b1fc5ddab13"><div class="ttname"><a href="structTreeWalk.html#a52f391b3260152a9b7745b1fc5ddab13">TreeWalk::currentEnd</a></div><div class="ttdeci">int * currentEnd</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00124">treewalk.h:124</a></div></div>
<div class="ttc" id="structglobal__data__all__processes_html_aa85183d580a54780e77bb4bf8ddf2fd6"><div class="ttname"><a href="structglobal__data__all__processes.html#aa85183d580a54780e77bb4bf8ddf2fd6">global_data_all_processes::BufferSize</a></div><div class="ttdeci">double BufferSize</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00181">allvars.h:181</a></div></div>
<div class="ttc" id="mymalloc_8h_html_a3eb707b32b6ac69f2df085e4bc098cc4"><div class="ttname"><a href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a></div><div class="ttdeci">#define mymalloc(name, size)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00012">mymalloc.h:12</a></div></div>
<div class="ttc" id="structTreeWalk_html_a4265d246159741451ee1d24ea65e7323"><div class="ttname"><a href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">TreeWalk::BunchSize</a></div><div class="ttdeci">int BunchSize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00116">treewalk.h:116</a></div></div>
<div class="ttc" id="treewalk_8c_html_ade1b96e6772d0d1ccb06bcbec352b5bd"><div class="ttname"><a href="treewalk_8c.html#ade1b96e6772d0d1ccb06bcbec352b5bd">Ngblist</a></div><div class="ttdeci">static int * Ngblist</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00024">treewalk.c:24</a></div></div>
<div class="ttc" id="namespacemake__zeros_html_a5a378c460c2a12be3a58ac2e687852d9"><div class="ttname"><a href="namespacemake__zeros.html#a5a378c460c2a12be3a58ac2e687852d9">make_zeros.size</a></div><div class="ttdeci">size</div><div class="ttdef"><b>Definition:</b> <a href="make__zeros_8py_source.html#l00006">make_zeros.py:6</a></div></div>
<div class="ttc" id="treewalk_8c_html_a7edd63d2fb245e7afbd292dcd75863e9"><div class="ttname"><a href="treewalk_8c.html#a7edd63d2fb245e7afbd292dcd75863e9">fill_task_queue</a></div><div class="ttdeci">static void fill_task_queue(TreeWalk *tw, struct ev_task *tq, int *pq, int length)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00735">treewalk.c:735</a></div></div>
<div class="ttc" id="structdata__nodelist_html"><div class="ttname"><a href="structdata__nodelist.html">data_nodelist</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00030">treewalk.c:30</a></div></div>
<div class="ttc" id="treewalk_8c_html_adf63e880533c73bcbc5ae63dd833459c"><div class="ttname"><a href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a></div><div class="ttdeci">static struct data_index * DataIndexTable</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00047">treewalk.c:47</a></div></div>
<div class="ttc" id="structpart__manager__type_html_ae19becfa10cbd680504de1eb3577cb75"><div class="ttname"><a href="structpart__manager__type.html#ae19becfa10cbd680504de1eb3577cb75">part_manager_type::NumPart</a></div><div class="ttdeci">int NumPart</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00093">partmanager.h:93</a></div></div>
<div class="ttc" id="structdata__index_html"><div class="ttname"><a href="structdata__index.html">data_index</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00040">treewalk.c:40</a></div></div>
<div class="ttc" id="structTreeWalk_html_ab88f1c20f5ab40c70744068d8bc19c4c"><div class="ttname"><a href="structTreeWalk.html#ab88f1c20f5ab40c70744068d8bc19c4c">TreeWalk::currentIndex</a></div><div class="ttdeci">int * currentIndex</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00123">treewalk.h:123</a></div></div>
<div class="ttc" id="structTreeWalk_html_aaf26d07b5db3622b4d340cb0e4077c4f"><div class="ttname"><a href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">TreeWalk::WorkSet</a></div><div class="ttdeci">int * WorkSet</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00119">treewalk.h:119</a></div></div>
<div class="ttc" id="structev__task_html"><div class="ttname"><a href="structev__task.html">ev_task</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00019">treewalk.c:19</a></div></div>
<div class="ttc" id="treewalk_8c_html_adc6089194059b0f1caf76ac3475adb29"><div class="ttname"><a href="treewalk_8c.html#adc6089194059b0f1caf76ac3475adb29">treewalk_build_queue</a></div><div class="ttdeci">static void treewalk_build_queue(TreeWalk *tw, int *active_set, int size)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00285">treewalk.c:285</a></div></div>
<div class="ttc" id="treewalk_8c_html_a571736d9ee463ca84af6c4b98079899e"><div class="ttname"><a href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a></div><div class="ttdeci">static struct data_nodelist  * DataNodeList</div></div>
<div class="ttc" id="structTreeWalk_html_ae316f9389f90ad3b5184fa48c2538e6e"><div class="ttname"><a href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">TreeWalk::WorkSetSize</a></div><div class="ttdeci">int WorkSetSize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00120">treewalk.h:120</a></div></div>
<div class="ttc" id="partmanager_8c_html_a6cef44682776e476d8f9f1b9e1f9fe16"><div class="ttname"><a href="partmanager_8c.html#a6cef44682776e476d8f9f1b9e1f9fe16">PartManager</a></div><div class="ttdeci">struct part_manager_type PartManager[1]</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8c_source.html#l00009">partmanager.c:9</a></div></div>
<div class="ttc" id="allvars_8c_html_ad49123ae0461ffe61629a0d4cf2ba91f"><div class="ttname"><a href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a></div><div class="ttdeci">struct global_data_all_processes All</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8c_source.html#l00047">allvars.c:47</a></div></div>
<div class="ttc" id="structTreeWalk_html_aa3e460ddfb6dff3c488f7dd1e002e824"><div class="ttname"><a href="structTreeWalk.html#aa3e460ddfb6dff3c488f7dd1e002e824">TreeWalk::PrimaryTasks</a></div><div class="ttdeci">struct ev_task * PrimaryTasks</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00118">treewalk.h:118</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_ace9d4cc74131168498c47dc85ffc865e_cgraph.svg" width="810" height="164"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_ace9d4cc74131168498c47dc85ffc865e_icgraph.svg" width="1786" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a813df07bf8486b29f23977363a59dea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a813df07bf8486b29f23977363a59dea2">&#9670;&nbsp;</a></span>ev_communicate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ev_communicate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sendbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>recvbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>elsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>import</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00597">597</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="system_8c.html#a0233ee60e9c4f0a8dbe43e1c662231c6">MPI_Alltoallv_sparse()</a>, <a class="el" href="treewalk_8c.html#abe0df9311f86961bccfea23941bb6513">Recv_count</a>, <a class="el" href="treewalk_8c.html#a57d69aeac9f940d210a9e5d4b43952ca">Recv_offset</a>, <a class="el" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a>, and <a class="el" href="treewalk_8c.html#a8d6842f16ab6db63c401244f4b11cbe9">Send_offset</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a587df5201e3b9d6608189f9c606c2633">ev_get_remote()</a>, and <a class="el" href="treewalk_8c.html#afe78385cec6aabfdd65e6c619a307ef3">ev_reduce_result()</a>.</p>
<div class="fragment"><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                                                                          {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">/* if import is 1, import the results from neigbhours */</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    MPI_Datatype type;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    MPI_Type_contiguous(elsize, MPI_BYTE, &amp;type);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    MPI_Type_commit(&amp;type);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">if</span>(<span class="keyword">import</span>) {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <a class="code" href="system_8c.html#a0233ee60e9c4f0a8dbe43e1c662231c6">MPI_Alltoallv_sparse</a>(</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                sendbuf, <a class="code" href="treewalk_8c.html#abe0df9311f86961bccfea23941bb6513">Recv_count</a>, <a class="code" href="treewalk_8c.html#a57d69aeac9f940d210a9e5d4b43952ca">Recv_offset</a>, type,</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                recvbuf, <a class="code" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a>, <a class="code" href="treewalk_8c.html#a8d6842f16ab6db63c401244f4b11cbe9">Send_offset</a>, type, MPI_COMM_WORLD);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <a class="code" href="system_8c.html#a0233ee60e9c4f0a8dbe43e1c662231c6">MPI_Alltoallv_sparse</a>(</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                sendbuf, <a class="code" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a>, <a class="code" href="treewalk_8c.html#a8d6842f16ab6db63c401244f4b11cbe9">Send_offset</a>, type,</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                recvbuf, <a class="code" href="treewalk_8c.html#abe0df9311f86961bccfea23941bb6513">Recv_count</a>, <a class="code" href="treewalk_8c.html#a57d69aeac9f940d210a9e5d4b43952ca">Recv_offset</a>, type, MPI_COMM_WORLD);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    MPI_Type_free(&amp;type);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;}</div><div class="ttc" id="treewalk_8c_html_ae1ce32b3af7d102c9bfe189eeeef67d2"><div class="ttname"><a href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a></div><div class="ttdeci">static int * Send_count</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00028">treewalk.c:28</a></div></div>
<div class="ttc" id="treewalk_8c_html_abe0df9311f86961bccfea23941bb6513"><div class="ttname"><a href="treewalk_8c.html#abe0df9311f86961bccfea23941bb6513">Recv_count</a></div><div class="ttdeci">static int * Recv_count</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00028">treewalk.c:28</a></div></div>
<div class="ttc" id="treewalk_8c_html_a57d69aeac9f940d210a9e5d4b43952ca"><div class="ttname"><a href="treewalk_8c.html#a57d69aeac9f940d210a9e5d4b43952ca">Recv_offset</a></div><div class="ttdeci">static int * Recv_offset</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00028">treewalk.c:28</a></div></div>
<div class="ttc" id="treewalk_8c_html_a8d6842f16ab6db63c401244f4b11cbe9"><div class="ttname"><a href="treewalk_8c.html#a8d6842f16ab6db63c401244f4b11cbe9">Send_offset</a></div><div class="ttdeci">static int * Send_offset</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00028">treewalk.c:28</a></div></div>
<div class="ttc" id="system_8c_html_a0233ee60e9c4f0a8dbe43e1c662231c6"><div class="ttname"><a href="system_8c.html#a0233ee60e9c4f0a8dbe43e1c662231c6">MPI_Alltoallv_sparse</a></div><div class="ttdeci">int MPI_Alltoallv_sparse(void *sendbuf, int *sendcnts, int *sdispls, MPI_Datatype sendtype, void *recvbuf, int *recvcnts, int *rdispls, MPI_Datatype recvtype, MPI_Comm comm)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00304">system.c:304</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a813df07bf8486b29f23977363a59dea2_cgraph.svg" width="326" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a813df07bf8486b29f23977363a59dea2_icgraph.svg" width="2002" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a183c4217393b49949352febbde1cc1f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a183c4217393b49949352febbde1cc1f2">&#9670;&nbsp;</a></span>ev_finish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ev_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00174">174</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="structTreeWalk.html#a52f391b3260152a9b7745b1fc5ddab13">TreeWalk::currentEnd</a>, <a class="el" href="structTreeWalk.html#ab88f1c20f5ab40c70744068d8bc19c4c">TreeWalk::currentIndex</a>, <a class="el" href="treewalk_8c.html#a29856852f0c0d76a35dc519a87c1fa17">data_index_compare()</a>, <a class="el" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a>, <a class="el" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>, <a class="el" href="treewalk_8c.html#ade1b96e6772d0d1ccb06bcbec352b5bd">Ngblist</a>, <a class="el" href="structTreeWalk.html#aa3e460ddfb6dff3c488f7dd1e002e824">TreeWalk::PrimaryTasks</a>, and <a class="el" href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">TreeWalk::WorkSet</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8h.html#aa6772bdbc1552278ca7dae6a9adb031d">treewalk_run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(tw-&gt;<a class="code" href="structTreeWalk.html#a52f391b3260152a9b7745b1fc5ddab13">currentEnd</a>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(tw-&gt;<a class="code" href="structTreeWalk.html#ab88f1c20f5ab40c70744068d8bc19c4c">currentIndex</a>);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(tw-&gt;<a class="code" href="structTreeWalk.html#aa3e460ddfb6dff3c488f7dd1e002e824">PrimaryTasks</a>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(tw-&gt;<a class="code" href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">WorkSet</a>);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(<a class="code" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a>);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(<a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(<a class="code" href="treewalk_8c.html#ade1b96e6772d0d1ccb06bcbec352b5bd">Ngblist</a>);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;}</div><div class="ttc" id="mymalloc_8h_html_af469c2f7e504a771f5d8a91ac9623240"><div class="ttname"><a href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a></div><div class="ttdeci">#define myfree(x)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00016">mymalloc.h:16</a></div></div>
<div class="ttc" id="structTreeWalk_html_a52f391b3260152a9b7745b1fc5ddab13"><div class="ttname"><a href="structTreeWalk.html#a52f391b3260152a9b7745b1fc5ddab13">TreeWalk::currentEnd</a></div><div class="ttdeci">int * currentEnd</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00124">treewalk.h:124</a></div></div>
<div class="ttc" id="treewalk_8c_html_ade1b96e6772d0d1ccb06bcbec352b5bd"><div class="ttname"><a href="treewalk_8c.html#ade1b96e6772d0d1ccb06bcbec352b5bd">Ngblist</a></div><div class="ttdeci">static int * Ngblist</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00024">treewalk.c:24</a></div></div>
<div class="ttc" id="treewalk_8c_html_adf63e880533c73bcbc5ae63dd833459c"><div class="ttname"><a href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a></div><div class="ttdeci">static struct data_index * DataIndexTable</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00047">treewalk.c:47</a></div></div>
<div class="ttc" id="structTreeWalk_html_ab88f1c20f5ab40c70744068d8bc19c4c"><div class="ttname"><a href="structTreeWalk.html#ab88f1c20f5ab40c70744068d8bc19c4c">TreeWalk::currentIndex</a></div><div class="ttdeci">int * currentIndex</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00123">treewalk.h:123</a></div></div>
<div class="ttc" id="structTreeWalk_html_aaf26d07b5db3622b4d340cb0e4077c4f"><div class="ttname"><a href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">TreeWalk::WorkSet</a></div><div class="ttdeci">int * WorkSet</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00119">treewalk.h:119</a></div></div>
<div class="ttc" id="treewalk_8c_html_a571736d9ee463ca84af6c4b98079899e"><div class="ttname"><a href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a></div><div class="ttdeci">static struct data_nodelist  * DataNodeList</div></div>
<div class="ttc" id="structTreeWalk_html_aa3e460ddfb6dff3c488f7dd1e002e824"><div class="ttname"><a href="structTreeWalk.html#aa3e460ddfb6dff3c488f7dd1e002e824">TreeWalk::PrimaryTasks</a></div><div class="ttdeci">struct ev_task * PrimaryTasks</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00118">treewalk.h:118</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a183c4217393b49949352febbde1cc1f2_cgraph.svg" width="276" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a183c4217393b49949352febbde1cc1f2_icgraph.svg" width="1786" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8aec9dd3728dfa077f70fb077b145ead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aec9dd3728dfa077f70fb077b145ead">&#9670;&nbsp;</a></span>ev_free_threadlocals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ev_free_threadlocals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00136">136</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="treewalk_8c.html#a43acd135207b8928717a80d461c0da1c">Exportflag</a>, and <a class="el" href="mymalloc_8h.html#a84e2115e90e9c22e11d9663c019fc8bc">ta_free</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a5341d99d76201774516d5e551dc1c559">ev_primary()</a>, and <a class="el" href="treewalk_8c.html#a6c043b95263071bc974da1c1cefc0a57">ev_secondary()</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="mymalloc_8h.html#a84e2115e90e9c22e11d9663c019fc8bc">ta_free</a>(<a class="code" href="treewalk_8c.html#a43acd135207b8928717a80d461c0da1c">Exportflag</a>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div><div class="ttc" id="mymalloc_8h_html_a84e2115e90e9c22e11d9663c019fc8bc"><div class="ttname"><a href="mymalloc_8h.html#a84e2115e90e9c22e11d9663c019fc8bc">ta_free</a></div><div class="ttdeci">#define ta_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00025">mymalloc.h:25</a></div></div>
<div class="ttc" id="treewalk_8c_html_a43acd135207b8928717a80d461c0da1c"><div class="ttname"><a href="treewalk_8c.html#a43acd135207b8928717a80d461c0da1c">Exportflag</a></div><div class="ttdeci">static int * Exportflag</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00025">treewalk.c:25</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a8aec9dd3728dfa077f70fb077b145ead_icgraph.svg" width="2004" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a587df5201e3b9d6608189f9c606c2633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a587df5201e3b9d6608189f9c606c2633">&#9670;&nbsp;</a></span>ev_get_remote()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ev_get_remote </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00616">616</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="structTreeWalk.html#a78f910ce94e9f9a0bfa4d3f70120cbb7">TreeWalk::dataget</a>, <a class="el" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a>, <a class="el" href="treewalk_8c.html#a813df07bf8486b29f23977363a59dea2">ev_communicate()</a>, <a class="el" href="structdata__index.html#a155c14e6f492c1e1c70f72a69cbbff2f">data_index::Index</a>, <a class="el" href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">data_index::IndexGet</a>, <a class="el" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>, <a class="el" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>, <a class="el" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">TreeWalk::Nexport</a>, <a class="el" href="structTreeWalk.html#a5bd5b81a4c35d81d83ceb4d374bda460">TreeWalk::Nimport</a>, <a class="el" href="structdata__nodelist.html#a6013b9f0c28891468a9b91bc39e52961">data_nodelist::NodeList</a>, <a class="el" href="structev__task.html#a2d45512d80ce10803d337ac2c82cc648">ev_task::place</a>, <a class="el" href="structTreeWalk.html#affd5eae4b5a63dcce236ac15b00b4c7c">TreeWalk::query_type_elsize</a>, <a class="el" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second()</a>, <a class="el" href="structTreeWalk.html#a80f3ba2d463ce192ccb0f42eed264f56">TreeWalk::timecommsumm1</a>, <a class="el" href="structTreeWalk.html#ada69256fab1ba3b0e5ff0f837f749b2e">TreeWalk::timecomp1</a>, <a class="el" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff()</a>, <a class="el" href="treewalk_8c.html#af8619681f7d063183bea07a7d80ac98e">treewalk_init_query()</a>, and <a class="el" href="structTreeWalk.html#adc62eb856144faf75a8759af94f4b92f">TreeWalk::UseNodeList</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8h.html#aa6772bdbc1552278ca7dae6a9adb031d">treewalk_run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;{</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordtype">int</span> j;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordtype">double</span> tstart, tend;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordtype">void</span> * recvbuf = <a class="code" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>(<span class="stringliteral">&quot;EvDataGet&quot;</span>, tw-&gt;<a class="code" href="structTreeWalk.html#a5bd5b81a4c35d81d83ceb4d374bda460">Nimport</a> * tw-&gt;<a class="code" href="structTreeWalk.html#affd5eae4b5a63dcce236ac15b00b4c7c">query_type_elsize</a>);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordtype">char</span> * sendbuf = <a class="code" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>(<span class="stringliteral">&quot;EvDataIn&quot;</span>, tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a> * tw-&gt;<a class="code" href="structTreeWalk.html#affd5eae4b5a63dcce236ac15b00b4c7c">query_type_elsize</a>);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    memset(sendbuf, -1, tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a> * tw-&gt;<a class="code" href="structTreeWalk.html#affd5eae4b5a63dcce236ac15b00b4c7c">query_type_elsize</a>);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    tstart = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="comment">/* prepare particle data for export */</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="preprocessor">#pragma omp parallel for if (tw-&gt;Nexport &gt; 128) </span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">for</span>(j = 0; j &lt; tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a>; j++)</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="structev__task.html#a2d45512d80ce10803d337ac2c82cc648">place</a> = <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[j].<a class="code" href="structdata__index.html#a155c14e6f492c1e1c70f72a69cbbff2f">Index</a>;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <a class="code" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> * input = (<a class="code" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a>*) (sendbuf + j * tw-&gt;<a class="code" href="structTreeWalk.html#affd5eae4b5a63dcce236ac15b00b4c7c">query_type_elsize</a>);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordtype">int</span> * nodelist = NULL;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#adc62eb856144faf75a8759af94f4b92f">UseNodeList</a>) {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            nodelist = <a class="code" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a>[<a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[j].<a class="code" href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">IndexGet</a>].<a class="code" href="structdata__nodelist.html#a6013b9f0c28891468a9b91bc39e52961">NodeList</a>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <a class="code" href="treewalk_8c.html#af8619681f7d063183bea07a7d80ac98e">treewalk_init_query</a>(tw, input, place, nodelist);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    }</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    tend = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#ada69256fab1ba3b0e5ff0f837f749b2e">timecomp1</a> += <a class="code" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a>(tstart, tend);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    tstart = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="treewalk_8c.html#a813df07bf8486b29f23977363a59dea2">ev_communicate</a>(sendbuf, recvbuf, tw-&gt;<a class="code" href="structTreeWalk.html#affd5eae4b5a63dcce236ac15b00b4c7c">query_type_elsize</a>, 0);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    tend = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#a80f3ba2d463ce192ccb0f42eed264f56">timecommsumm1</a> += <a class="code" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a>(tstart, tend);</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(sendbuf);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#a78f910ce94e9f9a0bfa4d3f70120cbb7">dataget</a> = recvbuf;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;}</div><div class="ttc" id="structTreeWalkQueryBase_html"><div class="ttname"><a href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00021">treewalk.h:21</a></div></div>
<div class="ttc" id="structdata__nodelist_html_a6013b9f0c28891468a9b91bc39e52961"><div class="ttname"><a href="structdata__nodelist.html#a6013b9f0c28891468a9b91bc39e52961">data_nodelist::NodeList</a></div><div class="ttdeci">int NodeList[NODELISTLENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00032">treewalk.c:32</a></div></div>
<div class="ttc" id="mymalloc_8h_html_af469c2f7e504a771f5d8a91ac9623240"><div class="ttname"><a href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a></div><div class="ttdeci">#define myfree(x)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00016">mymalloc.h:16</a></div></div>
<div class="ttc" id="system_8c_html_a890645bdc4536bd797ca53028072e30d"><div class="ttname"><a href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a></div><div class="ttdeci">double timediff(double t0, double t1)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00149">system.c:149</a></div></div>
<div class="ttc" id="treewalk_8c_html_a813df07bf8486b29f23977363a59dea2"><div class="ttname"><a href="treewalk_8c.html#a813df07bf8486b29f23977363a59dea2">ev_communicate</a></div><div class="ttdeci">static void ev_communicate(void *sendbuf, void *recvbuf, size_t elsize, int import)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00597">treewalk.c:597</a></div></div>
<div class="ttc" id="structTreeWalk_html_a78f910ce94e9f9a0bfa4d3f70120cbb7"><div class="ttname"><a href="structTreeWalk.html#a78f910ce94e9f9a0bfa4d3f70120cbb7">TreeWalk::dataget</a></div><div class="ttdeci">char * dataget</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00095">treewalk.h:95</a></div></div>
<div class="ttc" id="structTreeWalk_html_affd5eae4b5a63dcce236ac15b00b4c7c"><div class="ttname"><a href="structTreeWalk.html#affd5eae4b5a63dcce236ac15b00b4c7c">TreeWalk::query_type_elsize</a></div><div class="ttdeci">size_t query_type_elsize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00079">treewalk.h:79</a></div></div>
<div class="ttc" id="structTreeWalk_html_adc62eb856144faf75a8759af94f4b92f"><div class="ttname"><a href="structTreeWalk.html#adc62eb856144faf75a8759af94f4b92f">TreeWalk::UseNodeList</a></div><div class="ttdeci">int UseNodeList</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00093">treewalk.h:93</a></div></div>
<div class="ttc" id="treewalk_8c_html_af8619681f7d063183bea07a7d80ac98e"><div class="ttname"><a href="treewalk_8c.html#af8619681f7d063183bea07a7d80ac98e">treewalk_init_query</a></div><div class="ttdeci">static void treewalk_init_query(TreeWalk *tw, TreeWalkQueryBase *query, int i, int *NodeList)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00188">treewalk.c:188</a></div></div>
<div class="ttc" id="structTreeWalk_html_a80f3ba2d463ce192ccb0f42eed264f56"><div class="ttname"><a href="structTreeWalk.html#a80f3ba2d463ce192ccb0f42eed264f56">TreeWalk::timecommsumm1</a></div><div class="ttdeci">double timecommsumm1</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00104">treewalk.h:104</a></div></div>
<div class="ttc" id="structTreeWalk_html_a9cf8342687bbd213c2324c948ca0f9c0"><div class="ttname"><a href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">TreeWalk::Nexport</a></div><div class="ttdeci">int Nexport</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00113">treewalk.h:113</a></div></div>
<div class="ttc" id="system_8c_html_ad24c35a2016ce428248988795c1d3174"><div class="ttname"><a href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a></div><div class="ttdeci">double second(void)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00140">system.c:140</a></div></div>
<div class="ttc" id="mymalloc_8h_html_a3eb707b32b6ac69f2df085e4bc098cc4"><div class="ttname"><a href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a></div><div class="ttdeci">#define mymalloc(name, size)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00012">mymalloc.h:12</a></div></div>
<div class="ttc" id="treewalk_8c_html_adf63e880533c73bcbc5ae63dd833459c"><div class="ttname"><a href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a></div><div class="ttdeci">static struct data_index * DataIndexTable</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00047">treewalk.c:47</a></div></div>
<div class="ttc" id="structTreeWalk_html_a5bd5b81a4c35d81d83ceb4d374bda460"><div class="ttname"><a href="structTreeWalk.html#a5bd5b81a4c35d81d83ceb4d374bda460">TreeWalk::Nimport</a></div><div class="ttdeci">int Nimport</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00114">treewalk.h:114</a></div></div>
<div class="ttc" id="structdata__index_html_a155c14e6f492c1e1c70f72a69cbbff2f"><div class="ttname"><a href="structdata__index.html#a155c14e6f492c1e1c70f72a69cbbff2f">data_index::Index</a></div><div class="ttdeci">int Index</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00043">treewalk.c:43</a></div></div>
<div class="ttc" id="structTreeWalk_html_ada69256fab1ba3b0e5ff0f837f749b2e"><div class="ttname"><a href="structTreeWalk.html#ada69256fab1ba3b0e5ff0f837f749b2e">TreeWalk::timecomp1</a></div><div class="ttdeci">double timecomp1</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00101">treewalk.h:101</a></div></div>
<div class="ttc" id="structev__task_html_a2d45512d80ce10803d337ac2c82cc648"><div class="ttname"><a href="structev__task.html#a2d45512d80ce10803d337ac2c82cc648">ev_task::place</a></div><div class="ttdeci">int place</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00021">treewalk.c:21</a></div></div>
<div class="ttc" id="structdata__index_html_a821d25b97450a6d676a46cb6ea89adaa"><div class="ttname"><a href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">data_index::IndexGet</a></div><div class="ttdeci">int IndexGet</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00044">treewalk.c:44</a></div></div>
<div class="ttc" id="treewalk_8c_html_a571736d9ee463ca84af6c4b98079899e"><div class="ttname"><a href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a></div><div class="ttdeci">static struct data_nodelist  * DataNodeList</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a587df5201e3b9d6608189f9c606c2633_cgraph.svg" width="495" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a587df5201e3b9d6608189f9c606c2633_icgraph.svg" width="1819" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af906cc0eb36b216610435df321d8e7e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af906cc0eb36b216610435df321d8e7e3">&#9670;&nbsp;</a></span>ev_init_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ev_init_thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *&#160;</td>
          <td class="paramname"><em>lv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00110">110</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="treewalk_8c.html#a43acd135207b8928717a80d461c0da1c">Exportflag</a>, <a class="el" href="structLocalTreeWalk.html#a678bc9d7c6a02c8d15926609f8025a80">LocalTreeWalk::exportflag</a>, <a class="el" href="treewalk_8c.html#ab71b664c73f42ce057c7510e31bc57fe">Exportindex</a>, <a class="el" href="structLocalTreeWalk.html#ae0f3bbe608ee923cf4771abee672722a">LocalTreeWalk::exportindex</a>, <a class="el" href="treewalk_8c.html#acb34022c9e51da1272df23a54dcc5c3c">Exportnodecount</a>, <a class="el" href="structLocalTreeWalk.html#a15e405e84e467d04aa82cc15850b514e">LocalTreeWalk::exportnodecount</a>, <a class="el" href="treewalk_8c.html#ade1b96e6772d0d1ccb06bcbec352b5bd">Ngblist</a>, <a class="el" href="structLocalTreeWalk.html#a872d1ebfec863190d302352c40e9d034">LocalTreeWalk::ngblist</a>, <a class="el" href="structLocalTreeWalk.html#a8ba201fbee09b07625447ab9875f4743">LocalTreeWalk::Ninteractions</a>, <a class="el" href="structLocalTreeWalk.html#aa7cbd292623450f5c9edee6b05409078">LocalTreeWalk::Nnodesinlist</a>, <a class="el" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>, <a class="el" href="structpart__manager__type.html#ae19becfa10cbd680504de1eb3577cb75">part_manager_type::NumPart</a>, <a class="el" href="allvars_8h.html#a889ec205c635b219999c761b28cc39ba">omp_get_thread_num</a>, <a class="el" href="partmanager_8c.html#a6cef44682776e476d8f9f1b9e1f9fe16">PartManager</a>, and <a class="el" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">LocalTreeWalk::tw</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a6c043b95263071bc974da1c1cefc0a57">ev_secondary()</a>, and <a class="el" href="treewalk_8c.html#ac1f02f14261da08ead9e42a2fb09495e">real_ev()</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordtype">int</span> thread_id = <a class="code" href="allvars_8h.html#a889ec205c635b219999c761b28cc39ba">omp_get_thread_num</a>();</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordtype">int</span> j;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a> = tw;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    lv-&gt;<a class="code" href="structLocalTreeWalk.html#a678bc9d7c6a02c8d15926609f8025a80">exportflag</a> = <a class="code" href="treewalk_8c.html#a43acd135207b8928717a80d461c0da1c">Exportflag</a> + thread_id * <a class="code" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    lv-&gt;<a class="code" href="structLocalTreeWalk.html#a15e405e84e467d04aa82cc15850b514e">exportnodecount</a> = <a class="code" href="treewalk_8c.html#acb34022c9e51da1272df23a54dcc5c3c">Exportnodecount</a> + thread_id * <a class="code" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae0f3bbe608ee923cf4771abee672722a">exportindex</a> = <a class="code" href="treewalk_8c.html#ab71b664c73f42ce057c7510e31bc57fe">Exportindex</a> + thread_id * <a class="code" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    lv-&gt;<a class="code" href="structLocalTreeWalk.html#a8ba201fbee09b07625447ab9875f4743">Ninteractions</a> = 0;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    lv-&gt;<a class="code" href="structLocalTreeWalk.html#aa7cbd292623450f5c9edee6b05409078">Nnodesinlist</a> = 0;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    lv-&gt;<a class="code" href="structLocalTreeWalk.html#a872d1ebfec863190d302352c40e9d034">ngblist</a> = <a class="code" href="treewalk_8c.html#ade1b96e6772d0d1ccb06bcbec352b5bd">Ngblist</a> + thread_id * <a class="code" href="partmanager_8c.html#a6cef44682776e476d8f9f1b9e1f9fe16">PartManager</a>-&gt;<a class="code" href="structpart__manager__type.html#ae19becfa10cbd680504de1eb3577cb75">NumPart</a>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">for</span>(j = 0; j &lt; <a class="code" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>; j++)</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        lv-&gt;<a class="code" href="structLocalTreeWalk.html#a678bc9d7c6a02c8d15926609f8025a80">exportflag</a>[j] = -1;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div><div class="ttc" id="structLocalTreeWalk_html_a872d1ebfec863190d302352c40e9d034"><div class="ttname"><a href="structLocalTreeWalk.html#a872d1ebfec863190d302352c40e9d034">LocalTreeWalk::ngblist</a></div><div class="ttdeci">int * ngblist</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00050">treewalk.h:50</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a8ba201fbee09b07625447ab9875f4743"><div class="ttname"><a href="structLocalTreeWalk.html#a8ba201fbee09b07625447ab9875f4743">LocalTreeWalk::Ninteractions</a></div><div class="ttdeci">int64_t Ninteractions</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00051">treewalk.h:51</a></div></div>
<div class="ttc" id="allvars_8c_html_a675acdcd149f5993271a1fdc11673b65"><div class="ttname"><a href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a></div><div class="ttdeci">int NTask</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8c_source.html#l00025">allvars.c:25</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_aa7cbd292623450f5c9edee6b05409078"><div class="ttname"><a href="structLocalTreeWalk.html#aa7cbd292623450f5c9edee6b05409078">LocalTreeWalk::Nnodesinlist</a></div><div class="ttdeci">int64_t Nnodesinlist</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00052">treewalk.h:52</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a678bc9d7c6a02c8d15926609f8025a80"><div class="ttname"><a href="structLocalTreeWalk.html#a678bc9d7c6a02c8d15926609f8025a80">LocalTreeWalk::exportflag</a></div><div class="ttdeci">int * exportflag</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00047">treewalk.h:47</a></div></div>
<div class="ttc" id="treewalk_8c_html_ade1b96e6772d0d1ccb06bcbec352b5bd"><div class="ttname"><a href="treewalk_8c.html#ade1b96e6772d0d1ccb06bcbec352b5bd">Ngblist</a></div><div class="ttdeci">static int * Ngblist</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00024">treewalk.c:24</a></div></div>
<div class="ttc" id="allvars_8h_html_a889ec205c635b219999c761b28cc39ba"><div class="ttname"><a href="allvars_8h.html#a889ec205c635b219999c761b28cc39ba">omp_get_thread_num</a></div><div class="ttdeci">#define omp_get_thread_num()</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00034">allvars.h:34</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_ae7a5a56205348bfd1bcd544e13c4b702"><div class="ttname"><a href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">LocalTreeWalk::tw</a></div><div class="ttdeci">TreeWalk * tw</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00042">treewalk.h:42</a></div></div>
<div class="ttc" id="structpart__manager__type_html_ae19becfa10cbd680504de1eb3577cb75"><div class="ttname"><a href="structpart__manager__type.html#ae19becfa10cbd680504de1eb3577cb75">part_manager_type::NumPart</a></div><div class="ttdeci">int NumPart</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00093">partmanager.h:93</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_ae0f3bbe608ee923cf4771abee672722a"><div class="ttname"><a href="structLocalTreeWalk.html#ae0f3bbe608ee923cf4771abee672722a">LocalTreeWalk::exportindex</a></div><div class="ttdeci">int * exportindex</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00049">treewalk.h:49</a></div></div>
<div class="ttc" id="treewalk_8c_html_ab71b664c73f42ce057c7510e31bc57fe"><div class="ttname"><a href="treewalk_8c.html#ab71b664c73f42ce057c7510e31bc57fe">Exportindex</a></div><div class="ttdeci">static int * Exportindex</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00027">treewalk.c:27</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a15e405e84e467d04aa82cc15850b514e"><div class="ttname"><a href="structLocalTreeWalk.html#a15e405e84e467d04aa82cc15850b514e">LocalTreeWalk::exportnodecount</a></div><div class="ttdeci">int * exportnodecount</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00048">treewalk.h:48</a></div></div>
<div class="ttc" id="partmanager_8c_html_a6cef44682776e476d8f9f1b9e1f9fe16"><div class="ttname"><a href="partmanager_8c.html#a6cef44682776e476d8f9f1b9e1f9fe16">PartManager</a></div><div class="ttdeci">struct part_manager_type PartManager[1]</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8c_source.html#l00009">partmanager.c:9</a></div></div>
<div class="ttc" id="treewalk_8c_html_acb34022c9e51da1272df23a54dcc5c3c"><div class="ttname"><a href="treewalk_8c.html#acb34022c9e51da1272df23a54dcc5c3c">Exportnodecount</a></div><div class="ttdeci">static int * Exportnodecount</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00026">treewalk.c:26</a></div></div>
<div class="ttc" id="treewalk_8c_html_a43acd135207b8928717a80d461c0da1c"><div class="ttname"><a href="treewalk_8c.html#a43acd135207b8928717a80d461c0da1c">Exportflag</a></div><div class="ttdeci">static int * Exportflag</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00025">treewalk.c:25</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_af906cc0eb36b216610435df321d8e7e3_icgraph.svg" width="2076" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aecf470724936367dfc728a10b83152bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecf470724936367dfc728a10b83152bf">&#9670;&nbsp;</a></span>ev_ndone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ev_ndone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00421">421</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>, <a class="el" href="structTreeWalk.html#a52f391b3260152a9b7745b1fc5ddab13">TreeWalk::currentEnd</a>, <a class="el" href="structTreeWalk.html#ab88f1c20f5ab40c70744068d8bc19c4c">TreeWalk::currentIndex</a>, <a class="el" href="structglobal__data__all__processes.html#a8e038ee0e682cc8b6e5ac27b849253c5">global_data_all_processes::NumThreads</a>, <a class="el" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second()</a>, <a class="el" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff()</a>, and <a class="el" href="structTreeWalk.html#aacf67d9ea224563ae4006114d97e473c">TreeWalk::timewait2</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8h.html#aa6772bdbc1552278ca7dae6a9adb031d">treewalk_run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;{</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordtype">int</span> ndone;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordtype">double</span> tstart, tend;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    tstart = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordtype">int</span> done = 1;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#a8e038ee0e682cc8b6e5ac27b849253c5">NumThreads</a>; i ++) {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#ab88f1c20f5ab40c70744068d8bc19c4c">currentIndex</a>[i] &lt; tw-&gt;<a class="code" href="structTreeWalk.html#a52f391b3260152a9b7745b1fc5ddab13">currentEnd</a>[i]) {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            done = 0;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    MPI_Allreduce(&amp;done, &amp;ndone, 1, MPI_INT, MPI_SUM, MPI_COMM_WORLD);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    tend = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#aacf67d9ea224563ae4006114d97e473c">timewait2</a> += <a class="code" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a>(tstart, tend);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">return</span> ndone;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;}</div><div class="ttc" id="structglobal__data__all__processes_html_a8e038ee0e682cc8b6e5ac27b849253c5"><div class="ttname"><a href="structglobal__data__all__processes.html#a8e038ee0e682cc8b6e5ac27b849253c5">global_data_all_processes::NumThreads</a></div><div class="ttdeci">int NumThreads</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00169">allvars.h:169</a></div></div>
<div class="ttc" id="system_8c_html_a890645bdc4536bd797ca53028072e30d"><div class="ttname"><a href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a></div><div class="ttdeci">double timediff(double t0, double t1)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00149">system.c:149</a></div></div>
<div class="ttc" id="structTreeWalk_html_a52f391b3260152a9b7745b1fc5ddab13"><div class="ttname"><a href="structTreeWalk.html#a52f391b3260152a9b7745b1fc5ddab13">TreeWalk::currentEnd</a></div><div class="ttdeci">int * currentEnd</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00124">treewalk.h:124</a></div></div>
<div class="ttc" id="system_8c_html_ad24c35a2016ce428248988795c1d3174"><div class="ttname"><a href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a></div><div class="ttdeci">double second(void)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00140">system.c:140</a></div></div>
<div class="ttc" id="structTreeWalk_html_ab88f1c20f5ab40c70744068d8bc19c4c"><div class="ttname"><a href="structTreeWalk.html#ab88f1c20f5ab40c70744068d8bc19c4c">TreeWalk::currentIndex</a></div><div class="ttdeci">int * currentIndex</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00123">treewalk.h:123</a></div></div>
<div class="ttc" id="structTreeWalk_html_aacf67d9ea224563ae4006114d97e473c"><div class="ttname"><a href="structTreeWalk.html#aacf67d9ea224563ae4006114d97e473c">TreeWalk::timewait2</a></div><div class="ttdeci">double timewait2</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00100">treewalk.h:100</a></div></div>
<div class="ttc" id="allvars_8c_html_ad49123ae0461ffe61629a0d4cf2ba91f"><div class="ttname"><a href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a></div><div class="ttdeci">struct global_data_all_processes All</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8c_source.html#l00047">allvars.c:47</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_aecf470724936367dfc728a10b83152bf_cgraph.svg" width="203" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_aecf470724936367dfc728a10b83152bf_icgraph.svg" width="1790" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a5341d99d76201774516d5e551dc1c559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5341d99d76201774516d5e551dc1c559">&#9670;&nbsp;</a></span>ev_primary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ev_primary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00329">329</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="structTreeWalk.html#a8ab7e6e0602411dc1f3be72a346e76b9">TreeWalk::BufferFullFlag</a>, <a class="el" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">TreeWalk::BunchSize</a>, <a class="el" href="treewalk_8c.html#a29856852f0c0d76a35dc519a87c1fa17">data_index_compare()</a>, <a class="el" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a>, <a class="el" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun()</a>, <a class="el" href="treewalk_8c.html#a8756da05f289b9a4b4875ab58c4ba0bf">ev_alloc_threadlocals()</a>, <a class="el" href="treewalk_8c.html#a8aec9dd3728dfa077f70fb077b145ead">ev_free_threadlocals()</a>, <a class="el" href="structdata__index.html#a155c14e6f492c1e1c70f72a69cbbff2f">data_index::Index</a>, <a class="el" href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">data_index::IndexGet</a>, <a class="el" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">TreeWalk::Nexport</a>, <a class="el" href="structTreeWalk.html#a5bd5b81a4c35d81d83ceb4d374bda460">TreeWalk::Nimport</a>, <a class="el" href="structdata__nodelist.html#a6013b9f0c28891468a9b91bc39e52961">data_nodelist::NodeList</a>, <a class="el" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>, <a class="el" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>, <a class="el" href="structev__task.html#a2d45512d80ce10803d337ac2c82cc648">ev_task::place</a>, <a class="el" href="openmpsort_8c.html#a8938b38d71dd3b45bfc7cc745c096248">qsort_openmp()</a>, <a class="el" href="treewalk_8c.html#ac1f02f14261da08ead9e42a2fb09495e">real_ev()</a>, <a class="el" href="treewalk_8c.html#abe0df9311f86961bccfea23941bb6513">Recv_count</a>, <a class="el" href="treewalk_8c.html#a57d69aeac9f940d210a9e5d4b43952ca">Recv_offset</a>, <a class="el" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second()</a>, <a class="el" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a>, <a class="el" href="treewalk_8c.html#a8d6842f16ab6db63c401244f4b11cbe9">Send_offset</a>, <a class="el" href="mymalloc_8h.html#a52bc2c6ec78b17bb6d42957cbf642f15">ta_malloc</a>, <a class="el" href="structdata__index.html#a4074371073ee7171281ad6404f22c699">data_index::Task</a>, <a class="el" href="structTreeWalk.html#ada69256fab1ba3b0e5ff0f837f749b2e">TreeWalk::timecomp1</a>, <a class="el" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff()</a>, and <a class="el" href="structTreeWalk.html#ae62aa594cbe693d40de9334cc0f7c820">TreeWalk::timewait1</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8h.html#aa6772bdbc1552278ca7dae6a9adb031d">treewalk_run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;{</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordtype">double</span> tstart, tend;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#a8ab7e6e0602411dc1f3be72a346e76b9">BufferFullFlag</a> = 0;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a> = 0;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    tstart = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="preprocessor"> #pragma omp parallel for if(tw-&gt;BunchSize &gt; 1024) </span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; tw-&gt;<a class="code" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">BunchSize</a>; i ++) {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[i].<a class="code" href="structdata__index.html#a4074371073ee7171281ad6404f22c699">Task</a> = <a class="code" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="comment">/*entries with NTask is not filled with particles, and will be</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">         * sorted to the end */</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="treewalk_8c.html#a8756da05f289b9a4b4875ab58c4ba0bf">ev_alloc_threadlocals</a>();</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="preprocessor">#pragma omp parallel </span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    {</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="treewalk_8c.html#ac1f02f14261da08ead9e42a2fb09495e">real_ev</a>(tw);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <a class="code" href="treewalk_8c.html#a8aec9dd3728dfa077f70fb077b145ead">ev_free_threadlocals</a>();</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="comment">/* Nexport may go off too much after BunchSize </span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">     * as we don&#39;t protect it from over adding in _export_particle</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">     * */</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a> &gt; tw-&gt;<a class="code" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">BunchSize</a>)</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a> = tw-&gt;<a class="code" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">BunchSize</a>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    tend = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#ada69256fab1ba3b0e5ff0f837f749b2e">timecomp1</a> += <a class="code" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a>(tstart, tend);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">/* touching up the export list, remove incomplete particles */</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="preprocessor">#pragma omp parallel for if (tw-&gt;Nexport &gt; 1024) </span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a>; i ++) {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="comment">/* if the NodeList of the particle is incomplete due</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">         * to abandoned work, also do not export it */</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="structev__task.html#a2d45512d80ce10803d337ac2c82cc648">place</a> = <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[i].<a class="code" href="structdata__index.html#a155c14e6f492c1e1c70f72a69cbbff2f">Index</a>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">if</span>(! <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[place].Evaluated) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <span class="comment">/* NTask will be placed to the end by sorting */</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[i].<a class="code" href="structdata__index.html#a4074371073ee7171281ad6404f22c699">Task</a> = <a class="code" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>; </div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="comment">/* put in some junk so that we can detect them */</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <a class="code" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a>[<a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[i].<a class="code" href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">IndexGet</a>].<a class="code" href="structdata__nodelist.html#a6013b9f0c28891468a9b91bc39e52961">NodeList</a>[0] = -2;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="openmpsort_8c.html#a8938b38d71dd3b45bfc7cc745c096248">qsort_openmp</a>(<a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>, tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a>), <a class="code" href="treewalk_8c.html#a29856852f0c0d76a35dc519a87c1fa17">data_index_compare</a>);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">/* adjust Nexport to skip the allocated but unused ones due to threads */</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">while</span> (tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a> &gt; 0 &amp;&amp; <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a> - 1].<a class="code" href="structdata__index.html#a4074371073ee7171281ad6404f22c699">Task</a> == <a class="code" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>) {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a> --;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a> == 0 &amp;&amp; tw-&gt;<a class="code" href="structTreeWalk.html#a8ab7e6e0602411dc1f3be72a346e76b9">BufferFullFlag</a>) {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(1231245, <span class="stringliteral">&quot;Buffer too small for even one particle. For example, there are too many nodes&quot;</span>);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a> = (<span class="keywordtype">int</span> *) <a class="code" href="mymalloc_8h.html#a52bc2c6ec78b17bb6d42957cbf642f15">ta_malloc</a>(<span class="stringliteral">&quot;Send_count&quot;</span>, <span class="keywordtype">int</span>, 4*<a class="code" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="treewalk_8c.html#abe0df9311f86961bccfea23941bb6513">Recv_count</a> = <a class="code" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a> + <a class="code" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="treewalk_8c.html#a8d6842f16ab6db63c401244f4b11cbe9">Send_offset</a> = <a class="code" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a> + 2*<a class="code" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="treewalk_8c.html#a57d69aeac9f940d210a9e5d4b43952ca">Recv_offset</a> = <a class="code" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a> + 3*<a class="code" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">/* </span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">     * fill the communication layouts, </span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">     * here we reuse the legacy global variable names;</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">     * really should move them to local variables for the evaluator.</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">     * */</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>; i++)</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a>[i] = 0;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a>; i++) {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <a class="code" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a>[<a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[i].<a class="code" href="structdata__index.html#a4074371073ee7171281ad6404f22c699">Task</a>]++;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    tstart = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    MPI_Alltoall(<a class="code" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a>, 1, MPI_INT, <a class="code" href="treewalk_8c.html#abe0df9311f86961bccfea23941bb6513">Recv_count</a>, 1, MPI_INT, MPI_COMM_WORLD);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    tend = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#ae62aa594cbe693d40de9334cc0f7c820">timewait1</a> += <a class="code" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a>(tstart, tend);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">for</span>(i = 0, tw-&gt;<a class="code" href="structTreeWalk.html#a5bd5b81a4c35d81d83ceb4d374bda460">Nimport</a> = 0, <a class="code" href="treewalk_8c.html#a57d69aeac9f940d210a9e5d4b43952ca">Recv_offset</a>[0] = 0, <a class="code" href="treewalk_8c.html#a8d6842f16ab6db63c401244f4b11cbe9">Send_offset</a>[0] = 0; i &lt; NTask; i++)</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        tw-&gt;<a class="code" href="structTreeWalk.html#a5bd5b81a4c35d81d83ceb4d374bda460">Nimport</a> += <a class="code" href="treewalk_8c.html#abe0df9311f86961bccfea23941bb6513">Recv_count</a>[i];</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">if</span>(i &gt; 0)</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <a class="code" href="treewalk_8c.html#a8d6842f16ab6db63c401244f4b11cbe9">Send_offset</a>[i] = <a class="code" href="treewalk_8c.html#a8d6842f16ab6db63c401244f4b11cbe9">Send_offset</a>[i - 1] + <a class="code" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a>[i - 1];</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <a class="code" href="treewalk_8c.html#a57d69aeac9f940d210a9e5d4b43952ca">Recv_offset</a>[i] = <a class="code" href="treewalk_8c.html#a57d69aeac9f940d210a9e5d4b43952ca">Recv_offset</a>[i - 1] + <a class="code" href="treewalk_8c.html#abe0df9311f86961bccfea23941bb6513">Recv_count</a>[i - 1];</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">return</span> tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div><div class="ttc" id="structdata__nodelist_html_a6013b9f0c28891468a9b91bc39e52961"><div class="ttname"><a href="structdata__nodelist.html#a6013b9f0c28891468a9b91bc39e52961">data_nodelist::NodeList</a></div><div class="ttdeci">int NodeList[NODELISTLENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00032">treewalk.c:32</a></div></div>
<div class="ttc" id="system_8c_html_a890645bdc4536bd797ca53028072e30d"><div class="ttname"><a href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a></div><div class="ttdeci">double timediff(double t0, double t1)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00149">system.c:149</a></div></div>
<div class="ttc" id="partmanager_8h_html_a2748566f4c443ee77aa831e63dbb5ebe"><div class="ttname"><a href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a></div><div class="ttdeci">#define P</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00099">partmanager.h:99</a></div></div>
<div class="ttc" id="endrun_8c_html_ad963d7efdb9f10f7a2298c8ccd222ab0"><div class="ttname"><a href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a></div><div class="ttdeci">void endrun(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00210">endrun.c:210</a></div></div>
<div class="ttc" id="treewalk_8c_html_ae1ce32b3af7d102c9bfe189eeeef67d2"><div class="ttname"><a href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a></div><div class="ttdeci">static int * Send_count</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00028">treewalk.c:28</a></div></div>
<div class="ttc" id="mymalloc_8h_html_a52bc2c6ec78b17bb6d42957cbf642f15"><div class="ttname"><a href="mymalloc_8h.html#a52bc2c6ec78b17bb6d42957cbf642f15">ta_malloc</a></div><div class="ttdeci">#define ta_malloc(name, type, nele)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00022">mymalloc.h:22</a></div></div>
<div class="ttc" id="openmpsort_8c_html_a8938b38d71dd3b45bfc7cc745c096248"><div class="ttname"><a href="openmpsort_8c.html#a8938b38d71dd3b45bfc7cc745c096248">qsort_openmp</a></div><div class="ttdeci">void qsort_openmp(void *base, size_t nmemb, size_t size, int(*compar)(const void *, const void *))</div><div class="ttdef"><b>Definition:</b> <a href="openmpsort_8c_source.html#l00204">openmpsort.c:204</a></div></div>
<div class="ttc" id="treewalk_8c_html_a29856852f0c0d76a35dc519a87c1fa17"><div class="ttname"><a href="treewalk_8c.html#a29856852f0c0d76a35dc519a87c1fa17">data_index_compare</a></div><div class="ttdeci">static int data_index_compare(const void *a, const void *b)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00077">treewalk.c:77</a></div></div>
<div class="ttc" id="treewalk_8c_html_a8aec9dd3728dfa077f70fb077b145ead"><div class="ttname"><a href="treewalk_8c.html#a8aec9dd3728dfa077f70fb077b145ead">ev_free_threadlocals</a></div><div class="ttdeci">static void ev_free_threadlocals()</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00136">treewalk.c:136</a></div></div>
<div class="ttc" id="structdata__index_html_a4074371073ee7171281ad6404f22c699"><div class="ttname"><a href="structdata__index.html#a4074371073ee7171281ad6404f22c699">data_index::Task</a></div><div class="ttdeci">int Task</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00042">treewalk.c:42</a></div></div>
<div class="ttc" id="treewalk_8c_html_abe0df9311f86961bccfea23941bb6513"><div class="ttname"><a href="treewalk_8c.html#abe0df9311f86961bccfea23941bb6513">Recv_count</a></div><div class="ttdeci">static int * Recv_count</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00028">treewalk.c:28</a></div></div>
<div class="ttc" id="structTreeWalk_html_a9cf8342687bbd213c2324c948ca0f9c0"><div class="ttname"><a href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">TreeWalk::Nexport</a></div><div class="ttdeci">int Nexport</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00113">treewalk.h:113</a></div></div>
<div class="ttc" id="allvars_8c_html_a675acdcd149f5993271a1fdc11673b65"><div class="ttname"><a href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a></div><div class="ttdeci">int NTask</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8c_source.html#l00025">allvars.c:25</a></div></div>
<div class="ttc" id="system_8c_html_ad24c35a2016ce428248988795c1d3174"><div class="ttname"><a href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a></div><div class="ttdeci">double second(void)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00140">system.c:140</a></div></div>
<div class="ttc" id="structTreeWalk_html_a4265d246159741451ee1d24ea65e7323"><div class="ttname"><a href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">TreeWalk::BunchSize</a></div><div class="ttdeci">int BunchSize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00116">treewalk.h:116</a></div></div>
<div class="ttc" id="treewalk_8c_html_a57d69aeac9f940d210a9e5d4b43952ca"><div class="ttname"><a href="treewalk_8c.html#a57d69aeac9f940d210a9e5d4b43952ca">Recv_offset</a></div><div class="ttdeci">static int * Recv_offset</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00028">treewalk.c:28</a></div></div>
<div class="ttc" id="treewalk_8c_html_adf63e880533c73bcbc5ae63dd833459c"><div class="ttname"><a href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a></div><div class="ttdeci">static struct data_index * DataIndexTable</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00047">treewalk.c:47</a></div></div>
<div class="ttc" id="structdata__index_html"><div class="ttname"><a href="structdata__index.html">data_index</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00040">treewalk.c:40</a></div></div>
<div class="ttc" id="structTreeWalk_html_a5bd5b81a4c35d81d83ceb4d374bda460"><div class="ttname"><a href="structTreeWalk.html#a5bd5b81a4c35d81d83ceb4d374bda460">TreeWalk::Nimport</a></div><div class="ttdeci">int Nimport</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00114">treewalk.h:114</a></div></div>
<div class="ttc" id="structdata__index_html_a155c14e6f492c1e1c70f72a69cbbff2f"><div class="ttname"><a href="structdata__index.html#a155c14e6f492c1e1c70f72a69cbbff2f">data_index::Index</a></div><div class="ttdeci">int Index</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00043">treewalk.c:43</a></div></div>
<div class="ttc" id="treewalk_8c_html_ac1f02f14261da08ead9e42a2fb09495e"><div class="ttname"><a href="treewalk_8c.html#ac1f02f14261da08ead9e42a2fb09495e">real_ev</a></div><div class="ttdeci">static void real_ev(TreeWalk *tw)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00221">treewalk.c:221</a></div></div>
<div class="ttc" id="treewalk_8c_html_a8d6842f16ab6db63c401244f4b11cbe9"><div class="ttname"><a href="treewalk_8c.html#a8d6842f16ab6db63c401244f4b11cbe9">Send_offset</a></div><div class="ttdeci">static int * Send_offset</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00028">treewalk.c:28</a></div></div>
<div class="ttc" id="structTreeWalk_html_ada69256fab1ba3b0e5ff0f837f749b2e"><div class="ttname"><a href="structTreeWalk.html#ada69256fab1ba3b0e5ff0f837f749b2e">TreeWalk::timecomp1</a></div><div class="ttdeci">double timecomp1</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00101">treewalk.h:101</a></div></div>
<div class="ttc" id="structev__task_html_a2d45512d80ce10803d337ac2c82cc648"><div class="ttname"><a href="structev__task.html#a2d45512d80ce10803d337ac2c82cc648">ev_task::place</a></div><div class="ttdeci">int place</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00021">treewalk.c:21</a></div></div>
<div class="ttc" id="structdata__index_html_a821d25b97450a6d676a46cb6ea89adaa"><div class="ttname"><a href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">data_index::IndexGet</a></div><div class="ttdeci">int IndexGet</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00044">treewalk.c:44</a></div></div>
<div class="ttc" id="treewalk_8c_html_a571736d9ee463ca84af6c4b98079899e"><div class="ttname"><a href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a></div><div class="ttdeci">static struct data_nodelist  * DataNodeList</div></div>
<div class="ttc" id="structTreeWalk_html_a8ab7e6e0602411dc1f3be72a346e76b9"><div class="ttname"><a href="structTreeWalk.html#a8ab7e6e0602411dc1f3be72a346e76b9">TreeWalk::BufferFullFlag</a></div><div class="ttdeci">int BufferFullFlag</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00115">treewalk.h:115</a></div></div>
<div class="ttc" id="structTreeWalk_html_ae62aa594cbe693d40de9334cc0f7c820"><div class="ttname"><a href="structTreeWalk.html#ae62aa594cbe693d40de9334cc0f7c820">TreeWalk::timewait1</a></div><div class="ttdeci">double timewait1</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00099">treewalk.h:99</a></div></div>
<div class="ttc" id="treewalk_8c_html_a8756da05f289b9a4b4875ab58c4ba0bf"><div class="ttname"><a href="treewalk_8c.html#a8756da05f289b9a4b4875ab58c4ba0bf">ev_alloc_threadlocals</a></div><div class="ttdeci">static void ev_alloc_threadlocals()</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00126">treewalk.c:126</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a5341d99d76201774516d5e551dc1c559_cgraph.svg" width="662" height="418"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a5341d99d76201774516d5e551dc1c559_icgraph.svg" width="1798" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="afe78385cec6aabfdd65e6c619a307ef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe78385cec6aabfdd65e6c619a307ef3">&#9670;&nbsp;</a></span>ev_reduce_result()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ev_reduce_result </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00668">668</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="treewalk_8c.html#ae4323d8e8e5005a65e1e9bfafc706858">data_index_compare_by_index()</a>, <a class="el" href="structTreeWalk.html#a78f910ce94e9f9a0bfa4d3f70120cbb7">TreeWalk::dataget</a>, <a class="el" href="structTreeWalk.html#a295046bb8f0a4349147a64d991dfd253">TreeWalk::dataresult</a>, <a class="el" href="treewalk_8c.html#a813df07bf8486b29f23977363a59dea2">ev_communicate()</a>, <a class="el" href="structdata__index.html#a155c14e6f492c1e1c70f72a69cbbff2f">data_index::Index</a>, <a class="el" href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">data_index::IndexGet</a>, <a class="el" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>, <a class="el" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>, <a class="el" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">TreeWalk::Nexport</a>, <a class="el" href="structev__task.html#a2d45512d80ce10803d337ac2c82cc648">ev_task::place</a>, <a class="el" href="openmpsort_8c.html#a8938b38d71dd3b45bfc7cc745c096248">qsort_openmp()</a>, <a class="el" href="structTreeWalk.html#aa08a0586a68d1f4f87e0caa1e59dcc5e">TreeWalk::reduce</a>, <a class="el" href="structTreeWalk.html#ac8c67faaf2c360ed510c4508f11f7c2d">TreeWalk::result_type_elsize</a>, <a class="el" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second()</a>, <a class="el" href="structTreeWalk.html#ae663d6653b464f02c95c57ae4a5bdd3a">TreeWalk::timecommsumm2</a>, <a class="el" href="structTreeWalk.html#ada69256fab1ba3b0e5ff0f837f749b2e">TreeWalk::timecomp1</a>, <a class="el" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff()</a>, <a class="el" href="structev__task.html#ad48233945fa17e1dc5e104f816b3f6f4">ev_task::top_node</a>, <a class="el" href="treewalk_8h.html#a504d8280eaa376504899398c68577cefaff5a9c7f5eed52d1e5829852038aac3f">TREEWALK_GHOSTS</a>, and <a class="el" href="treewalk_8c.html#ac3d61be6b2bd96daed4c4a17521a0fda">treewalk_reduce_result()</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8h.html#aa6772bdbc1552278ca7dae6a9adb031d">treewalk_run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;{</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordtype">int</span> j;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordtype">double</span> tstart, tend;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordtype">void</span> * sendbuf = tw-&gt;<a class="code" href="structTreeWalk.html#a295046bb8f0a4349147a64d991dfd253">dataresult</a>;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordtype">char</span> * recvbuf = (<span class="keywordtype">char</span>*) <a class="code" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>(<span class="stringliteral">&quot;EvDataOut&quot;</span>, </div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a> * tw-&gt;<a class="code" href="structTreeWalk.html#ac8c67faaf2c360ed510c4508f11f7c2d">result_type_elsize</a>);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    tstart = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="treewalk_8c.html#a813df07bf8486b29f23977363a59dea2">ev_communicate</a>(sendbuf, recvbuf, tw-&gt;<a class="code" href="structTreeWalk.html#ac8c67faaf2c360ed510c4508f11f7c2d">result_type_elsize</a>, 1);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    tend = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#ae663d6653b464f02c95c57ae4a5bdd3a">timecommsumm2</a> += <a class="code" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a>(tstart, tend);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    tstart = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">for</span>(j = 0; j &lt; tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a>; j++) {</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[j].<a class="code" href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">IndexGet</a> = j;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="comment">/* mysort is a lie! */</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <a class="code" href="openmpsort_8c.html#a8938b38d71dd3b45bfc7cc745c096248">qsort_openmp</a>(<a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>, tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structdata__index.html">data_index</a>), <a class="code" href="treewalk_8c.html#ae4323d8e8e5005a65e1e9bfafc706858">data_index_compare_by_index</a>);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    </div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordtype">int</span> * UniqueOff = <a class="code" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>(<span class="stringliteral">&quot;UniqueIndex&quot;</span>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * (tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a> + 1));</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    UniqueOff[0] = 0;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordtype">int</span> Nunique = 0;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">for</span>(j = 1; j &lt; tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a>; j++) {</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[j].Index != <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[j-1].Index)</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            UniqueOff[++Nunique] = j;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a> &gt; 0)</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        UniqueOff[++Nunique] = tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a>;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#aa08a0586a68d1f4f87e0caa1e59dcc5e">reduce</a> != NULL) {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="preprocessor">#pragma omp parallel for private(j) if(Nunique &gt; 16)</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="keywordflow">for</span>(j = 0; j &lt; Nunique; j++)</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        {</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="keywordtype">int</span> k;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="structev__task.html#a2d45512d80ce10803d337ac2c82cc648">place</a> = <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[UniqueOff[j]].<a class="code" href="structdata__index.html#a155c14e6f492c1e1c70f72a69cbbff2f">Index</a>;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            <span class="keywordtype">int</span> start = UniqueOff[j];</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordtype">int</span> end = UniqueOff[j + 1];</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            <span class="keywordflow">for</span>(k = start; k &lt; end; k++) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                <span class="keywordtype">int</span> <span class="keyword">get</span> = <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[k].<a class="code" href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">IndexGet</a>;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                <a class="code" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> * output = (<a class="code" href="structTreeWalkResultBase.html">TreeWalkResultBase</a>*) (recvbuf + tw-&gt;<a class="code" href="structTreeWalk.html#ac8c67faaf2c360ed510c4508f11f7c2d">result_type_elsize</a> * <span class="keyword">get</span>);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                <a class="code" href="treewalk_8c.html#ac3d61be6b2bd96daed4c4a17521a0fda">treewalk_reduce_result</a>(tw, output, place, <a class="code" href="treewalk_8h.html#a504d8280eaa376504899398c68577cefaff5a9c7f5eed52d1e5829852038aac3f">TREEWALK_GHOSTS</a>);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        }</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(UniqueOff);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    tend = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#ada69256fab1ba3b0e5ff0f837f749b2e">timecomp1</a> += <a class="code" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a>(tstart, tend);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(recvbuf);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(tw-&gt;<a class="code" href="structTreeWalk.html#a295046bb8f0a4349147a64d991dfd253">dataresult</a>);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(tw-&gt;<a class="code" href="structTreeWalk.html#a78f910ce94e9f9a0bfa4d3f70120cbb7">dataget</a>);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;}</div><div class="ttc" id="mymalloc_8h_html_af469c2f7e504a771f5d8a91ac9623240"><div class="ttname"><a href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a></div><div class="ttdeci">#define myfree(x)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00016">mymalloc.h:16</a></div></div>
<div class="ttc" id="system_8c_html_a890645bdc4536bd797ca53028072e30d"><div class="ttname"><a href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a></div><div class="ttdeci">double timediff(double t0, double t1)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00149">system.c:149</a></div></div>
<div class="ttc" id="treewalk_8c_html_a813df07bf8486b29f23977363a59dea2"><div class="ttname"><a href="treewalk_8c.html#a813df07bf8486b29f23977363a59dea2">ev_communicate</a></div><div class="ttdeci">static void ev_communicate(void *sendbuf, void *recvbuf, size_t elsize, int import)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00597">treewalk.c:597</a></div></div>
<div class="ttc" id="structTreeWalk_html_ae663d6653b464f02c95c57ae4a5bdd3a"><div class="ttname"><a href="structTreeWalk.html#ae663d6653b464f02c95c57ae4a5bdd3a">TreeWalk::timecommsumm2</a></div><div class="ttdeci">double timecommsumm2</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00105">treewalk.h:105</a></div></div>
<div class="ttc" id="structTreeWalk_html_a78f910ce94e9f9a0bfa4d3f70120cbb7"><div class="ttname"><a href="structTreeWalk.html#a78f910ce94e9f9a0bfa4d3f70120cbb7">TreeWalk::dataget</a></div><div class="ttdeci">char * dataget</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00095">treewalk.h:95</a></div></div>
<div class="ttc" id="treewalk_8h_html_a504d8280eaa376504899398c68577cefaff5a9c7f5eed52d1e5829852038aac3f"><div class="ttname"><a href="treewalk_8h.html#a504d8280eaa376504899398c68577cefaff5a9c7f5eed52d1e5829852038aac3f">TREEWALK_GHOSTS</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00016">treewalk.h:16</a></div></div>
<div class="ttc" id="openmpsort_8c_html_a8938b38d71dd3b45bfc7cc745c096248"><div class="ttname"><a href="openmpsort_8c.html#a8938b38d71dd3b45bfc7cc745c096248">qsort_openmp</a></div><div class="ttdeci">void qsort_openmp(void *base, size_t nmemb, size_t size, int(*compar)(const void *, const void *))</div><div class="ttdef"><b>Definition:</b> <a href="openmpsort_8c_source.html#l00204">openmpsort.c:204</a></div></div>
<div class="ttc" id="structTreeWalk_html_aa08a0586a68d1f4f87e0caa1e59dcc5e"><div class="ttname"><a href="structTreeWalk.html#aa08a0586a68d1f4f87e0caa1e59dcc5e">TreeWalk::reduce</a></div><div class="ttdeci">TreeWalkReduceResultFunction reduce</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00088">treewalk.h:88</a></div></div>
<div class="ttc" id="treewalk_8c_html_ac3d61be6b2bd96daed4c4a17521a0fda"><div class="ttname"><a href="treewalk_8c.html#ac3d61be6b2bd96daed4c4a17521a0fda">treewalk_reduce_result</a></div><div class="ttdeci">static void treewalk_reduce_result(TreeWalk *tw, TreeWalkResultBase *result, int i, enum TreeWalkReduceMode mode)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00215">treewalk.c:215</a></div></div>
<div class="ttc" id="structTreeWalkResultBase_html"><div class="ttname"><a href="structTreeWalkResultBase.html">TreeWalkResultBase</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00027">treewalk.h:27</a></div></div>
<div class="ttc" id="structTreeWalk_html_ac8c67faaf2c360ed510c4508f11f7c2d"><div class="ttname"><a href="structTreeWalk.html#ac8c67faaf2c360ed510c4508f11f7c2d">TreeWalk::result_type_elsize</a></div><div class="ttdeci">size_t result_type_elsize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00080">treewalk.h:80</a></div></div>
<div class="ttc" id="treewalk_8c_html_ae4323d8e8e5005a65e1e9bfafc706858"><div class="ttname"><a href="treewalk_8c.html#ae4323d8e8e5005a65e1e9bfafc706858">data_index_compare_by_index</a></div><div class="ttdeci">static int data_index_compare_by_index(const void *a, const void *b)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00651">treewalk.c:651</a></div></div>
<div class="ttc" id="structTreeWalk_html_a9cf8342687bbd213c2324c948ca0f9c0"><div class="ttname"><a href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">TreeWalk::Nexport</a></div><div class="ttdeci">int Nexport</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00113">treewalk.h:113</a></div></div>
<div class="ttc" id="system_8c_html_ad24c35a2016ce428248988795c1d3174"><div class="ttname"><a href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a></div><div class="ttdeci">double second(void)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00140">system.c:140</a></div></div>
<div class="ttc" id="mymalloc_8h_html_a3eb707b32b6ac69f2df085e4bc098cc4"><div class="ttname"><a href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a></div><div class="ttdeci">#define mymalloc(name, size)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00012">mymalloc.h:12</a></div></div>
<div class="ttc" id="structTreeWalk_html_a295046bb8f0a4349147a64d991dfd253"><div class="ttname"><a href="structTreeWalk.html#a295046bb8f0a4349147a64d991dfd253">TreeWalk::dataresult</a></div><div class="ttdeci">char * dataresult</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00096">treewalk.h:96</a></div></div>
<div class="ttc" id="treewalk_8c_html_adf63e880533c73bcbc5ae63dd833459c"><div class="ttname"><a href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a></div><div class="ttdeci">static struct data_index * DataIndexTable</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00047">treewalk.c:47</a></div></div>
<div class="ttc" id="structdata__index_html"><div class="ttname"><a href="structdata__index.html">data_index</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00040">treewalk.c:40</a></div></div>
<div class="ttc" id="structdata__index_html_a155c14e6f492c1e1c70f72a69cbbff2f"><div class="ttname"><a href="structdata__index.html#a155c14e6f492c1e1c70f72a69cbbff2f">data_index::Index</a></div><div class="ttdeci">int Index</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00043">treewalk.c:43</a></div></div>
<div class="ttc" id="structTreeWalk_html_ada69256fab1ba3b0e5ff0f837f749b2e"><div class="ttname"><a href="structTreeWalk.html#ada69256fab1ba3b0e5ff0f837f749b2e">TreeWalk::timecomp1</a></div><div class="ttdeci">double timecomp1</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00101">treewalk.h:101</a></div></div>
<div class="ttc" id="structev__task_html_a2d45512d80ce10803d337ac2c82cc648"><div class="ttname"><a href="structev__task.html#a2d45512d80ce10803d337ac2c82cc648">ev_task::place</a></div><div class="ttdeci">int place</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00021">treewalk.c:21</a></div></div>
<div class="ttc" id="structdata__index_html_a821d25b97450a6d676a46cb6ea89adaa"><div class="ttname"><a href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">data_index::IndexGet</a></div><div class="ttdeci">int IndexGet</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00044">treewalk.c:44</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_afe78385cec6aabfdd65e6c619a307ef3_cgraph.svg" width="530" height="307"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_afe78385cec6aabfdd65e6c619a307ef3_icgraph.svg" width="1832" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a6c043b95263071bc974da1c1cefc0a57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c043b95263071bc974da1c1cefc0a57">&#9670;&nbsp;</a></span>ev_secondary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ev_secondary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00441">441</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="structTreeWalk.html#a78f910ce94e9f9a0bfa4d3f70120cbb7">TreeWalk::dataget</a>, <a class="el" href="structTreeWalk.html#a295046bb8f0a4349147a64d991dfd253">TreeWalk::dataresult</a>, <a class="el" href="treewalk_8c.html#a8756da05f289b9a4b4875ab58c4ba0bf">ev_alloc_threadlocals()</a>, <a class="el" href="treewalk_8c.html#a8aec9dd3728dfa077f70fb077b145ead">ev_free_threadlocals()</a>, <a class="el" href="treewalk_8c.html#af906cc0eb36b216610435df321d8e7e3">ev_init_thread()</a>, <a class="el" href="structLocalTreeWalk.html#a410824495c7cec6123947280f1457a73">LocalTreeWalk::mode</a>, <a class="el" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>, <a class="el" href="structTreeWalk.html#a5bd5b81a4c35d81d83ceb4d374bda460">TreeWalk::Nimport</a>, <a class="el" href="structLocalTreeWalk.html#a8ba201fbee09b07625447ab9875f4743">LocalTreeWalk::Ninteractions</a>, <a class="el" href="structTreeWalk.html#a926648383922824ef5ecba988a3b3748">TreeWalk::Ninteractions</a>, <a class="el" href="structLocalTreeWalk.html#aa7cbd292623450f5c9edee6b05409078">LocalTreeWalk::Nnodesinlist</a>, <a class="el" href="structTreeWalk.html#abd4d886f34d6526784e096fc194df4f4">TreeWalk::Nnodesinlist</a>, <a class="el" href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">TreeWalkQueryBase::NodeList</a>, <a class="el" href="structTreeWalk.html#affd5eae4b5a63dcce236ac15b00b4c7c">TreeWalk::query_type_elsize</a>, <a class="el" href="structTreeWalk.html#ac8c67faaf2c360ed510c4508f11f7c2d">TreeWalk::result_type_elsize</a>, <a class="el" href="forcetree_8c.html#a864c54aa65cc3be72a6ee67e77d4324a">RootNode</a>, <a class="el" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second()</a>, <a class="el" href="structLocalTreeWalk.html#ae999a6a9e0f7ba9597270d2acba0f7c0">LocalTreeWalk::target</a>, <a class="el" href="structTreeWalk.html#a6518c361d396be49a9d1c676d8769802">TreeWalk::timecomp2</a>, <a class="el" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff()</a>, <a class="el" href="treewalk_8c.html#af7a85c8514602df4d3dd61f4ef3e0d48">treewalk_init_result()</a>, <a class="el" href="structTreeWalk.html#adc62eb856144faf75a8759af94f4b92f">TreeWalk::UseNodeList</a>, and <a class="el" href="structTreeWalk.html#ab4e96e67f2e72ac33dca9dd06cdac6c0">TreeWalk::visit</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8h.html#aa6772bdbc1552278ca7dae6a9adb031d">treewalk_run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;{</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordtype">double</span> tstart, tend;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    tstart = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#a295046bb8f0a4349147a64d991dfd253">dataresult</a> = <a class="code" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>(<span class="stringliteral">&quot;EvDataResult&quot;</span>, tw-&gt;<a class="code" href="structTreeWalk.html#a5bd5b81a4c35d81d83ceb4d374bda460">Nimport</a> * tw-&gt;<a class="code" href="structTreeWalk.html#ac8c67faaf2c360ed510c4508f11f7c2d">result_type_elsize</a>);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="treewalk_8c.html#a8756da05f289b9a4b4875ab58c4ba0bf">ev_alloc_threadlocals</a>();</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="preprocessor">#pragma omp parallel </span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordtype">int</span> j;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <a class="code" href="structLocalTreeWalk.html">LocalTreeWalk</a> lv[1];</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <a class="code" href="treewalk_8c.html#af906cc0eb36b216610435df321d8e7e3">ev_init_thread</a>(tw, lv);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        lv-&gt;<a class="code" href="structLocalTreeWalk.html#a410824495c7cec6123947280f1457a73">mode</a> = 1;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="preprocessor">#pragma omp for</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">for</span>(j = 0; j &lt; tw-&gt;<a class="code" href="structTreeWalk.html#a5bd5b81a4c35d81d83ceb4d374bda460">Nimport</a>; j++) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <a class="code" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> * input = (<a class="code" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a>*) (tw-&gt;<a class="code" href="structTreeWalk.html#a78f910ce94e9f9a0bfa4d3f70120cbb7">dataget</a> + j * tw-&gt;<a class="code" href="structTreeWalk.html#affd5eae4b5a63dcce236ac15b00b4c7c">query_type_elsize</a>);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <a class="code" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> * output = (<a class="code" href="structTreeWalkResultBase.html">TreeWalkResultBase</a>*)(tw-&gt;<a class="code" href="structTreeWalk.html#a295046bb8f0a4349147a64d991dfd253">dataresult</a> + j * tw-&gt;<a class="code" href="structTreeWalk.html#ac8c67faaf2c360ed510c4508f11f7c2d">result_type_elsize</a>);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <a class="code" href="treewalk_8c.html#af7a85c8514602df4d3dd61f4ef3e0d48">treewalk_init_result</a>(tw, output, input);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <span class="keywordflow">if</span>(!tw-&gt;<a class="code" href="structTreeWalk.html#adc62eb856144faf75a8759af94f4b92f">UseNodeList</a>) {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                <span class="keywordflow">if</span>(input-&gt;<a class="code" href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">NodeList</a>[0] != <a class="code" href="forcetree_8c.html#a864c54aa65cc3be72a6ee67e77d4324a">RootNode</a>) abort(); <span class="comment">/* root node */</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                <span class="keywordflow">if</span>(input-&gt;<a class="code" href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">NodeList</a>[1] != -1) abort(); <span class="comment">/* terminate immediately */</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae999a6a9e0f7ba9597270d2acba0f7c0">target</a> = -1;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            tw-&gt;<a class="code" href="structTreeWalk.html#ab4e96e67f2e72ac33dca9dd06cdac6c0">visit</a>(input, output, lv);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="preprocessor">#pragma omp atomic</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        tw-&gt;<a class="code" href="structTreeWalk.html#a926648383922824ef5ecba988a3b3748">Ninteractions</a> += lv-&gt;<a class="code" href="structLocalTreeWalk.html#a8ba201fbee09b07625447ab9875f4743">Ninteractions</a>;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="preprocessor">#pragma omp atomic</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        tw-&gt;<a class="code" href="structTreeWalk.html#abd4d886f34d6526784e096fc194df4f4">Nnodesinlist</a> += lv-&gt;<a class="code" href="structLocalTreeWalk.html#aa7cbd292623450f5c9edee6b05409078">Nnodesinlist</a>;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <a class="code" href="treewalk_8c.html#a8aec9dd3728dfa077f70fb077b145ead">ev_free_threadlocals</a>();</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    tend = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#a6518c361d396be49a9d1c676d8769802">timecomp2</a> += <a class="code" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a>(tstart, tend);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;}</div><div class="ttc" id="structTreeWalkQueryBase_html"><div class="ttname"><a href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00021">treewalk.h:21</a></div></div>
<div class="ttc" id="system_8c_html_a890645bdc4536bd797ca53028072e30d"><div class="ttname"><a href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a></div><div class="ttdeci">double timediff(double t0, double t1)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00149">system.c:149</a></div></div>
<div class="ttc" id="structTreeWalk_html_a78f910ce94e9f9a0bfa4d3f70120cbb7"><div class="ttname"><a href="structTreeWalk.html#a78f910ce94e9f9a0bfa4d3f70120cbb7">TreeWalk::dataget</a></div><div class="ttdeci">char * dataget</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00095">treewalk.h:95</a></div></div>
<div class="ttc" id="structTreeWalk_html_affd5eae4b5a63dcce236ac15b00b4c7c"><div class="ttname"><a href="structTreeWalk.html#affd5eae4b5a63dcce236ac15b00b4c7c">TreeWalk::query_type_elsize</a></div><div class="ttdeci">size_t query_type_elsize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00079">treewalk.h:79</a></div></div>
<div class="ttc" id="structTreeWalk_html_adc62eb856144faf75a8759af94f4b92f"><div class="ttname"><a href="structTreeWalk.html#adc62eb856144faf75a8759af94f4b92f">TreeWalk::UseNodeList</a></div><div class="ttdeci">int UseNodeList</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00093">treewalk.h:93</a></div></div>
<div class="ttc" id="treewalk_8c_html_a8aec9dd3728dfa077f70fb077b145ead"><div class="ttname"><a href="treewalk_8c.html#a8aec9dd3728dfa077f70fb077b145ead">ev_free_threadlocals</a></div><div class="ttdeci">static void ev_free_threadlocals()</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00136">treewalk.c:136</a></div></div>
<div class="ttc" id="treewalk_8c_html_af7a85c8514602df4d3dd61f4ef3e0d48"><div class="ttname"><a href="treewalk_8c.html#af7a85c8514602df4d3dd61f4ef3e0d48">treewalk_init_result</a></div><div class="ttdeci">static void treewalk_init_result(TreeWalk *tw, TreeWalkResultBase *result, TreeWalkQueryBase *query)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00208">treewalk.c:208</a></div></div>
<div class="ttc" id="structTreeWalkResultBase_html"><div class="ttname"><a href="structTreeWalkResultBase.html">TreeWalkResultBase</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00027">treewalk.h:27</a></div></div>
<div class="ttc" id="structTreeWalk_html_ac8c67faaf2c360ed510c4508f11f7c2d"><div class="ttname"><a href="structTreeWalk.html#ac8c67faaf2c360ed510c4508f11f7c2d">TreeWalk::result_type_elsize</a></div><div class="ttdeci">size_t result_type_elsize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00080">treewalk.h:80</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a8ba201fbee09b07625447ab9875f4743"><div class="ttname"><a href="structLocalTreeWalk.html#a8ba201fbee09b07625447ab9875f4743">LocalTreeWalk::Ninteractions</a></div><div class="ttdeci">int64_t Ninteractions</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00051">treewalk.h:51</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_aa7cbd292623450f5c9edee6b05409078"><div class="ttname"><a href="structLocalTreeWalk.html#aa7cbd292623450f5c9edee6b05409078">LocalTreeWalk::Nnodesinlist</a></div><div class="ttdeci">int64_t Nnodesinlist</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00052">treewalk.h:52</a></div></div>
<div class="ttc" id="system_8c_html_ad24c35a2016ce428248988795c1d3174"><div class="ttname"><a href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a></div><div class="ttdeci">double second(void)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00140">system.c:140</a></div></div>
<div class="ttc" id="mymalloc_8h_html_a3eb707b32b6ac69f2df085e4bc098cc4"><div class="ttname"><a href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a></div><div class="ttdeci">#define mymalloc(name, size)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00012">mymalloc.h:12</a></div></div>
<div class="ttc" id="structTreeWalk_html_ab4e96e67f2e72ac33dca9dd06cdac6c0"><div class="ttname"><a href="structTreeWalk.html#ab4e96e67f2e72ac33dca9dd06cdac6c0">TreeWalk::visit</a></div><div class="ttdeci">TreeWalkVisitFunction visit</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00085">treewalk.h:85</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html"><div class="ttname"><a href="structLocalTreeWalk.html">LocalTreeWalk</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00041">treewalk.h:41</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_ae999a6a9e0f7ba9597270d2acba0f7c0"><div class="ttname"><a href="structLocalTreeWalk.html#ae999a6a9e0f7ba9597270d2acba0f7c0">LocalTreeWalk::target</a></div><div class="ttdeci">int target</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00045">treewalk.h:45</a></div></div>
<div class="ttc" id="structTreeWalk_html_a295046bb8f0a4349147a64d991dfd253"><div class="ttname"><a href="structTreeWalk.html#a295046bb8f0a4349147a64d991dfd253">TreeWalk::dataresult</a></div><div class="ttdeci">char * dataresult</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00096">treewalk.h:96</a></div></div>
<div class="ttc" id="structTreeWalk_html_a926648383922824ef5ecba988a3b3748"><div class="ttname"><a href="structTreeWalk.html#a926648383922824ef5ecba988a3b3748">TreeWalk::Ninteractions</a></div><div class="ttdeci">int64_t Ninteractions</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00106">treewalk.h:106</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a410824495c7cec6123947280f1457a73"><div class="ttname"><a href="structLocalTreeWalk.html#a410824495c7cec6123947280f1457a73">LocalTreeWalk::mode</a></div><div class="ttdeci">int mode</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00044">treewalk.h:44</a></div></div>
<div class="ttc" id="structTreeWalk_html_a5bd5b81a4c35d81d83ceb4d374bda460"><div class="ttname"><a href="structTreeWalk.html#a5bd5b81a4c35d81d83ceb4d374bda460">TreeWalk::Nimport</a></div><div class="ttdeci">int Nimport</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00114">treewalk.h:114</a></div></div>
<div class="ttc" id="structTreeWalk_html_a6518c361d396be49a9d1c676d8769802"><div class="ttname"><a href="structTreeWalk.html#a6518c361d396be49a9d1c676d8769802">TreeWalk::timecomp2</a></div><div class="ttdeci">double timecomp2</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00102">treewalk.h:102</a></div></div>
<div class="ttc" id="treewalk_8c_html_af906cc0eb36b216610435df321d8e7e3"><div class="ttname"><a href="treewalk_8c.html#af906cc0eb36b216610435df321d8e7e3">ev_init_thread</a></div><div class="ttdeci">static void ev_init_thread(TreeWalk *tw, LocalTreeWalk *lv)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00110">treewalk.c:110</a></div></div>
<div class="ttc" id="forcetree_8c_html_a864c54aa65cc3be72a6ee67e77d4324a"><div class="ttname"><a href="forcetree_8c.html#a864c54aa65cc3be72a6ee67e77d4324a">RootNode</a></div><div class="ttdeci">int RootNode</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8c_source.html#l00043">forcetree.c:43</a></div></div>
<div class="ttc" id="structTreeWalk_html_abd4d886f34d6526784e096fc194df4f4"><div class="ttname"><a href="structTreeWalk.html#abd4d886f34d6526784e096fc194df4f4">TreeWalk::Nnodesinlist</a></div><div class="ttdeci">int64_t Nnodesinlist</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00107">treewalk.h:107</a></div></div>
<div class="ttc" id="structTreeWalkQueryBase_html_a537e29d0a02494632970df25139000f2"><div class="ttname"><a href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">TreeWalkQueryBase::NodeList</a></div><div class="ttdeci">int NodeList[NODELISTLENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00023">treewalk.h:23</a></div></div>
<div class="ttc" id="treewalk_8c_html_a8756da05f289b9a4b4875ab58c4ba0bf"><div class="ttname"><a href="treewalk_8c.html#a8756da05f289b9a4b4875ab58c4ba0bf">ev_alloc_threadlocals</a></div><div class="ttdeci">static void ev_alloc_threadlocals()</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00126">treewalk.c:126</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a6c043b95263071bc974da1c1cefc0a57_cgraph.svg" width="308" height="291"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a6c043b95263071bc974da1c1cefc0a57_icgraph.svg" width="1814" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a7edd63d2fb245e7afbd292dcd75863e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7edd63d2fb245e7afbd292dcd75863e9">&#9670;&nbsp;</a></span>fill_task_queue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fill_task_queue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structev__task.html">ev_task</a> *&#160;</td>
          <td class="paramname"><em>tq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00735">735</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>, <a class="el" href="structev__task.html#a2d45512d80ce10803d337ac2c82cc648">ev_task::place</a>, and <a class="el" href="structev__task.html#ad48233945fa17e1dc5e104f816b3f6f4">ev_task::top_node</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#ace9d4cc74131168498c47dc85ffc865e">ev_begin()</a>.</p>
<div class="fragment"><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                                                                                       {</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="preprocessor">#pragma omp parallel for if(length &gt; 1024)</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; length; i++) {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <span class="keywordtype">int</span> no = -1;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">        if(0) {</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment">            no = Father[pq[i]];</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment">            while(no != -1) {</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">                if(Nodes[no].f.TopLevel) {</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">                    break;</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">                }</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">                no = Nodes[no].father;</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment">            }</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        tq[i].<a class="code" href="structev__task.html#ad48233945fa17e1dc5e104f816b3f6f4">top_node</a> = no;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        tq[i].<a class="code" href="structev__task.html#a2d45512d80ce10803d337ac2c82cc648">place</a> = pq[i];</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[pq[i]].Evaluated = 0;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    }</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="comment">// qsort_openmp(tq, length, sizeof(struct ev_task), ev_task_cmp_by_top_node);</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;}</div><div class="ttc" id="partmanager_8h_html_a2748566f4c443ee77aa831e63dbb5ebe"><div class="ttname"><a href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a></div><div class="ttdeci">#define P</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00099">partmanager.h:99</a></div></div>
<div class="ttc" id="structev__task_html_a2d45512d80ce10803d337ac2c82cc648"><div class="ttname"><a href="structev__task.html#a2d45512d80ce10803d337ac2c82cc648">ev_task::place</a></div><div class="ttdeci">int place</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00021">treewalk.c:21</a></div></div>
<div class="ttc" id="structev__task_html_ad48233945fa17e1dc5e104f816b3f6f4"><div class="ttname"><a href="structev__task.html#ad48233945fa17e1dc5e104f816b3f6f4">ev_task::top_node</a></div><div class="ttdeci">int top_node</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00020">treewalk.c:20</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a7edd63d2fb245e7afbd292dcd75863e9_icgraph.svg" width="1943" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab0d5f93870c52e50dbfb34df996ee776"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0d5f93870c52e50dbfb34df996ee776">&#9670;&nbsp;</a></span>ngb_treefind_threads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ngb_treefind_threads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *&#160;</td>
          <td class="paramname"><em>O</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTreeWalkNgbIterBase.html">TreeWalkNgbIterBase</a> *&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>startnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *&#160;</td>
          <td class="paramname"><em>lv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00902">902</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="treewalk_8c.html#a5e608e8f599ed84fc1b9e2f6ae1c7ffb">cull_node()</a>, <a class="el" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">NODE::d</a>, <a class="el" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun()</a>, <a class="el" href="structNODE.html#a721d8801f7caf356aaab78a822a56640">NODE::f</a>, <a class="el" href="forcetree_8c.html#aca70a1751175167a36c1c6775a338bee">MaxNodes</a>, <a class="el" href="structLocalTreeWalk.html#a410824495c7cec6123947280f1457a73">LocalTreeWalk::mode</a>, <a class="el" href="forcetree_8c.html#ad14ab43f541f9c33cb9222ea018c1365">Nextnode</a>, <a class="el" href="structLocalTreeWalk.html#a872d1ebfec863190d302352c40e9d034">LocalTreeWalk::ngblist</a>, <a class="el" href="forcetree_8h.html#ab0b97330acbcb19fd8b847d05c842842">node_is_particle()</a>, <a class="el" href="forcetree_8h.html#ae302446c148c0f0ca0353a192249368f">node_is_pseudo_particle()</a>, <a class="el" href="forcetree_8c.html#ac46f89ba3715dfa877c2e1b8822da657">Nodes</a>, <a class="el" href="structNODE.html#aa3b4bfc6b6c8c99d88860a5262679487">NODE::TopLevel</a>, <a class="el" href="treewalk_8c.html#ad796f088f1c33bc7994c85e4c93f8585">treewalk_export_particle()</a>, <a class="el" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">LocalTreeWalk::tw</a>, <a class="el" href="structNODE.html#ac0a7e3bc6d29da84c41010b1336fe9ef">NODE::u</a>, and <a class="el" href="structTreeWalk.html#adc62eb856144faf75a8759af94f4b92f">TreeWalk::UseNodeList</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8h.html#a145aa9608fd3824bec8049ee97da1c6f">treewalk_visit_ngbiter()</a>.</p>
<div class="fragment"><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;{</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordtype">int</span> no;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keyword">struct </span><a class="code" href="structNODE.html">NODE</a> *current;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordtype">int</span> numcand = 0;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    no = startnode;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">while</span>(no &gt;= 0)</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    {</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="forcetree_8h.html#ab0b97330acbcb19fd8b847d05c842842">node_is_particle</a>(no))  <span class="comment">/* single particle */</span> {</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            lv-&gt;<a class="code" href="structLocalTreeWalk.html#a872d1ebfec863190d302352c40e9d034">ngblist</a>[numcand++] = no;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            no = <a class="code" href="forcetree_8c.html#ad14ab43f541f9c33cb9222ea018c1365">Nextnode</a>[no];</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="forcetree_8h.html#ae302446c148c0f0ca0353a192249368f">node_is_pseudo_particle</a>(no)) {</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            <span class="comment">/* pseudo particle */</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <span class="keywordflow">if</span>(lv-&gt;<a class="code" href="structLocalTreeWalk.html#a410824495c7cec6123947280f1457a73">mode</a> == 1) {</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                <span class="keywordflow">if</span>(!lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>-&gt;<a class="code" href="structTreeWalk.html#adc62eb856144faf75a8759af94f4b92f">UseNodeList</a>) {</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                    no = <a class="code" href="forcetree_8c.html#ad14ab43f541f9c33cb9222ea018c1365">Nextnode</a>[no - <a class="code" href="forcetree_8c.html#aca70a1751175167a36c1c6775a338bee">MaxNodes</a>];</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                    <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(12312, <span class="stringliteral">&quot;Touching outside of my domain from a node list of a ghost. This shall not happen.&quot;</span>);</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                }</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                <span class="keywordflow">if</span>(-1 == <a class="code" href="treewalk_8c.html#ad796f088f1c33bc7994c85e4c93f8585">treewalk_export_particle</a>(lv, no))</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            }</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            no = <a class="code" href="forcetree_8c.html#ad14ab43f541f9c33cb9222ea018c1365">Nextnode</a>[no - <a class="code" href="forcetree_8c.html#aca70a1751175167a36c1c6775a338bee">MaxNodes</a>];</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        }</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        current = &amp;<a class="code" href="forcetree_8c.html#ac46f89ba3715dfa877c2e1b8822da657">Nodes</a>[no];</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <span class="keywordflow">if</span>(lv-&gt;<a class="code" href="structLocalTreeWalk.html#a410824495c7cec6123947280f1457a73">mode</a> == 1) {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            <span class="keywordflow">if</span> (lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>-&gt;<a class="code" href="structTreeWalk.html#adc62eb856144faf75a8759af94f4b92f">UseNodeList</a>) {</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                <span class="keywordflow">if</span>(current-&gt;<a class="code" href="structNODE.html#a721d8801f7caf356aaab78a822a56640">f</a>.<a class="code" href="structNODE.html#aa3b4bfc6b6c8c99d88860a5262679487">TopLevel</a>) {</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                    <span class="comment">/* we reached a top-level node again, which means that we are done with the branch */</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                }</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            }</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        }</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="comment">/* Cull the node */</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        <span class="keywordflow">if</span>(0 == <a class="code" href="treewalk_8c.html#a5e608e8f599ed84fc1b9e2f6ae1c7ffb">cull_node</a>(I, iter, no)) {</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            <span class="comment">/* in case the node can be discarded */</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            no = current-&gt;<a class="code" href="structNODE.html#ac0a7e3bc6d29da84c41010b1336fe9ef">u</a>.<a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>.sibling;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        }</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <span class="comment">/* ok, we need to open the node */</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        no = current-&gt;<a class="code" href="structNODE.html#ac0a7e3bc6d29da84c41010b1336fe9ef">u</a>.<a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>.nextnode;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    }</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">return</span> numcand;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;}</div><div class="ttc" id="structNODE_html_a721d8801f7caf356aaab78a822a56640"><div class="ttname"><a href="structNODE.html#a721d8801f7caf356aaab78a822a56640">NODE::f</a></div><div class="ttdeci">struct NODE::@10 f</div></div>
<div class="ttc" id="endrun_8c_html_ad963d7efdb9f10f7a2298c8ccd222ab0"><div class="ttname"><a href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a></div><div class="ttdeci">void endrun(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00210">endrun.c:210</a></div></div>
<div class="ttc" id="structNODE_html"><div class="ttname"><a href="structNODE.html">NODE</a></div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8h_source.html#l00011">forcetree.h:11</a></div></div>
<div class="ttc" id="structNODE_html_aa3b4bfc6b6c8c99d88860a5262679487"><div class="ttname"><a href="structNODE.html#aa3b4bfc6b6c8c99d88860a5262679487">NODE::TopLevel</a></div><div class="ttdeci">unsigned int TopLevel</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8h_source.html#l00019">forcetree.h:19</a></div></div>
<div class="ttc" id="structTreeWalk_html_adc62eb856144faf75a8759af94f4b92f"><div class="ttname"><a href="structTreeWalk.html#adc62eb856144faf75a8759af94f4b92f">TreeWalk::UseNodeList</a></div><div class="ttdeci">int UseNodeList</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00093">treewalk.h:93</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a872d1ebfec863190d302352c40e9d034"><div class="ttname"><a href="structLocalTreeWalk.html#a872d1ebfec863190d302352c40e9d034">LocalTreeWalk::ngblist</a></div><div class="ttdeci">int * ngblist</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00050">treewalk.h:50</a></div></div>
<div class="ttc" id="treewalk_8c_html_ad796f088f1c33bc7994c85e4c93f8585"><div class="ttname"><a href="treewalk_8c.html#ad796f088f1c33bc7994c85e4c93f8585">treewalk_export_particle</a></div><div class="ttdeci">int treewalk_export_particle(LocalTreeWalk *lv, int no)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00483">treewalk.c:483</a></div></div>
<div class="ttc" id="structNODE_html_a7f339ed4a80e4bc82506fdab65a7d655"><div class="ttname"><a href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">NODE::d</a></div><div class="ttdeci">struct NODE::@11::@12 d</div></div>
<div class="ttc" id="forcetree_8h_html_ab0b97330acbcb19fd8b847d05c842842"><div class="ttname"><a href="forcetree_8h.html#ab0b97330acbcb19fd8b847d05c842842">node_is_particle</a></div><div class="ttdeci">static int node_is_particle(int no)</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8h_source.html#l00078">forcetree.h:78</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_ae7a5a56205348bfd1bcd544e13c4b702"><div class="ttname"><a href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">LocalTreeWalk::tw</a></div><div class="ttdeci">TreeWalk * tw</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00042">treewalk.h:42</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a410824495c7cec6123947280f1457a73"><div class="ttname"><a href="structLocalTreeWalk.html#a410824495c7cec6123947280f1457a73">LocalTreeWalk::mode</a></div><div class="ttdeci">int mode</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00044">treewalk.h:44</a></div></div>
<div class="ttc" id="forcetree_8c_html_ad14ab43f541f9c33cb9222ea018c1365"><div class="ttname"><a href="forcetree_8c.html#ad14ab43f541f9c33cb9222ea018c1365">Nextnode</a></div><div class="ttdeci">int * Nextnode</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8c_source.html#l00046">forcetree.c:46</a></div></div>
<div class="ttc" id="forcetree_8c_html_ac46f89ba3715dfa877c2e1b8822da657"><div class="ttname"><a href="forcetree_8c.html#ac46f89ba3715dfa877c2e1b8822da657">Nodes</a></div><div class="ttdeci">struct NODE * Nodes</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8c_source.html#l00038">forcetree.c:38</a></div></div>
<div class="ttc" id="forcetree_8h_html_ae302446c148c0f0ca0353a192249368f"><div class="ttname"><a href="forcetree_8h.html#ae302446c148c0f0ca0353a192249368f">node_is_pseudo_particle</a></div><div class="ttdeci">static int node_is_pseudo_particle(int no)</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8h_source.html#l00072">forcetree.h:72</a></div></div>
<div class="ttc" id="treewalk_8c_html_a5e608e8f599ed84fc1b9e2f6ae1c7ffb"><div class="ttname"><a href="treewalk_8c.html#a5e608e8f599ed84fc1b9e2f6ae1c7ffb">cull_node</a></div><div class="ttdeci">static int cull_node(TreeWalkQueryBase *I, TreeWalkNgbIterBase *iter, int no)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00859">treewalk.c:859</a></div></div>
<div class="ttc" id="structNODE_html_ac0a7e3bc6d29da84c41010b1336fe9ef"><div class="ttname"><a href="structNODE.html#ac0a7e3bc6d29da84c41010b1336fe9ef">NODE::u</a></div><div class="ttdeci">union NODE::@11 u</div></div>
<div class="ttc" id="forcetree_8c_html_aca70a1751175167a36c1c6775a338bee"><div class="ttname"><a href="forcetree_8c.html#aca70a1751175167a36c1c6775a338bee">MaxNodes</a></div><div class="ttdeci">int MaxNodes</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8c_source.html#l00042">forcetree.c:42</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_ab0d5f93870c52e50dbfb34df996ee776_cgraph.svg" width="864" height="240"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_ab0d5f93870c52e50dbfb34df996ee776_icgraph.svg" width="1906" height="392"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ac1f02f14261da08ead9e42a2fb09495e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1f02f14261da08ead9e42a2fb09495e">&#9670;&nbsp;</a></span>real_ev()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void real_ev </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00221">221</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="allvars_8h.html#a0409e98ff9aade482fcfc9e67e762a86">BREAKPOINT</a>, <a class="el" href="structTreeWalk.html#a8ab7e6e0602411dc1f3be72a346e76b9">TreeWalk::BufferFullFlag</a>, <a class="el" href="structTreeWalk.html#ab88f1c20f5ab40c70744068d8bc19c4c">TreeWalk::currentIndex</a>, <a class="el" href="treewalk_8c.html#af906cc0eb36b216610435df321d8e7e3">ev_init_thread()</a>, <a class="el" href="structTreeWalk.html#a2f6bc842f407a44d99de52e9b5140454">TreeWalk::haswork</a>, <a class="el" href="structLocalTreeWalk.html#a410824495c7cec6123947280f1457a73">LocalTreeWalk::mode</a>, <a class="el" href="structLocalTreeWalk.html#a8ba201fbee09b07625447ab9875f4743">LocalTreeWalk::Ninteractions</a>, <a class="el" href="structTreeWalk.html#a926648383922824ef5ecba988a3b3748">TreeWalk::Ninteractions</a>, <a class="el" href="structLocalTreeWalk.html#aa7cbd292623450f5c9edee6b05409078">LocalTreeWalk::Nnodesinlist</a>, <a class="el" href="structTreeWalk.html#abd4d886f34d6526784e096fc194df4f4">TreeWalk::Nnodesinlist</a>, <a class="el" href="allvars_8h.html#a889ec205c635b219999c761b28cc39ba">omp_get_thread_num</a>, <a class="el" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>, <a class="el" href="structev__task.html#a2d45512d80ce10803d337ac2c82cc648">ev_task::place</a>, <a class="el" href="structTreeWalk.html#aa3e460ddfb6dff3c488f7dd1e002e824">TreeWalk::PrimaryTasks</a>, <a class="el" href="structTreeWalk.html#affd5eae4b5a63dcce236ac15b00b4c7c">TreeWalk::query_type_elsize</a>, <a class="el" href="structTreeWalk.html#ac8c67faaf2c360ed510c4508f11f7c2d">TreeWalk::result_type_elsize</a>, <a class="el" href="structLocalTreeWalk.html#ae999a6a9e0f7ba9597270d2acba0f7c0">LocalTreeWalk::target</a>, <a class="el" href="treewalk_8c.html#af8619681f7d063183bea07a7d80ac98e">treewalk_init_query()</a>, <a class="el" href="treewalk_8c.html#af7a85c8514602df4d3dd61f4ef3e0d48">treewalk_init_result()</a>, <a class="el" href="treewalk_8h.html#a504d8280eaa376504899398c68577cefad61deee419e3b1ca683dc572930e016b">TREEWALK_PRIMARY</a>, <a class="el" href="treewalk_8c.html#ac3d61be6b2bd96daed4c4a17521a0fda">treewalk_reduce_result()</a>, and <a class="el" href="structTreeWalk.html#ab4e96e67f2e72ac33dca9dd06cdac6c0">TreeWalk::visit</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a5341d99d76201774516d5e551dc1c559">ev_primary()</a>.</p>
<div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                                   {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordtype">int</span> tid = <a class="code" href="allvars_8h.html#a889ec205c635b219999c761b28cc39ba">omp_get_thread_num</a>();</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="structLocalTreeWalk.html">LocalTreeWalk</a> lv[1];</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="treewalk_8c.html#af906cc0eb36b216610435df321d8e7e3">ev_init_thread</a>(tw, lv);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    lv-&gt;<a class="code" href="structLocalTreeWalk.html#a410824495c7cec6123947280f1457a73">mode</a> = 0;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">/* Note: exportflag is local to each thread */</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordtype">int</span> k;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">/* use old index to recover from a buffer overflow*/</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> * input = alloca(tw-&gt;<a class="code" href="structTreeWalk.html#affd5eae4b5a63dcce236ac15b00b4c7c">query_type_elsize</a>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> * output = alloca(tw-&gt;<a class="code" href="structTreeWalk.html#ac8c67faaf2c360ed510c4508f11f7c2d">result_type_elsize</a>);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">for</span>(k = tw-&gt;<a class="code" href="structTreeWalk.html#ab88f1c20f5ab40c70744068d8bc19c4c">currentIndex</a>[tid];</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        k &lt; tw-&gt;currentEnd[tid]; </div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        k++) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#a8ab7e6e0602411dc1f3be72a346e76b9">BufferFullFlag</a>) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        i = tw-&gt;<a class="code" href="structTreeWalk.html#aa3e460ddfb6dff3c488f7dd1e002e824">PrimaryTasks</a>[k].<a class="code" href="structev__task.html#a2d45512d80ce10803d337ac2c82cc648">place</a>;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].Evaluated) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <a class="code" href="allvars_8h.html#a0409e98ff9aade482fcfc9e67e762a86">BREAKPOINT</a>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">if</span>(!tw-&gt;<a class="code" href="structTreeWalk.html#a2f6bc842f407a44d99de52e9b5140454">haswork</a>(i, tw)) {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <a class="code" href="allvars_8h.html#a0409e98ff9aade482fcfc9e67e762a86">BREAKPOINT</a>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordtype">int</span> rt;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="comment">/* Primary never uses node list */</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <a class="code" href="treewalk_8c.html#af8619681f7d063183bea07a7d80ac98e">treewalk_init_query</a>(tw, input, i, NULL);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <a class="code" href="treewalk_8c.html#af7a85c8514602df4d3dd61f4ef3e0d48">treewalk_init_result</a>(tw, output, input);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae999a6a9e0f7ba9597270d2acba0f7c0">target</a> = i;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        rt = tw-&gt;<a class="code" href="structTreeWalk.html#ab4e96e67f2e72ac33dca9dd06cdac6c0">visit</a>(input, output, lv);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">if</span>(rt &lt; 0) {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].Evaluated = 0;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">break</span>; <span class="comment">/* export buffer has filled up, redo this particle */</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].Evaluated = 1;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <a class="code" href="treewalk_8c.html#ac3d61be6b2bd96daed4c4a17521a0fda">treewalk_reduce_result</a>(tw, output, i, <a class="code" href="treewalk_8h.html#a504d8280eaa376504899398c68577cefad61deee419e3b1ca683dc572930e016b">TREEWALK_PRIMARY</a>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#ab88f1c20f5ab40c70744068d8bc19c4c">currentIndex</a>[tid] = k;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="preprocessor">#pragma omp atomic</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#a926648383922824ef5ecba988a3b3748">Ninteractions</a> += lv-&gt;<a class="code" href="structLocalTreeWalk.html#a8ba201fbee09b07625447ab9875f4743">Ninteractions</a>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="preprocessor">#pragma omp atomic</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#abd4d886f34d6526784e096fc194df4f4">Nnodesinlist</a> += lv-&gt;<a class="code" href="structLocalTreeWalk.html#aa7cbd292623450f5c9edee6b05409078">Nnodesinlist</a>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div><div class="ttc" id="structTreeWalkQueryBase_html"><div class="ttname"><a href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00021">treewalk.h:21</a></div></div>
<div class="ttc" id="partmanager_8h_html_a2748566f4c443ee77aa831e63dbb5ebe"><div class="ttname"><a href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a></div><div class="ttdeci">#define P</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00099">partmanager.h:99</a></div></div>
<div class="ttc" id="treewalk_8c_html_ac3d61be6b2bd96daed4c4a17521a0fda"><div class="ttname"><a href="treewalk_8c.html#ac3d61be6b2bd96daed4c4a17521a0fda">treewalk_reduce_result</a></div><div class="ttdeci">static void treewalk_reduce_result(TreeWalk *tw, TreeWalkResultBase *result, int i, enum TreeWalkReduceMode mode)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00215">treewalk.c:215</a></div></div>
<div class="ttc" id="structTreeWalk_html_affd5eae4b5a63dcce236ac15b00b4c7c"><div class="ttname"><a href="structTreeWalk.html#affd5eae4b5a63dcce236ac15b00b4c7c">TreeWalk::query_type_elsize</a></div><div class="ttdeci">size_t query_type_elsize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00079">treewalk.h:79</a></div></div>
<div class="ttc" id="treewalk_8c_html_af7a85c8514602df4d3dd61f4ef3e0d48"><div class="ttname"><a href="treewalk_8c.html#af7a85c8514602df4d3dd61f4ef3e0d48">treewalk_init_result</a></div><div class="ttdeci">static void treewalk_init_result(TreeWalk *tw, TreeWalkResultBase *result, TreeWalkQueryBase *query)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00208">treewalk.c:208</a></div></div>
<div class="ttc" id="treewalk_8c_html_af8619681f7d063183bea07a7d80ac98e"><div class="ttname"><a href="treewalk_8c.html#af8619681f7d063183bea07a7d80ac98e">treewalk_init_query</a></div><div class="ttdeci">static void treewalk_init_query(TreeWalk *tw, TreeWalkQueryBase *query, int i, int *NodeList)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00188">treewalk.c:188</a></div></div>
<div class="ttc" id="structTreeWalkResultBase_html"><div class="ttname"><a href="structTreeWalkResultBase.html">TreeWalkResultBase</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00027">treewalk.h:27</a></div></div>
<div class="ttc" id="structTreeWalk_html_ac8c67faaf2c360ed510c4508f11f7c2d"><div class="ttname"><a href="structTreeWalk.html#ac8c67faaf2c360ed510c4508f11f7c2d">TreeWalk::result_type_elsize</a></div><div class="ttdeci">size_t result_type_elsize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00080">treewalk.h:80</a></div></div>
<div class="ttc" id="structTreeWalk_html_a2f6bc842f407a44d99de52e9b5140454"><div class="ttname"><a href="structTreeWalk.html#a2f6bc842f407a44d99de52e9b5140454">TreeWalk::haswork</a></div><div class="ttdeci">TreeWalkHasWorkFunction haswork</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00086">treewalk.h:86</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a8ba201fbee09b07625447ab9875f4743"><div class="ttname"><a href="structLocalTreeWalk.html#a8ba201fbee09b07625447ab9875f4743">LocalTreeWalk::Ninteractions</a></div><div class="ttdeci">int64_t Ninteractions</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00051">treewalk.h:51</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_aa7cbd292623450f5c9edee6b05409078"><div class="ttname"><a href="structLocalTreeWalk.html#aa7cbd292623450f5c9edee6b05409078">LocalTreeWalk::Nnodesinlist</a></div><div class="ttdeci">int64_t Nnodesinlist</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00052">treewalk.h:52</a></div></div>
<div class="ttc" id="structTreeWalk_html_ab4e96e67f2e72ac33dca9dd06cdac6c0"><div class="ttname"><a href="structTreeWalk.html#ab4e96e67f2e72ac33dca9dd06cdac6c0">TreeWalk::visit</a></div><div class="ttdeci">TreeWalkVisitFunction visit</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00085">treewalk.h:85</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html"><div class="ttname"><a href="structLocalTreeWalk.html">LocalTreeWalk</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00041">treewalk.h:41</a></div></div>
<div class="ttc" id="treewalk_8h_html_a504d8280eaa376504899398c68577cefad61deee419e3b1ca683dc572930e016b"><div class="ttname"><a href="treewalk_8h.html#a504d8280eaa376504899398c68577cefad61deee419e3b1ca683dc572930e016b">TREEWALK_PRIMARY</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00015">treewalk.h:15</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_ae999a6a9e0f7ba9597270d2acba0f7c0"><div class="ttname"><a href="structLocalTreeWalk.html#ae999a6a9e0f7ba9597270d2acba0f7c0">LocalTreeWalk::target</a></div><div class="ttdeci">int target</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00045">treewalk.h:45</a></div></div>
<div class="ttc" id="allvars_8h_html_a889ec205c635b219999c761b28cc39ba"><div class="ttname"><a href="allvars_8h.html#a889ec205c635b219999c761b28cc39ba">omp_get_thread_num</a></div><div class="ttdeci">#define omp_get_thread_num()</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00034">allvars.h:34</a></div></div>
<div class="ttc" id="structTreeWalk_html_a926648383922824ef5ecba988a3b3748"><div class="ttname"><a href="structTreeWalk.html#a926648383922824ef5ecba988a3b3748">TreeWalk::Ninteractions</a></div><div class="ttdeci">int64_t Ninteractions</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00106">treewalk.h:106</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a410824495c7cec6123947280f1457a73"><div class="ttname"><a href="structLocalTreeWalk.html#a410824495c7cec6123947280f1457a73">LocalTreeWalk::mode</a></div><div class="ttdeci">int mode</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00044">treewalk.h:44</a></div></div>
<div class="ttc" id="structTreeWalk_html_ab88f1c20f5ab40c70744068d8bc19c4c"><div class="ttname"><a href="structTreeWalk.html#ab88f1c20f5ab40c70744068d8bc19c4c">TreeWalk::currentIndex</a></div><div class="ttdeci">int * currentIndex</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00123">treewalk.h:123</a></div></div>
<div class="ttc" id="treewalk_8c_html_af906cc0eb36b216610435df321d8e7e3"><div class="ttname"><a href="treewalk_8c.html#af906cc0eb36b216610435df321d8e7e3">ev_init_thread</a></div><div class="ttdeci">static void ev_init_thread(TreeWalk *tw, LocalTreeWalk *lv)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00110">treewalk.c:110</a></div></div>
<div class="ttc" id="allvars_8h_html_a0409e98ff9aade482fcfc9e67e762a86"><div class="ttname"><a href="allvars_8h.html#a0409e98ff9aade482fcfc9e67e762a86">BREAKPOINT</a></div><div class="ttdeci">#define BREAKPOINT</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00025">allvars.h:25</a></div></div>
<div class="ttc" id="structev__task_html_a2d45512d80ce10803d337ac2c82cc648"><div class="ttname"><a href="structev__task.html#a2d45512d80ce10803d337ac2c82cc648">ev_task::place</a></div><div class="ttdeci">int place</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00021">treewalk.c:21</a></div></div>
<div class="ttc" id="structTreeWalk_html_abd4d886f34d6526784e096fc194df4f4"><div class="ttname"><a href="structTreeWalk.html#abd4d886f34d6526784e096fc194df4f4">TreeWalk::Nnodesinlist</a></div><div class="ttdeci">int64_t Nnodesinlist</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00107">treewalk.h:107</a></div></div>
<div class="ttc" id="structTreeWalk_html_a8ab7e6e0602411dc1f3be72a346e76b9"><div class="ttname"><a href="structTreeWalk.html#a8ab7e6e0602411dc1f3be72a346e76b9">TreeWalk::BufferFullFlag</a></div><div class="ttdeci">int BufferFullFlag</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00115">treewalk.h:115</a></div></div>
<div class="ttc" id="structTreeWalk_html_aa3e460ddfb6dff3c488f7dd1e002e824"><div class="ttname"><a href="structTreeWalk.html#aa3e460ddfb6dff3c488f7dd1e002e824">TreeWalk::PrimaryTasks</a></div><div class="ttdeci">struct ev_task * PrimaryTasks</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00118">treewalk.h:118</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_ac1f02f14261da08ead9e42a2fb09495e_cgraph.svg" width="279" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_ac1f02f14261da08ead9e42a2fb09495e_icgraph.svg" width="1910" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="adc6089194059b0f1caf76ac3475adb29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc6089194059b0f1caf76ac3475adb29">&#9670;&nbsp;</a></span>treewalk_build_queue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void treewalk_build_queue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>active_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00285">285</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="timestep_8c.html#a1076ffdac0ece6476524e3fd900d39fc">ActiveParticle</a>, <a class="el" href="system_8h.html#a00eeba7aebd7952f4c0ecebb60fbeca2">atomic_fetch_and_add()</a>, <a class="el" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun()</a>, <a class="el" href="structTreeWalk.html#a2f6bc842f407a44d99de52e9b5140454">TreeWalk::haswork</a>, <a class="el" href="timestep_8c.html#a234d3f841781f50a25da4e8da82a0d32">NumActiveParticle</a>, <a class="el" href="structpart__manager__type.html#ae19becfa10cbd680504de1eb3577cb75">part_manager_type::NumPart</a>, <a class="el" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>, <a class="el" href="partmanager_8c.html#a6cef44682776e476d8f9f1b9e1f9fe16">PartManager</a>, <a class="el" href="openmpsort_8c.html#a8938b38d71dd3b45bfc7cc745c096248">qsort_openmp()</a>, <a class="el" href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">TreeWalk::WorkSet</a>, and <a class="el" href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">TreeWalk::WorkSetSize</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#ace9d4cc74131168498c47dc85ffc865e">ev_begin()</a>.</p>
<div class="fragment"><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                                                                {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordtype">int</span> * queue = tw-&gt;<a class="code" href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">WorkSet</a>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordtype">int</span> k = 0;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">if</span>(active_set == NULL) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="preprocessor">        #pragma omp parallel for</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code" href="partmanager_8c.html#a6cef44682776e476d8f9f1b9e1f9fe16">PartManager</a>-&gt;<a class="code" href="structpart__manager__type.html#ae19becfa10cbd680504de1eb3577cb75">NumPart</a>; i++) {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="comment">/* Skip the garbage particles */</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].IsGarbage) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordflow">if</span>(!tw-&gt;<a class="code" href="structTreeWalk.html#a2f6bc842f407a44d99de52e9b5140454">haswork</a>(i, tw))</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> lock = <a class="code" href="system_8h.html#a00eeba7aebd7952f4c0ecebb60fbeca2">atomic_fetch_and_add</a>(&amp;k, 1);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            queue[lock] = i;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="preprocessor">        #pragma omp parallel for</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">for</span>(i=0; i &lt; <a class="code" href="timestep_8c.html#a234d3f841781f50a25da4e8da82a0d32">NumActiveParticle</a>; i++)</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> p_i = <a class="code" href="timestep_8c.html#a1076ffdac0ece6476524e3fd900d39fc">ActiveParticle</a>[i];</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="comment">/* Skip the garbage particles */</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[p_i].IsGarbage) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="keywordflow">if</span>(!tw-&gt;<a class="code" href="structTreeWalk.html#a2f6bc842f407a44d99de52e9b5140454">haswork</a>(p_i, tw))</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> lock = <a class="code" href="system_8h.html#a00eeba7aebd7952f4c0ecebb60fbeca2">atomic_fetch_and_add</a>(&amp;k, 1);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            queue[lock] = p_i;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="comment">/* check the uniqueness of ActiveParticle list. */</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="comment">/* FIXME: the sort may affect performance of treewalk */</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <a class="code" href="openmpsort_8c.html#a8938b38d71dd3b45bfc7cc745c096248">qsort_openmp</a>(queue, k, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), cmpint);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; k - 1; i ++) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keywordflow">if</span>(queue[i] == queue[i+1]) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(8829, <span class="stringliteral">&quot;A few particles are twicely active.&quot;</span>);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">WorkSetSize</a> = k;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;}</div><div class="ttc" id="partmanager_8h_html_a2748566f4c443ee77aa831e63dbb5ebe"><div class="ttname"><a href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a></div><div class="ttdeci">#define P</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00099">partmanager.h:99</a></div></div>
<div class="ttc" id="endrun_8c_html_ad963d7efdb9f10f7a2298c8ccd222ab0"><div class="ttname"><a href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a></div><div class="ttdeci">void endrun(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00210">endrun.c:210</a></div></div>
<div class="ttc" id="openmpsort_8c_html_a8938b38d71dd3b45bfc7cc745c096248"><div class="ttname"><a href="openmpsort_8c.html#a8938b38d71dd3b45bfc7cc745c096248">qsort_openmp</a></div><div class="ttdeci">void qsort_openmp(void *base, size_t nmemb, size_t size, int(*compar)(const void *, const void *))</div><div class="ttdef"><b>Definition:</b> <a href="openmpsort_8c_source.html#l00204">openmpsort.c:204</a></div></div>
<div class="ttc" id="timestep_8c_html_a1076ffdac0ece6476524e3fd900d39fc"><div class="ttname"><a href="timestep_8c.html#a1076ffdac0ece6476524e3fd900d39fc">ActiveParticle</a></div><div class="ttdeci">int * ActiveParticle</div><div class="ttdef"><b>Definition:</b> <a href="timestep_8c_source.html#l00040">timestep.c:40</a></div></div>
<div class="ttc" id="structTreeWalk_html_a2f6bc842f407a44d99de52e9b5140454"><div class="ttname"><a href="structTreeWalk.html#a2f6bc842f407a44d99de52e9b5140454">TreeWalk::haswork</a></div><div class="ttdeci">TreeWalkHasWorkFunction haswork</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00086">treewalk.h:86</a></div></div>
<div class="ttc" id="timestep_8c_html_a234d3f841781f50a25da4e8da82a0d32"><div class="ttname"><a href="timestep_8c.html#a234d3f841781f50a25da4e8da82a0d32">NumActiveParticle</a></div><div class="ttdeci">int NumActiveParticle</div><div class="ttdef"><b>Definition:</b> <a href="timestep_8c_source.html#l00039">timestep.c:39</a></div></div>
<div class="ttc" id="structpart__manager__type_html_ae19becfa10cbd680504de1eb3577cb75"><div class="ttname"><a href="structpart__manager__type.html#ae19becfa10cbd680504de1eb3577cb75">part_manager_type::NumPart</a></div><div class="ttdeci">int NumPart</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00093">partmanager.h:93</a></div></div>
<div class="ttc" id="system_8h_html_a00eeba7aebd7952f4c0ecebb60fbeca2"><div class="ttname"><a href="system_8h.html#a00eeba7aebd7952f4c0ecebb60fbeca2">atomic_fetch_and_add</a></div><div class="ttdeci">static int atomic_fetch_and_add(int *ptr, int value)</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00044">system.h:44</a></div></div>
<div class="ttc" id="structTreeWalk_html_aaf26d07b5db3622b4d340cb0e4077c4f"><div class="ttname"><a href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">TreeWalk::WorkSet</a></div><div class="ttdeci">int * WorkSet</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00119">treewalk.h:119</a></div></div>
<div class="ttc" id="structTreeWalk_html_ae316f9389f90ad3b5184fa48c2538e6e"><div class="ttname"><a href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">TreeWalk::WorkSetSize</a></div><div class="ttdeci">int WorkSetSize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00120">treewalk.h:120</a></div></div>
<div class="ttc" id="partmanager_8c_html_a6cef44682776e476d8f9f1b9e1f9fe16"><div class="ttname"><a href="partmanager_8c.html#a6cef44682776e476d8f9f1b9e1f9fe16">PartManager</a></div><div class="ttdeci">struct part_manager_type PartManager[1]</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8c_source.html#l00009">partmanager.c:9</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_adc6089194059b0f1caf76ac3475adb29_cgraph.svg" width="687" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_adc6089194059b0f1caf76ac3475adb29_icgraph.svg" width="1980" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad796f088f1c33bc7994c85e4c93f8585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad796f088f1c33bc7994c85e4c93f8585">&#9670;&nbsp;</a></span>treewalk_export_particle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int treewalk_export_particle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *&#160;</td>
          <td class="paramname"><em>lv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>no</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00483">483</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="system_8h.html#a00eeba7aebd7952f4c0ecebb60fbeca2">atomic_fetch_and_add()</a>, <a class="el" href="structTreeWalk.html#a8ab7e6e0602411dc1f3be72a346e76b9">TreeWalk::BufferFullFlag</a>, <a class="el" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">TreeWalk::BunchSize</a>, <a class="el" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a>, <a class="el" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun()</a>, <a class="el" href="structLocalTreeWalk.html#a678bc9d7c6a02c8d15926609f8025a80">LocalTreeWalk::exportflag</a>, <a class="el" href="structLocalTreeWalk.html#ae0f3bbe608ee923cf4771abee672722a">LocalTreeWalk::exportindex</a>, <a class="el" href="structLocalTreeWalk.html#a15e405e84e467d04aa82cc15850b514e">LocalTreeWalk::exportnodecount</a>, <a class="el" href="structdata__index.html#a155c14e6f492c1e1c70f72a69cbbff2f">data_index::Index</a>, <a class="el" href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">data_index::IndexGet</a>, <a class="el" href="forcetree_8c.html#aca70a1751175167a36c1c6775a338bee">MaxNodes</a>, <a class="el" href="structLocalTreeWalk.html#a410824495c7cec6123947280f1457a73">LocalTreeWalk::mode</a>, <a class="el" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">TreeWalk::Nexport</a>, <a class="el" href="structdata__nodelist.html#a6013b9f0c28891468a9b91bc39e52961">data_nodelist::NodeList</a>, <a class="el" href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a>, <a class="el" href="forcetree_8c.html#a864c54aa65cc3be72a6ee67e77d4324a">RootNode</a>, <a class="el" href="structLocalTreeWalk.html#ae999a6a9e0f7ba9597270d2acba0f7c0">LocalTreeWalk::target</a>, <a class="el" href="structdata__index.html#a4074371073ee7171281ad6404f22c699">data_index::Task</a>, <a class="el" href="domain_8c.html#aba985e8ae49746e598c581da7631076e">TopLeaves</a>, <a class="el" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">LocalTreeWalk::tw</a>, and <a class="el" href="structTreeWalk.html#adc62eb856144faf75a8759af94f4b92f">TreeWalk::UseNodeList</a>.</p>

<p class="reference">Referenced by <a class="el" href="gravshort-tree_8c.html#a3ffcbdc6a83731eeae868eb50429d837">force_treeev_shortrange()</a>, <a class="el" href="gravshort-tree-old_8c.html#a253236d87892b895c61ce50b15c03693">force_treeevaluate_shortrange()</a>, and <a class="el" href="treewalk_8c.html#ab0d5f93870c52e50dbfb34df996ee776">ngb_treefind_threads()</a>.</p>
<div class="fragment"><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                                                         {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span>(lv-&gt;<a class="code" href="structLocalTreeWalk.html#a410824495c7cec6123947280f1457a73">mode</a> != 0) {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(1, <span class="stringliteral">&quot;Trying to export a ghost particle.\n&quot;</span>);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordtype">int</span> target = lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae999a6a9e0f7ba9597270d2acba0f7c0">target</a>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordtype">int</span> *exportflag = lv-&gt;<a class="code" href="structLocalTreeWalk.html#a678bc9d7c6a02c8d15926609f8025a80">exportflag</a>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordtype">int</span> *exportnodecount = lv-&gt;<a class="code" href="structLocalTreeWalk.html#a15e405e84e467d04aa82cc15850b514e">exportnodecount</a>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordtype">int</span> *exportindex = lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae0f3bbe608ee923cf4771abee672722a">exportindex</a>; </div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <a class="code" href="structTreeWalk.html">TreeWalk</a> * tw = lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordtype">int</span> task;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    task = <a class="code" href="domain_8c.html#aba985e8ae49746e598c581da7631076e">TopLeaves</a>[no - (<a class="code" href="forcetree_8c.html#a864c54aa65cc3be72a6ee67e77d4324a">RootNode</a> + <a class="code" href="forcetree_8c.html#aca70a1751175167a36c1c6775a338bee">MaxNodes</a>)].Task;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">if</span>(exportflag[task] != target)</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        exportflag[task] = target;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        exportnodecount[task] = <a class="code" href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a>;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span>(exportnodecount[task] == <a class="code" href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a>)</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordtype">int</span> nexp;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a> &lt; tw-&gt;<a class="code" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">BunchSize</a>) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            nexp = <a class="code" href="system_8h.html#a00eeba7aebd7952f4c0ecebb60fbeca2">atomic_fetch_and_add</a>(&amp;tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a>, 1);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            nexp = tw-&gt;<a class="code" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">BunchSize</a>;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">if</span>(nexp &gt;= tw-&gt;<a class="code" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">BunchSize</a>) {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <span class="comment">/* out of buffer space. Need to discard work for this particle and interrupt */</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            tw-&gt;<a class="code" href="structTreeWalk.html#a8ab7e6e0602411dc1f3be72a346e76b9">BufferFullFlag</a> = 1;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="preprocessor">#pragma omp flush</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        exportnodecount[task] = 0;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        exportindex[task] = nexp;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[nexp].<a class="code" href="structdata__index.html#a4074371073ee7171281ad6404f22c699">Task</a> = task;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[nexp].<a class="code" href="structdata__index.html#a155c14e6f492c1e1c70f72a69cbbff2f">Index</a> = target;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[nexp].<a class="code" href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">IndexGet</a> = nexp;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#adc62eb856144faf75a8759af94f4b92f">UseNodeList</a>) </div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <a class="code" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a>[exportindex[task]].<a class="code" href="structdata__nodelist.html#a6013b9f0c28891468a9b91bc39e52961">NodeList</a>[exportnodecount[task]++] =</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <a class="code" href="domain_8c.html#aba985e8ae49746e598c581da7631076e">TopLeaves</a>[no - (<a class="code" href="forcetree_8c.html#a864c54aa65cc3be72a6ee67e77d4324a">RootNode</a> + <a class="code" href="forcetree_8c.html#aca70a1751175167a36c1c6775a338bee">MaxNodes</a>)].treenode;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">if</span>(exportnodecount[task] &lt; <a class="code" href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a>)</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <a class="code" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a>[exportindex[task]].<a class="code" href="structdata__nodelist.html#a6013b9f0c28891468a9b91bc39e52961">NodeList</a>[exportnodecount[task]] = -1;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div><div class="ttc" id="structdata__nodelist_html_a6013b9f0c28891468a9b91bc39e52961"><div class="ttname"><a href="structdata__nodelist.html#a6013b9f0c28891468a9b91bc39e52961">data_nodelist::NodeList</a></div><div class="ttdeci">int NodeList[NODELISTLENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00032">treewalk.c:32</a></div></div>
<div class="ttc" id="endrun_8c_html_ad963d7efdb9f10f7a2298c8ccd222ab0"><div class="ttname"><a href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a></div><div class="ttdeci">void endrun(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00210">endrun.c:210</a></div></div>
<div class="ttc" id="structTreeWalk_html_adc62eb856144faf75a8759af94f4b92f"><div class="ttname"><a href="structTreeWalk.html#adc62eb856144faf75a8759af94f4b92f">TreeWalk::UseNodeList</a></div><div class="ttdeci">int UseNodeList</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00093">treewalk.h:93</a></div></div>
<div class="ttc" id="structdata__index_html_a4074371073ee7171281ad6404f22c699"><div class="ttname"><a href="structdata__index.html#a4074371073ee7171281ad6404f22c699">data_index::Task</a></div><div class="ttdeci">int Task</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00042">treewalk.c:42</a></div></div>
<div class="ttc" id="structTreeWalk_html"><div class="ttname"><a href="structTreeWalk.html">TreeWalk</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00071">treewalk.h:71</a></div></div>
<div class="ttc" id="structTreeWalk_html_a9cf8342687bbd213c2324c948ca0f9c0"><div class="ttname"><a href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">TreeWalk::Nexport</a></div><div class="ttdeci">int Nexport</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00113">treewalk.h:113</a></div></div>
<div class="ttc" id="domain_8c_html_aba985e8ae49746e598c581da7631076e"><div class="ttname"><a href="domain_8c.html#aba985e8ae49746e598c581da7631076e">TopLeaves</a></div><div class="ttdeci">struct topleaf_data * TopLeaves</div><div class="ttdef"><b>Definition:</b> <a href="domain_8c_source.html#l00051">domain.c:51</a></div></div>
<div class="ttc" id="structTreeWalk_html_a4265d246159741451ee1d24ea65e7323"><div class="ttname"><a href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">TreeWalk::BunchSize</a></div><div class="ttdeci">int BunchSize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00116">treewalk.h:116</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a678bc9d7c6a02c8d15926609f8025a80"><div class="ttname"><a href="structLocalTreeWalk.html#a678bc9d7c6a02c8d15926609f8025a80">LocalTreeWalk::exportflag</a></div><div class="ttdeci">int * exportflag</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00047">treewalk.h:47</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_ae999a6a9e0f7ba9597270d2acba0f7c0"><div class="ttname"><a href="structLocalTreeWalk.html#ae999a6a9e0f7ba9597270d2acba0f7c0">LocalTreeWalk::target</a></div><div class="ttdeci">int target</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00045">treewalk.h:45</a></div></div>
<div class="ttc" id="treewalk_8c_html_adf63e880533c73bcbc5ae63dd833459c"><div class="ttname"><a href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a></div><div class="ttdeci">static struct data_index * DataIndexTable</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00047">treewalk.c:47</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_ae7a5a56205348bfd1bcd544e13c4b702"><div class="ttname"><a href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">LocalTreeWalk::tw</a></div><div class="ttdeci">TreeWalk * tw</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00042">treewalk.h:42</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a410824495c7cec6123947280f1457a73"><div class="ttname"><a href="structLocalTreeWalk.html#a410824495c7cec6123947280f1457a73">LocalTreeWalk::mode</a></div><div class="ttdeci">int mode</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00044">treewalk.h:44</a></div></div>
<div class="ttc" id="system_8h_html_a00eeba7aebd7952f4c0ecebb60fbeca2"><div class="ttname"><a href="system_8h.html#a00eeba7aebd7952f4c0ecebb60fbeca2">atomic_fetch_and_add</a></div><div class="ttdeci">static int atomic_fetch_and_add(int *ptr, int value)</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00044">system.h:44</a></div></div>
<div class="ttc" id="structdata__index_html_a155c14e6f492c1e1c70f72a69cbbff2f"><div class="ttname"><a href="structdata__index.html#a155c14e6f492c1e1c70f72a69cbbff2f">data_index::Index</a></div><div class="ttdeci">int Index</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00043">treewalk.c:43</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_ae0f3bbe608ee923cf4771abee672722a"><div class="ttname"><a href="structLocalTreeWalk.html#ae0f3bbe608ee923cf4771abee672722a">LocalTreeWalk::exportindex</a></div><div class="ttdeci">int * exportindex</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00049">treewalk.h:49</a></div></div>
<div class="ttc" id="forcetree_8c_html_a864c54aa65cc3be72a6ee67e77d4324a"><div class="ttname"><a href="forcetree_8c.html#a864c54aa65cc3be72a6ee67e77d4324a">RootNode</a></div><div class="ttdeci">int RootNode</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8c_source.html#l00043">forcetree.c:43</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a15e405e84e467d04aa82cc15850b514e"><div class="ttname"><a href="structLocalTreeWalk.html#a15e405e84e467d04aa82cc15850b514e">LocalTreeWalk::exportnodecount</a></div><div class="ttdeci">int * exportnodecount</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00048">treewalk.h:48</a></div></div>
<div class="ttc" id="structdata__index_html_a821d25b97450a6d676a46cb6ea89adaa"><div class="ttname"><a href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">data_index::IndexGet</a></div><div class="ttdeci">int IndexGet</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00044">treewalk.c:44</a></div></div>
<div class="ttc" id="treewalk_8h_html_a37475eba3cda0b50c89857b58478450e"><div class="ttname"><a href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a></div><div class="ttdeci">#define NODELISTLENGTH</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00007">treewalk.h:7</a></div></div>
<div class="ttc" id="treewalk_8c_html_a571736d9ee463ca84af6c4b98079899e"><div class="ttname"><a href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a></div><div class="ttdeci">static struct data_nodelist  * DataNodeList</div></div>
<div class="ttc" id="forcetree_8c_html_aca70a1751175167a36c1c6775a338bee"><div class="ttname"><a href="forcetree_8c.html#aca70a1751175167a36c1c6775a338bee">MaxNodes</a></div><div class="ttdeci">int MaxNodes</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8c_source.html#l00042">forcetree.c:42</a></div></div>
<div class="ttc" id="structTreeWalk_html_a8ab7e6e0602411dc1f3be72a346e76b9"><div class="ttname"><a href="structTreeWalk.html#a8ab7e6e0602411dc1f3be72a346e76b9">TreeWalk::BufferFullFlag</a></div><div class="ttdeci">int BufferFullFlag</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00115">treewalk.h:115</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_ad796f088f1c33bc7994c85e4c93f8585_cgraph.svg" width="671" height="114"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_ad796f088f1c33bc7994c85e4c93f8585_icgraph.svg" width="2136" height="412"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af8619681f7d063183bea07a7d80ac98e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8619681f7d063183bea07a7d80ac98e">&#9670;&nbsp;</a></span>treewalk_init_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void treewalk_init_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NodeList</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00188">188</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="structTreeWalk.html#ad0b91dafd46de132917e7993869514c5">TreeWalk::fill</a>, <a class="el" href="structTreeWalkQueryBase.html#a4c717622cbc83afb10410b54fd5011ec">TreeWalkQueryBase::ID</a>, <a class="el" href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">TreeWalkQueryBase::NodeList</a>, <a class="el" href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a>, <a class="el" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>, <a class="el" href="structTreeWalkQueryBase.html#a49a12e5d0c323fc4bda017bf127ff322">TreeWalkQueryBase::Pos</a>, and <a class="el" href="forcetree_8c.html#a864c54aa65cc3be72a6ee67e77d4324a">RootNode</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a587df5201e3b9d6608189f9c606c2633">ev_get_remote()</a>, and <a class="el" href="treewalk_8c.html#ac1f02f14261da08ead9e42a2fb09495e">real_ev()</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    query-&gt;<a class="code" href="structTreeWalkQueryBase.html#a4c717622cbc83afb10410b54fd5011ec">ID</a> = <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].ID;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">for</span>(d = 0; d &lt; 3; d ++) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        query-&gt;<a class="code" href="structTreeWalkQueryBase.html#a49a12e5d0c323fc4bda017bf127ff322">Pos</a>[<a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>] = <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].Pos[<a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>];</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">if</span>(NodeList) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        memcpy(query-&gt;<a class="code" href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">NodeList</a>, NodeList, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * <a class="code" href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a>);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        query-&gt;<a class="code" href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">NodeList</a>[0] = <a class="code" href="forcetree_8c.html#a864c54aa65cc3be72a6ee67e77d4324a">RootNode</a>; <span class="comment">/* root node */</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        query-&gt;<a class="code" href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">NodeList</a>[1] = -1; <span class="comment">/* terminate immediately */</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#ad0b91dafd46de132917e7993869514c5">fill</a>(i, query, tw);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;};</div><div class="ttc" id="partmanager_8h_html_a2748566f4c443ee77aa831e63dbb5ebe"><div class="ttname"><a href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a></div><div class="ttdeci">#define P</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00099">partmanager.h:99</a></div></div>
<div class="ttc" id="structNODE_html_a7f339ed4a80e4bc82506fdab65a7d655"><div class="ttname"><a href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">NODE::d</a></div><div class="ttdeci">struct NODE::@11::@12 d</div></div>
<div class="ttc" id="structTreeWalk_html_ad0b91dafd46de132917e7993869514c5"><div class="ttname"><a href="structTreeWalk.html#ad0b91dafd46de132917e7993869514c5">TreeWalk::fill</a></div><div class="ttdeci">TreeWalkFillQueryFunction fill</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00087">treewalk.h:87</a></div></div>
<div class="ttc" id="structTreeWalkQueryBase_html_a49a12e5d0c323fc4bda017bf127ff322"><div class="ttname"><a href="structTreeWalkQueryBase.html#a49a12e5d0c323fc4bda017bf127ff322">TreeWalkQueryBase::Pos</a></div><div class="ttdeci">double Pos[3]</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00024">treewalk.h:24</a></div></div>
<div class="ttc" id="forcetree_8c_html_a864c54aa65cc3be72a6ee67e77d4324a"><div class="ttname"><a href="forcetree_8c.html#a864c54aa65cc3be72a6ee67e77d4324a">RootNode</a></div><div class="ttdeci">int RootNode</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8c_source.html#l00043">forcetree.c:43</a></div></div>
<div class="ttc" id="treewalk_8h_html_a37475eba3cda0b50c89857b58478450e"><div class="ttname"><a href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a></div><div class="ttdeci">#define NODELISTLENGTH</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00007">treewalk.h:7</a></div></div>
<div class="ttc" id="structTreeWalkQueryBase_html_a4c717622cbc83afb10410b54fd5011ec"><div class="ttname"><a href="structTreeWalkQueryBase.html#a4c717622cbc83afb10410b54fd5011ec">TreeWalkQueryBase::ID</a></div><div class="ttdeci">MyIDType ID</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00022">treewalk.h:22</a></div></div>
<div class="ttc" id="structTreeWalkQueryBase_html_a537e29d0a02494632970df25139000f2"><div class="ttname"><a href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">TreeWalkQueryBase::NodeList</a></div><div class="ttdeci">int NodeList[NODELISTLENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00023">treewalk.h:23</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_af8619681f7d063183bea07a7d80ac98e_icgraph.svg" width="2114" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af7a85c8514602df4d3dd61f4ef3e0d48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a85c8514602df4d3dd61f4ef3e0d48">&#9670;&nbsp;</a></span>treewalk_init_result()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void treewalk_init_result </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *&#160;</td>
          <td class="paramname"><em>query</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00208">208</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="structTreeWalkQueryBase.html#a4c717622cbc83afb10410b54fd5011ec">TreeWalkQueryBase::ID</a>, <a class="el" href="structTreeWalkResultBase.html#a378d3fbd4b65aef79dbbb6cc6a07f529">TreeWalkResultBase::ID</a>, and <a class="el" href="structTreeWalk.html#ac8c67faaf2c360ed510c4508f11f7c2d">TreeWalk::result_type_elsize</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a6c043b95263071bc974da1c1cefc0a57">ev_secondary()</a>, and <a class="el" href="treewalk_8c.html#ac1f02f14261da08ead9e42a2fb09495e">real_ev()</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;{</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    memset(result, 0, tw-&gt;<a class="code" href="structTreeWalk.html#ac8c67faaf2c360ed510c4508f11f7c2d">result_type_elsize</a>);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    result-&gt;<a class="code" href="structTreeWalkResultBase.html#a378d3fbd4b65aef79dbbb6cc6a07f529">ID</a> = query-&gt;<a class="code" href="structTreeWalkQueryBase.html#a4c717622cbc83afb10410b54fd5011ec">ID</a>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div><div class="ttc" id="structTreeWalk_html_ac8c67faaf2c360ed510c4508f11f7c2d"><div class="ttname"><a href="structTreeWalk.html#ac8c67faaf2c360ed510c4508f11f7c2d">TreeWalk::result_type_elsize</a></div><div class="ttdeci">size_t result_type_elsize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00080">treewalk.h:80</a></div></div>
<div class="ttc" id="structTreeWalkResultBase_html_a378d3fbd4b65aef79dbbb6cc6a07f529"><div class="ttname"><a href="structTreeWalkResultBase.html#a378d3fbd4b65aef79dbbb6cc6a07f529">TreeWalkResultBase::ID</a></div><div class="ttdeci">MyIDType ID</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00028">treewalk.h:28</a></div></div>
<div class="ttc" id="structTreeWalkQueryBase_html_a4c717622cbc83afb10410b54fd5011ec"><div class="ttname"><a href="structTreeWalkQueryBase.html#a4c717622cbc83afb10410b54fd5011ec">TreeWalkQueryBase::ID</a></div><div class="ttdeci">MyIDType ID</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00022">treewalk.h:22</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_af7a85c8514602df4d3dd61f4ef3e0d48_icgraph.svg" width="2108" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ac3d61be6b2bd96daed4c4a17521a0fda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3d61be6b2bd96daed4c4a17521a0fda">&#9670;&nbsp;</a></span>treewalk_reduce_result()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void treewalk_reduce_result </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="treewalk_8h.html#a504d8280eaa376504899398c68577cef">TreeWalkReduceMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00215">215</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="structTreeWalk.html#aa08a0586a68d1f4f87e0caa1e59dcc5e">TreeWalk::reduce</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#afe78385cec6aabfdd65e6c619a307ef3">ev_reduce_result()</a>, and <a class="el" href="treewalk_8c.html#ac1f02f14261da08ead9e42a2fb09495e">real_ev()</a>.</p>
<div class="fragment"><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#aa08a0586a68d1f4f87e0caa1e59dcc5e">reduce</a> != NULL)</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        tw-&gt;<a class="code" href="structTreeWalk.html#aa08a0586a68d1f4f87e0caa1e59dcc5e">reduce</a>(i, result, mode, tw);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div><div class="ttc" id="structTreeWalk_html_aa08a0586a68d1f4f87e0caa1e59dcc5e"><div class="ttname"><a href="structTreeWalk.html#aa08a0586a68d1f4f87e0caa1e59dcc5e">TreeWalk::reduce</a></div><div class="ttdeci">TreeWalkReduceResultFunction reduce</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00088">treewalk.h:88</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_ac3d61be6b2bd96daed4c4a17521a0fda_icgraph.svg" width="2148" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa6772bdbc1552278ca7dae6a9adb031d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6772bdbc1552278ca7dae6a9adb031d">&#9670;&nbsp;</a></span>treewalk_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void treewalk_run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>active_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00543">543</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun()</a>, <a class="el" href="treewalk_8c.html#ace9d4cc74131168498c47dc85ffc865e">ev_begin()</a>, <a class="el" href="treewalk_8c.html#a183c4217393b49949352febbde1cc1f2">ev_finish()</a>, <a class="el" href="treewalk_8c.html#a587df5201e3b9d6608189f9c606c2633">ev_get_remote()</a>, <a class="el" href="structTreeWalk.html#a1bc94a4f19b597a6328f7048da73d8af">TreeWalk::ev_label</a>, <a class="el" href="treewalk_8c.html#aecf470724936367dfc728a10b83152bf">ev_ndone()</a>, <a class="el" href="treewalk_8c.html#a5341d99d76201774516d5e551dc1c559">ev_primary()</a>, <a class="el" href="treewalk_8c.html#afe78385cec6aabfdd65e6c619a307ef3">ev_reduce_result()</a>, <a class="el" href="treewalk_8c.html#a6c043b95263071bc974da1c1cefc0a57">ev_secondary()</a>, <a class="el" href="forcetree_8c.html#aa1174e5cc4c75944aa98706941a70db9">force_tree_allocated()</a>, <a class="el" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">TreeWalk::Nexport</a>, <a class="el" href="structTreeWalk.html#a7c4e2764c52fbda45e6a090d4e7a322b">TreeWalk::Nexport_sum</a>, <a class="el" href="structTreeWalk.html#a3eca40f904a81c8a059b8580b08454e1">TreeWalk::Niterations</a>, <a class="el" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>, <a class="el" href="structTreeWalk.html#a8c4dcda60d680c3d56423fca8647472f">TreeWalk::postprocess</a>, <a class="el" href="structTreeWalk.html#a4e66d620c514c8574b776b8dd0c8ee4d">TreeWalk::preprocess</a>, <a class="el" href="mymalloc_8h.html#afaf046f010cd01115a573a59e1e73e01">report_memory_usage</a>, <a class="el" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second()</a>, <a class="el" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a>, <a class="el" href="mymalloc_8h.html#a84e2115e90e9c22e11d9663c019fc8bc">ta_free</a>, <a class="el" href="structTreeWalk.html#a714d0465e0498a5a8d0b698d37348ce6">TreeWalk::timecomp3</a>, <a class="el" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff()</a>, <a class="el" href="structTreeWalk.html#ab4e96e67f2e72ac33dca9dd06cdac6c0">TreeWalk::visit</a>, <a class="el" href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">TreeWalk::WorkSet</a>, and <a class="el" href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">TreeWalk::WorkSetSize</a>.</p>

<p class="reference">Referenced by <a class="el" href="sfr__eff_8h.html#aaa7b178a168a5d23b2cfe478ebc58ee1">cooling_only()</a>, <a class="el" href="density_8c.html#a69886540d0642590a0022fc14ce61f06">density_internal()</a>, <a class="el" href="fof_8c.html#a77c15fc071e72ec1ea91652d28740ce1">fof_label_primary()</a>, <a class="el" href="fof_8c.html#a9bbff144989b21ac4cbedc3aa2c6b1dc">fof_label_secondary()</a>, <a class="el" href="runtests_8c.html#a60eab909e50b5e048e572b833dcc2846">grav_short_pair()</a>, <a class="el" href="proto_8h.html#a3890f7b7605d1abaf3cd23eeca5bcdd5">grav_short_tree()</a>, <a class="el" href="gravshort-tree-old_8c.html#af703f51f005d6f005c4cfd250fdd5eb9">grav_short_tree_old()</a>, and <a class="el" href="hydra_8h.html#a6789381bce7d1c316df8ecf04b47a607">hydro_force()</a>.</p>
<div class="fragment"><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;{</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="forcetree_8c.html#aa1174e5cc4c75944aa98706941a70db9">force_tree_allocated</a>()) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(0, <span class="stringliteral">&quot;Tree has been freed before this treewalk.&quot;</span>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    }</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="treewalk_8c.html#a750e759c5d7e555c7ab6015392d5a91b">GDB_current_ev</a> = tw;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="treewalk_8c.html#ace9d4cc74131168498c47dc85ffc865e">ev_begin</a>(tw, active_set, <a class="code" href="namespacemake__zeros.html#a5a378c460c2a12be3a58ac2e687852d9">size</a>);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#a4e66d620c514c8574b776b8dd0c8ee4d">preprocess</a>) {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="preprocessor">        #pragma omp parallel for if(tw-&gt;WorkSetSize &gt; 64)</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; tw-&gt;<a class="code" href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">WorkSetSize</a>; i ++) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            tw-&gt;<a class="code" href="structTreeWalk.html#a4e66d620c514c8574b776b8dd0c8ee4d">preprocess</a>(tw-&gt;<a class="code" href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">WorkSet</a>[i], tw);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    }</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#ab4e96e67f2e72ac33dca9dd06cdac6c0">visit</a>) {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keywordflow">do</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <a class="code" href="treewalk_8c.html#a5341d99d76201774516d5e551dc1c559">ev_primary</a>(tw); <span class="comment">/* do local particles and prepare export list */</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <span class="comment">/* exchange particle data */</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <a class="code" href="treewalk_8c.html#a587df5201e3b9d6608189f9c606c2633">ev_get_remote</a>(tw);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <a class="code" href="mymalloc_8h.html#afaf046f010cd01115a573a59e1e73e01">report_memory_usage</a>(tw-&gt;<a class="code" href="structTreeWalk.html#a1bc94a4f19b597a6328f7048da73d8af">ev_label</a>);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <span class="comment">/* now do the particles that were sent to us */</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <a class="code" href="treewalk_8c.html#a6c043b95263071bc974da1c1cefc0a57">ev_secondary</a>(tw);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <span class="comment">/* import the result to local particles */</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <a class="code" href="treewalk_8c.html#afe78385cec6aabfdd65e6c619a307ef3">ev_reduce_result</a>(tw);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            tw-&gt;<a class="code" href="structTreeWalk.html#a3eca40f904a81c8a059b8580b08454e1">Niterations</a> ++;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            tw-&gt;<a class="code" href="structTreeWalk.html#a7c4e2764c52fbda45e6a090d4e7a322b">Nexport_sum</a> += tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a>;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <a class="code" href="mymalloc_8h.html#a84e2115e90e9c22e11d9663c019fc8bc">ta_free</a>(<a class="code" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a>);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        } <span class="keywordflow">while</span>(<a class="code" href="treewalk_8c.html#aecf470724936367dfc728a10b83152bf">ev_ndone</a>(tw) &lt; <a class="code" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    }</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordtype">double</span> tstart, tend;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    tstart = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#a8c4dcda60d680c3d56423fca8647472f">postprocess</a>) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="preprocessor">        #pragma omp parallel for if(tw-&gt;WorkSetSize &gt; 64)</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; tw-&gt;<a class="code" href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">WorkSetSize</a>; i ++) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            tw-&gt;<a class="code" href="structTreeWalk.html#a8c4dcda60d680c3d56423fca8647472f">postprocess</a>(tw-&gt;<a class="code" href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">WorkSet</a>[i], tw);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        }</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    tend = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#a714d0465e0498a5a8d0b698d37348ce6">timecomp3</a> = <a class="code" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a>(tstart, tend);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="treewalk_8c.html#a183c4217393b49949352febbde1cc1f2">ev_finish</a>(tw);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div><div class="ttc" id="system_8c_html_a890645bdc4536bd797ca53028072e30d"><div class="ttname"><a href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a></div><div class="ttdeci">double timediff(double t0, double t1)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00149">system.c:149</a></div></div>
<div class="ttc" id="endrun_8c_html_ad963d7efdb9f10f7a2298c8ccd222ab0"><div class="ttname"><a href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a></div><div class="ttdeci">void endrun(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00210">endrun.c:210</a></div></div>
<div class="ttc" id="treewalk_8c_html_ae1ce32b3af7d102c9bfe189eeeef67d2"><div class="ttname"><a href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a></div><div class="ttdeci">static int * Send_count</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00028">treewalk.c:28</a></div></div>
<div class="ttc" id="treewalk_8c_html_a5341d99d76201774516d5e551dc1c559"><div class="ttname"><a href="treewalk_8c.html#a5341d99d76201774516d5e551dc1c559">ev_primary</a></div><div class="ttdeci">static int ev_primary(TreeWalk *tw)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00329">treewalk.c:329</a></div></div>
<div class="ttc" id="treewalk_8c_html_aecf470724936367dfc728a10b83152bf"><div class="ttname"><a href="treewalk_8c.html#aecf470724936367dfc728a10b83152bf">ev_ndone</a></div><div class="ttdeci">static int ev_ndone(TreeWalk *tw)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00421">treewalk.c:421</a></div></div>
<div class="ttc" id="treewalk_8c_html_a750e759c5d7e555c7ab6015392d5a91b"><div class="ttname"><a href="treewalk_8c.html#a750e759c5d7e555c7ab6015392d5a91b">GDB_current_ev</a></div><div class="ttdeci">static TreeWalk * GDB_current_ev</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00107">treewalk.c:107</a></div></div>
<div class="ttc" id="treewalk_8c_html_a6c043b95263071bc974da1c1cefc0a57"><div class="ttname"><a href="treewalk_8c.html#a6c043b95263071bc974da1c1cefc0a57">ev_secondary</a></div><div class="ttdeci">static void ev_secondary(TreeWalk *tw)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00441">treewalk.c:441</a></div></div>
<div class="ttc" id="structTreeWalk_html_a9cf8342687bbd213c2324c948ca0f9c0"><div class="ttname"><a href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">TreeWalk::Nexport</a></div><div class="ttdeci">int Nexport</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00113">treewalk.h:113</a></div></div>
<div class="ttc" id="structTreeWalk_html_a8c4dcda60d680c3d56423fca8647472f"><div class="ttname"><a href="structTreeWalk.html#a8c4dcda60d680c3d56423fca8647472f">TreeWalk::postprocess</a></div><div class="ttdeci">TreeWalkProcessFunction postprocess</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00090">treewalk.h:90</a></div></div>
<div class="ttc" id="forcetree_8c_html_aa1174e5cc4c75944aa98706941a70db9"><div class="ttname"><a href="forcetree_8c.html#aa1174e5cc4c75944aa98706941a70db9">force_tree_allocated</a></div><div class="ttdeci">int force_tree_allocated()</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8c_source.html#l00095">forcetree.c:95</a></div></div>
<div class="ttc" id="allvars_8c_html_a675acdcd149f5993271a1fdc11673b65"><div class="ttname"><a href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a></div><div class="ttdeci">int NTask</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8c_source.html#l00025">allvars.c:25</a></div></div>
<div class="ttc" id="system_8c_html_ad24c35a2016ce428248988795c1d3174"><div class="ttname"><a href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a></div><div class="ttdeci">double second(void)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00140">system.c:140</a></div></div>
<div class="ttc" id="structTreeWalk_html_ab4e96e67f2e72ac33dca9dd06cdac6c0"><div class="ttname"><a href="structTreeWalk.html#ab4e96e67f2e72ac33dca9dd06cdac6c0">TreeWalk::visit</a></div><div class="ttdeci">TreeWalkVisitFunction visit</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00085">treewalk.h:85</a></div></div>
<div class="ttc" id="namespacemake__zeros_html_a5a378c460c2a12be3a58ac2e687852d9"><div class="ttname"><a href="namespacemake__zeros.html#a5a378c460c2a12be3a58ac2e687852d9">make_zeros.size</a></div><div class="ttdeci">size</div><div class="ttdef"><b>Definition:</b> <a href="make__zeros_8py_source.html#l00006">make_zeros.py:6</a></div></div>
<div class="ttc" id="mymalloc_8h_html_afaf046f010cd01115a573a59e1e73e01"><div class="ttname"><a href="mymalloc_8h.html#afaf046f010cd01115a573a59e1e73e01">report_memory_usage</a></div><div class="ttdeci">#define report_memory_usage(x)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00027">mymalloc.h:27</a></div></div>
<div class="ttc" id="structTreeWalk_html_a4e66d620c514c8574b776b8dd0c8ee4d"><div class="ttname"><a href="structTreeWalk.html#a4e66d620c514c8574b776b8dd0c8ee4d">TreeWalk::preprocess</a></div><div class="ttdeci">TreeWalkProcessFunction preprocess</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00091">treewalk.h:91</a></div></div>
<div class="ttc" id="structTreeWalk_html_a1bc94a4f19b597a6328f7048da73d8af"><div class="ttname"><a href="structTreeWalk.html#a1bc94a4f19b597a6328f7048da73d8af">TreeWalk::ev_label</a></div><div class="ttdeci">char * ev_label</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00075">treewalk.h:75</a></div></div>
<div class="ttc" id="structTreeWalk_html_a714d0465e0498a5a8d0b698d37348ce6"><div class="ttname"><a href="structTreeWalk.html#a714d0465e0498a5a8d0b698d37348ce6">TreeWalk::timecomp3</a></div><div class="ttdeci">double timecomp3</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00103">treewalk.h:103</a></div></div>
<div class="ttc" id="treewalk_8c_html_afe78385cec6aabfdd65e6c619a307ef3"><div class="ttname"><a href="treewalk_8c.html#afe78385cec6aabfdd65e6c619a307ef3">ev_reduce_result</a></div><div class="ttdeci">static void ev_reduce_result(TreeWalk *tw)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00668">treewalk.c:668</a></div></div>
<div class="ttc" id="treewalk_8c_html_a587df5201e3b9d6608189f9c606c2633"><div class="ttname"><a href="treewalk_8c.html#a587df5201e3b9d6608189f9c606c2633">ev_get_remote</a></div><div class="ttdeci">static void ev_get_remote(TreeWalk *tw)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00616">treewalk.c:616</a></div></div>
<div class="ttc" id="treewalk_8c_html_ace9d4cc74131168498c47dc85ffc865e"><div class="ttname"><a href="treewalk_8c.html#ace9d4cc74131168498c47dc85ffc865e">ev_begin</a></div><div class="ttdeci">static void ev_begin(TreeWalk *tw, int *active_set, int size)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00142">treewalk.c:142</a></div></div>
<div class="ttc" id="structTreeWalk_html_a3eca40f904a81c8a059b8580b08454e1"><div class="ttname"><a href="structTreeWalk.html#a3eca40f904a81c8a059b8580b08454e1">TreeWalk::Niterations</a></div><div class="ttdeci">int64_t Niterations</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00109">treewalk.h:109</a></div></div>
<div class="ttc" id="structTreeWalk_html_aaf26d07b5db3622b4d340cb0e4077c4f"><div class="ttname"><a href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">TreeWalk::WorkSet</a></div><div class="ttdeci">int * WorkSet</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00119">treewalk.h:119</a></div></div>
<div class="ttc" id="treewalk_8c_html_a183c4217393b49949352febbde1cc1f2"><div class="ttname"><a href="treewalk_8c.html#a183c4217393b49949352febbde1cc1f2">ev_finish</a></div><div class="ttdeci">static void ev_finish(TreeWalk *tw)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00174">treewalk.c:174</a></div></div>
<div class="ttc" id="mymalloc_8h_html_a84e2115e90e9c22e11d9663c019fc8bc"><div class="ttname"><a href="mymalloc_8h.html#a84e2115e90e9c22e11d9663c019fc8bc">ta_free</a></div><div class="ttdeci">#define ta_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00025">mymalloc.h:25</a></div></div>
<div class="ttc" id="structTreeWalk_html_a7c4e2764c52fbda45e6a090d4e7a322b"><div class="ttname"><a href="structTreeWalk.html#a7c4e2764c52fbda45e6a090d4e7a322b">TreeWalk::Nexport_sum</a></div><div class="ttdeci">int64_t Nexport_sum</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00108">treewalk.h:108</a></div></div>
<div class="ttc" id="structTreeWalk_html_ae316f9389f90ad3b5184fa48c2538e6e"><div class="ttname"><a href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">TreeWalk::WorkSetSize</a></div><div class="ttdeci">int WorkSetSize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00120">treewalk.h:120</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_aa6772bdbc1552278ca7dae6a9adb031d_cgraph.svg" width="1020" height="880"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_aa6772bdbc1552278ca7dae6a9adb031d_icgraph.svg" width="1663" height="544"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a145aa9608fd3824bec8049ee97da1c6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a145aa9608fd3824bec8049ee97da1c6f">&#9670;&nbsp;</a></span>treewalk_visit_ngbiter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int treewalk_visit_ngbiter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *&#160;</td>
          <td class="paramname"><em>O</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *&#160;</td>
          <td class="paramname"><em>lv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00774">774</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>, <a class="el" href="structTreeWalk.html#a7623d7cecb2c2af64eb833ce62626dcf">TreeWalk::bgmask</a>, <a class="el" href="types_8h.html#aa70d9618f1de7669d2f5b22a807f5b62">BINMASK</a>, <a class="el" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">NODE::d</a>, <a class="el" href="structTreeWalkNgbIterBase.html#aba52009bbabdd9e0cc5ea5b257b978f3">TreeWalkNgbIterBase::dist</a>, <a class="el" href="allvars_8h.html#a320153e129e2fe4833e5b43935499d3e">DMAX()</a>, <a class="el" href="drift_8c.html#aef778a2d1f0e7e44a06517bb0b6cd8ea">drift_particle()</a>, <a class="el" href="structTreeWalkNgbIterBase.html#a633d0a0d40776a7dcef5c6915bda2c56">TreeWalkNgbIterBase::Hsml</a>, <a class="el" href="structTreeWalkNgbIterBase.html#a887aa48798bdfb5a8cca30be18c9a849">TreeWalkNgbIterBase::mask</a>, <a class="el" href="allvars_8h.html#a1094686c363ae3a70dca627763873649">NEAREST</a>, <a class="el" href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13">NGB_TREEFIND_SYMMETRIC</a>, <a class="el" href="treewalk_8c.html#ab0d5f93870c52e50dbfb34df996ee776">ngb_treefind_threads()</a>, <a class="el" href="structTreeWalk.html#a96381f9f61cf2c56dac48927cd997ec3">TreeWalk::ngbiter</a>, <a class="el" href="structTreeWalk.html#a36bf2eb0e0d65ace233ef30335e04659">TreeWalk::ngbiter_type_elsize</a>, <a class="el" href="structLocalTreeWalk.html#a872d1ebfec863190d302352c40e9d034">LocalTreeWalk::ngblist</a>, <a class="el" href="structLocalTreeWalk.html#a8ba201fbee09b07625447ab9875f4743">LocalTreeWalk::Ninteractions</a>, <a class="el" href="structLocalTreeWalk.html#aa7cbd292623450f5c9edee6b05409078">LocalTreeWalk::Nnodesinlist</a>, <a class="el" href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">TreeWalkQueryBase::NodeList</a>, <a class="el" href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a>, <a class="el" href="forcetree_8c.html#ac46f89ba3715dfa877c2e1b8822da657">Nodes</a>, <a class="el" href="structTreeWalkNgbIterBase.html#ac75baa8cbd1cd6a47dbf9fb136c901d3">TreeWalkNgbIterBase::other</a>, <a class="el" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>, <a class="el" href="structTreeWalkQueryBase.html#a49a12e5d0c323fc4bda017bf127ff322">TreeWalkQueryBase::Pos</a>, <a class="el" href="structTreeWalkNgbIterBase.html#a5b1a01a9a059a9429cf0e5cf92a4f53b">TreeWalkNgbIterBase::r</a>, <a class="el" href="structTreeWalkNgbIterBase.html#a70a2cc004aede46d1407c89d0cbb4616">TreeWalkNgbIterBase::r2</a>, <a class="el" href="structTreeWalkNgbIterBase.html#aebe92fe57ee45b4ada2f95717b7cf12b">TreeWalkNgbIterBase::symmetric</a>, <a class="el" href="structglobal__data__all__processes.html#aac685530de56448068f8dd037fc56490">global_data_all_processes::Ti_Current</a>, <a class="el" href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0abcbdb347b8ee6b5272ecb2884cc9214b">TREEWALK_SPLIT</a>, <a class="el" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">LocalTreeWalk::tw</a>, <a class="el" href="structTreeWalk.html#a2552984fd6c49267b1e6d7ee8d300330">TreeWalk::type</a>, and <a class="el" href="structNODE.html#ac0a7e3bc6d29da84c41010b1336fe9ef">NODE::u</a>.</p>

<p class="reference">Referenced by <a class="el" href="density_8c.html#a69886540d0642590a0022fc14ce61f06">density_internal()</a>, <a class="el" href="fof_8c.html#a77c15fc071e72ec1ea91652d28740ce1">fof_label_primary()</a>, <a class="el" href="fof_8c.html#a9bbff144989b21ac4cbedc3aa2c6b1dc">fof_label_secondary()</a>, <a class="el" href="runtests_8c.html#a60eab909e50b5e048e572b833dcc2846">grav_short_pair()</a>, and <a class="el" href="hydra_8h.html#a6789381bce7d1c316df8ecf04b47a607">hydro_force()</a>.</p>
<div class="fragment"><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;{</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="structTreeWalkNgbIterBase.html">TreeWalkNgbIterBase</a> * iter = alloca(lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>-&gt;<a class="code" href="structTreeWalk.html#a36bf2eb0e0d65ace233ef30335e04659">ngbiter_type_elsize</a>);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="comment">/* Kick-start the iteration with other == -1 */</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#ac75baa8cbd1cd6a47dbf9fb136c901d3">other</a> = -1;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>-&gt;<a class="code" href="structTreeWalk.html#a96381f9f61cf2c56dac48927cd997ec3">ngbiter</a>(I, O, iter, lv);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordtype">int</span> ninteractions = 0;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordtype">int</span> inode = 0;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordflow">for</span>(inode = 0; inode &lt; <a class="code" href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a> &amp;&amp; I-&gt;<a class="code" href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">NodeList</a>[inode] &gt;= 0; inode++)</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="keywordtype">int</span> startnode = <a class="code" href="forcetree_8c.html#ac46f89ba3715dfa877c2e1b8822da657">Nodes</a>[I-&gt;<a class="code" href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">NodeList</a>[inode]].<a class="code" href="structNODE.html#ac0a7e3bc6d29da84c41010b1336fe9ef">u</a>.<a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>.nextnode;  <span class="comment">/* open it */</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <span class="keywordtype">int</span> numcand = <a class="code" href="treewalk_8c.html#ab0d5f93870c52e50dbfb34df996ee776">ngb_treefind_threads</a>(I, O, iter, startnode, lv);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="comment">/* Export buffer is full end prematurally */</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="keywordflow">if</span>(numcand &lt; 0) <span class="keywordflow">return</span> numcand;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="comment">/* If we are here, export is succesful. Work on the this particle -- first</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment">         * filter out all of the candidates that are actually outside. */</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="keywordtype">int</span> numngb;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordflow">for</span>(numngb = 0; numngb &lt; numcand; numngb ++) {</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            <span class="keywordtype">int</span> other = lv-&gt;<a class="code" href="structLocalTreeWalk.html#a872d1ebfec863190d302352c40e9d034">ngblist</a>[numngb];</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            <span class="comment">/* skip garbage */</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[other].IsGarbage) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            <span class="comment">/* must be the correct type */</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <span class="keywordflow">if</span>(!((1&lt;&lt;<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[other].Type) &amp; iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#a887aa48798bdfb5a8cca30be18c9a849">mask</a>))</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <span class="comment">/* must be the correct time bin */</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            <span class="keywordflow">if</span>(lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>-&gt;<a class="code" href="structTreeWalk.html#a2552984fd6c49267b1e6d7ee8d300330">type</a> == <a class="code" href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0abcbdb347b8ee6b5272ecb2884cc9214b">TREEWALK_SPLIT</a> &amp;&amp; !(<a class="code" href="types_8h.html#aa70d9618f1de7669d2f5b22a807f5b62">BINMASK</a>(<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[other].TimeBin) &amp; lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>-&gt;<a class="code" href="structTreeWalk.html#a7623d7cecb2c2af64eb833ce62626dcf">bgmask</a>))</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            <span class="keywordflow">if</span>(lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>-&gt;<a class="code" href="structTreeWalk.html#a2552984fd6c49267b1e6d7ee8d300330">type</a> != <a class="code" href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0abcbdb347b8ee6b5272ecb2884cc9214b">TREEWALK_SPLIT</a>) <span class="comment">/* FIXME: get rid of this entirely */</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                <a class="code" href="drift_8c.html#aef778a2d1f0e7e44a06517bb0b6cd8ea">drift_particle</a>(other, <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#aac685530de56448068f8dd037fc56490">Ti_Current</a>);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            <span class="keywordtype">double</span> dist;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            <span class="keywordflow">if</span>(iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#aebe92fe57ee45b4ada2f95717b7cf12b">symmetric</a> == <a class="code" href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13">NGB_TREEFIND_SYMMETRIC</a>) {</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                dist = <a class="code" href="allvars_8h.html#a320153e129e2fe4833e5b43935499d3e">DMAX</a>(<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[other].Hsml, iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#a633d0a0d40776a7dcef5c6915bda2c56">Hsml</a>);</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                dist = iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#a633d0a0d40776a7dcef5c6915bda2c56">Hsml</a>;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            }</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <span class="keywordtype">double</span> r2 = 0;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <span class="keywordtype">double</span> h2 = dist * dist;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            <span class="keywordflow">for</span>(d = 0; d &lt; 3; d ++) {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                <span class="comment">/* the distance vector points to &#39;other&#39; */</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#aba52009bbabdd9e0cc5ea5b257b978f3">dist</a>[<a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>] = <a class="code" href="allvars_8h.html#a1094686c363ae3a70dca627763873649">NEAREST</a>(I-&gt;<a class="code" href="structTreeWalkQueryBase.html#a49a12e5d0c323fc4bda017bf127ff322">Pos</a>[d] - <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[other].Pos[d]);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                r2 += iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#aba52009bbabdd9e0cc5ea5b257b978f3">dist</a>[<a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>] * iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#aba52009bbabdd9e0cc5ea5b257b978f3">dist</a>[<a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>];</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                <span class="keywordflow">if</span>(r2 &gt; h2) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            }</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            <span class="keywordflow">if</span>(r2 &gt; h2) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            <span class="comment">/* update the iter and call the iteration function*/</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#a70a2cc004aede46d1407c89d0cbb4616">r2</a> = r2;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#a5b1a01a9a059a9429cf0e5cf92a4f53b">r</a> = sqrt(r2);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#ac75baa8cbd1cd6a47dbf9fb136c901d3">other</a> = other;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>-&gt;<a class="code" href="structTreeWalk.html#a96381f9f61cf2c56dac48927cd997ec3">ngbiter</a>(I, O, iter, lv);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        ninteractions += numngb;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    lv-&gt;<a class="code" href="structLocalTreeWalk.html#a8ba201fbee09b07625447ab9875f4743">Ninteractions</a> += ninteractions;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    lv-&gt;<a class="code" href="structLocalTreeWalk.html#aa7cbd292623450f5c9edee6b05409078">Nnodesinlist</a> += inode;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;}</div><div class="ttc" id="structglobal__data__all__processes_html_aac685530de56448068f8dd037fc56490"><div class="ttname"><a href="structglobal__data__all__processes.html#aac685530de56448068f8dd037fc56490">global_data_all_processes::Ti_Current</a></div><div class="ttdeci">inttime_t Ti_Current</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00282">allvars.h:282</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html_a633d0a0d40776a7dcef5c6915bda2c56"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#a633d0a0d40776a7dcef5c6915bda2c56">TreeWalkNgbIterBase::Hsml</a></div><div class="ttdeci">double Hsml</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00034">treewalk.h:34</a></div></div>
<div class="ttc" id="partmanager_8h_html_a2748566f4c443ee77aa831e63dbb5ebe"><div class="ttname"><a href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a></div><div class="ttdeci">#define P</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00099">partmanager.h:99</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html_aebe92fe57ee45b4ada2f95717b7cf12b"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#aebe92fe57ee45b4ada2f95717b7cf12b">TreeWalkNgbIterBase::symmetric</a></div><div class="ttdeci">enum NgbTreeFindSymmetric symmetric</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00032">treewalk.h:32</a></div></div>
<div class="ttc" id="allvars_8h_html_a320153e129e2fe4833e5b43935499d3e"><div class="ttname"><a href="allvars_8h.html#a320153e129e2fe4833e5b43935499d3e">DMAX</a></div><div class="ttdeci">static double DMAX(double a, double b)</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00112">allvars.h:112</a></div></div>
<div class="ttc" id="treewalk_8c_html_ab0d5f93870c52e50dbfb34df996ee776"><div class="ttname"><a href="treewalk_8c.html#ab0d5f93870c52e50dbfb34df996ee776">ngb_treefind_threads</a></div><div class="ttdeci">static int ngb_treefind_threads(TreeWalkQueryBase *I, TreeWalkResultBase *O, TreeWalkNgbIterBase *iter, int startnode, LocalTreeWalk *lv)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00902">treewalk.c:902</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a872d1ebfec863190d302352c40e9d034"><div class="ttname"><a href="structLocalTreeWalk.html#a872d1ebfec863190d302352c40e9d034">LocalTreeWalk::ngblist</a></div><div class="ttdeci">int * ngblist</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00050">treewalk.h:50</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html_ac75baa8cbd1cd6a47dbf9fb136c901d3"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#ac75baa8cbd1cd6a47dbf9fb136c901d3">TreeWalkNgbIterBase::other</a></div><div class="ttdeci">int other</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00038">treewalk.h:38</a></div></div>
<div class="ttc" id="structNODE_html_a7f339ed4a80e4bc82506fdab65a7d655"><div class="ttname"><a href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">NODE::d</a></div><div class="ttdeci">struct NODE::@11::@12 d</div></div>
<div class="ttc" id="structLocalTreeWalk_html_a8ba201fbee09b07625447ab9875f4743"><div class="ttname"><a href="structLocalTreeWalk.html#a8ba201fbee09b07625447ab9875f4743">LocalTreeWalk::Ninteractions</a></div><div class="ttdeci">int64_t Ninteractions</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00051">treewalk.h:51</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_aa7cbd292623450f5c9edee6b05409078"><div class="ttname"><a href="structLocalTreeWalk.html#aa7cbd292623450f5c9edee6b05409078">LocalTreeWalk::Nnodesinlist</a></div><div class="ttdeci">int64_t Nnodesinlist</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00052">treewalk.h:52</a></div></div>
<div class="ttc" id="structTreeWalk_html_a7623d7cecb2c2af64eb833ce62626dcf"><div class="ttname"><a href="structTreeWalk.html#a7623d7cecb2c2af64eb833ce62626dcf">TreeWalk::bgmask</a></div><div class="ttdeci">binmask_t bgmask</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00083">treewalk.h:83</a></div></div>
<div class="ttc" id="treewalk_8h_html_ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13"><div class="ttname"><a href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13">NGB_TREEFIND_SYMMETRIC</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00010">treewalk.h:10</a></div></div>
<div class="ttc" id="types_8h_html_aa70d9618f1de7669d2f5b22a807f5b62"><div class="ttname"><a href="types_8h.html#aa70d9618f1de7669d2f5b22a807f5b62">BINMASK</a></div><div class="ttdeci">#define BINMASK(i)</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00018">types.h:18</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html_a5b1a01a9a059a9429cf0e5cf92a4f53b"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#a5b1a01a9a059a9429cf0e5cf92a4f53b">TreeWalkNgbIterBase::r</a></div><div class="ttdeci">double r</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00037">treewalk.h:37</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_ae7a5a56205348bfd1bcd544e13c4b702"><div class="ttname"><a href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">LocalTreeWalk::tw</a></div><div class="ttdeci">TreeWalk * tw</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00042">treewalk.h:42</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html"><div class="ttname"><a href="structTreeWalkNgbIterBase.html">TreeWalkNgbIterBase</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00031">treewalk.h:31</a></div></div>
<div class="ttc" id="structTreeWalkQueryBase_html_a49a12e5d0c323fc4bda017bf127ff322"><div class="ttname"><a href="structTreeWalkQueryBase.html#a49a12e5d0c323fc4bda017bf127ff322">TreeWalkQueryBase::Pos</a></div><div class="ttdeci">double Pos[3]</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00024">treewalk.h:24</a></div></div>
<div class="ttc" id="forcetree_8c_html_ac46f89ba3715dfa877c2e1b8822da657"><div class="ttname"><a href="forcetree_8c.html#ac46f89ba3715dfa877c2e1b8822da657">Nodes</a></div><div class="ttdeci">struct NODE * Nodes</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8c_source.html#l00038">forcetree.c:38</a></div></div>
<div class="ttc" id="structTreeWalk_html_a2552984fd6c49267b1e6d7ee8d300330"><div class="ttname"><a href="structTreeWalk.html#a2552984fd6c49267b1e6d7ee8d300330">TreeWalk::type</a></div><div class="ttdeci">enum TreeWalkType type</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00077">treewalk.h:77</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html_a70a2cc004aede46d1407c89d0cbb4616"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#a70a2cc004aede46d1407c89d0cbb4616">TreeWalkNgbIterBase::r2</a></div><div class="ttdeci">double r2</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00036">treewalk.h:36</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html_a887aa48798bdfb5a8cca30be18c9a849"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#a887aa48798bdfb5a8cca30be18c9a849">TreeWalkNgbIterBase::mask</a></div><div class="ttdeci">int mask</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00033">treewalk.h:33</a></div></div>
<div class="ttc" id="structTreeWalk_html_a36bf2eb0e0d65ace233ef30335e04659"><div class="ttname"><a href="structTreeWalk.html#a36bf2eb0e0d65ace233ef30335e04659">TreeWalk::ngbiter_type_elsize</a></div><div class="ttdeci">size_t ngbiter_type_elsize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00081">treewalk.h:81</a></div></div>
<div class="ttc" id="structNODE_html_ac0a7e3bc6d29da84c41010b1336fe9ef"><div class="ttname"><a href="structNODE.html#ac0a7e3bc6d29da84c41010b1336fe9ef">NODE::u</a></div><div class="ttdeci">union NODE::@11 u</div></div>
<div class="ttc" id="treewalk_8h_html_a37475eba3cda0b50c89857b58478450e"><div class="ttname"><a href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a></div><div class="ttdeci">#define NODELISTLENGTH</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00007">treewalk.h:7</a></div></div>
<div class="ttc" id="allvars_8h_html_a1094686c363ae3a70dca627763873649"><div class="ttname"><a href="allvars_8h.html#a1094686c363ae3a70dca627763873649">NEAREST</a></div><div class="ttdeci">#define NEAREST(x)</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00044">allvars.h:44</a></div></div>
<div class="ttc" id="drift_8c_html_aef778a2d1f0e7e44a06517bb0b6cd8ea"><div class="ttname"><a href="drift_8c.html#aef778a2d1f0e7e44a06517bb0b6cd8ea">drift_particle</a></div><div class="ttdeci">void drift_particle(int i, inttime_t ti1)</div><div class="ttdef"><b>Definition:</b> <a href="drift_8c_source.html#l00024">drift.c:24</a></div></div>
<div class="ttc" id="treewalk_8h_html_a33be8e00fa2b5a7a103930069b4d75b0abcbdb347b8ee6b5272ecb2884cc9214b"><div class="ttname"><a href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0abcbdb347b8ee6b5272ecb2884cc9214b">TREEWALK_SPLIT</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00068">treewalk.h:68</a></div></div>
<div class="ttc" id="structTreeWalk_html_a96381f9f61cf2c56dac48927cd997ec3"><div class="ttname"><a href="structTreeWalk.html#a96381f9f61cf2c56dac48927cd997ec3">TreeWalk::ngbiter</a></div><div class="ttdeci">TreeWalkNgbIterFunction ngbiter</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00089">treewalk.h:89</a></div></div>
<div class="ttc" id="structTreeWalkQueryBase_html_a537e29d0a02494632970df25139000f2"><div class="ttname"><a href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">TreeWalkQueryBase::NodeList</a></div><div class="ttdeci">int NodeList[NODELISTLENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00023">treewalk.h:23</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html_aba52009bbabdd9e0cc5ea5b257b978f3"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#aba52009bbabdd9e0cc5ea5b257b978f3">TreeWalkNgbIterBase::dist</a></div><div class="ttdeci">double dist[3]</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00035">treewalk.h:35</a></div></div>
<div class="ttc" id="allvars_8c_html_ad49123ae0461ffe61629a0d4cf2ba91f"><div class="ttname"><a href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a></div><div class="ttdeci">struct global_data_all_processes All</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8c_source.html#l00047">allvars.c:47</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a145aa9608fd3824bec8049ee97da1c6f_cgraph.svg" width="1731" height="510"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="treewalk_8c_a145aa9608fd3824bec8049ee97da1c6f_icgraph.svg" width="1715" height="392"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="adf63e880533c73bcbc5ae63dd833459c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf63e880533c73bcbc5ae63dd833459c">&#9670;&nbsp;</a></span>DataIndexTable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdata__index.html">data_index</a>* DataIndexTable</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>the particles to be exported are grouped by task-number. This table allows the results to be disentangled again and to be assigned to the correct particle </p>

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00047">47</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

</div>
</div>
<a id="a571736d9ee463ca84af6c4b98079899e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a571736d9ee463ca84af6c4b98079899e">&#9670;&nbsp;</a></span>DataNodeList</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdata__nodelist.html">data_nodelist</a>
* DataNodeList</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>the particles to be exported are grouped by task-number. This table allows the results to be disentangled again and to be assigned to the correct particle </p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#ace9d4cc74131168498c47dc85ffc865e">ev_begin()</a>, <a class="el" href="treewalk_8c.html#a183c4217393b49949352febbde1cc1f2">ev_finish()</a>, <a class="el" href="treewalk_8c.html#a587df5201e3b9d6608189f9c606c2633">ev_get_remote()</a>, <a class="el" href="treewalk_8c.html#a5341d99d76201774516d5e551dc1c559">ev_primary()</a>, and <a class="el" href="treewalk_8h.html#ad796f088f1c33bc7994c85e4c93f8585">treewalk_export_particle()</a>.</p>

</div>
</div>
<a id="a43acd135207b8928717a80d461c0da1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43acd135207b8928717a80d461c0da1c">&#9670;&nbsp;</a></span>Exportflag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int* Exportflag</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Buffer used for flagging whether a particle needs to be exported to another process </p>

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00025">25</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a8756da05f289b9a4b4875ab58c4ba0bf">ev_alloc_threadlocals()</a>, <a class="el" href="treewalk_8c.html#a8aec9dd3728dfa077f70fb077b145ead">ev_free_threadlocals()</a>, and <a class="el" href="treewalk_8c.html#af906cc0eb36b216610435df321d8e7e3">ev_init_thread()</a>.</p>

</div>
</div>
<a id="ab71b664c73f42ce057c7510e31bc57fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab71b664c73f42ce057c7510e31bc57fe">&#9670;&nbsp;</a></span>Exportindex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int* Exportindex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00027">27</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a8756da05f289b9a4b4875ab58c4ba0bf">ev_alloc_threadlocals()</a>, and <a class="el" href="treewalk_8c.html#af906cc0eb36b216610435df321d8e7e3">ev_init_thread()</a>.</p>

</div>
</div>
<a id="acb34022c9e51da1272df23a54dcc5c3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb34022c9e51da1272df23a54dcc5c3c">&#9670;&nbsp;</a></span>Exportnodecount</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int* Exportnodecount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00026">26</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a8756da05f289b9a4b4875ab58c4ba0bf">ev_alloc_threadlocals()</a>, and <a class="el" href="treewalk_8c.html#af906cc0eb36b216610435df321d8e7e3">ev_init_thread()</a>.</p>

</div>
</div>
<a id="a750e759c5d7e555c7ab6015392d5a91b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a750e759c5d7e555c7ab6015392d5a91b">&#9670;&nbsp;</a></span>GDB_current_ev</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTreeWalk.html">TreeWalk</a>* GDB_current_ev = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00107">107</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

</div>
</div>
<a id="ade1b96e6772d0d1ccb06bcbec352b5bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade1b96e6772d0d1ccb06bcbec352b5bd">&#9670;&nbsp;</a></span>Ngblist</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int* Ngblist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00024">24</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#ace9d4cc74131168498c47dc85ffc865e">ev_begin()</a>, <a class="el" href="treewalk_8c.html#a183c4217393b49949352febbde1cc1f2">ev_finish()</a>, and <a class="el" href="treewalk_8c.html#af906cc0eb36b216610435df321d8e7e3">ev_init_thread()</a>.</p>

</div>
</div>
<a id="abe0df9311f86961bccfea23941bb6513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe0df9311f86961bccfea23941bb6513">&#9670;&nbsp;</a></span>Recv_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int * Recv_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00028">28</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a813df07bf8486b29f23977363a59dea2">ev_communicate()</a>, <a class="el" href="treewalk_8c.html#a5341d99d76201774516d5e551dc1c559">ev_primary()</a>, <a class="el" href="fof_8c.html#a43f1ce0c3f8262e02cd94d9e670f9ed2">fof_reduce_groups()</a>, and <a class="el" href="fof_8h.html#a001399b8654ff526e06bc03516c9bd1d">fof_seed()</a>.</p>

</div>
</div>
<a id="a57d69aeac9f940d210a9e5d4b43952ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57d69aeac9f940d210a9e5d4b43952ca">&#9670;&nbsp;</a></span>Recv_offset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int * Recv_offset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00028">28</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a813df07bf8486b29f23977363a59dea2">ev_communicate()</a>, and <a class="el" href="treewalk_8c.html#a5341d99d76201774516d5e551dc1c559">ev_primary()</a>.</p>

</div>
</div>
<a id="ae1ce32b3af7d102c9bfe189eeeef67d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1ce32b3af7d102c9bfe189eeeef67d2">&#9670;&nbsp;</a></span>Send_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int * Send_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00028">28</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a813df07bf8486b29f23977363a59dea2">ev_communicate()</a>, <a class="el" href="treewalk_8c.html#a5341d99d76201774516d5e551dc1c559">ev_primary()</a>, <a class="el" href="fof_8c.html#a43f1ce0c3f8262e02cd94d9e670f9ed2">fof_reduce_groups()</a>, <a class="el" href="fof_8h.html#a001399b8654ff526e06bc03516c9bd1d">fof_seed()</a>, and <a class="el" href="treewalk_8h.html#aa6772bdbc1552278ca7dae6a9adb031d">treewalk_run()</a>.</p>

</div>
</div>
<a id="a8d6842f16ab6db63c401244f4b11cbe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d6842f16ab6db63c401244f4b11cbe9">&#9670;&nbsp;</a></span>Send_offset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int* Send_offset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00028">28</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="treewalk_8c.html#a813df07bf8486b29f23977363a59dea2">ev_communicate()</a>, and <a class="el" href="treewalk_8c.html#a5341d99d76201774516d5e551dc1c559">ev_primary()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
