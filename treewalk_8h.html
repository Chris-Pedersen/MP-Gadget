<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MP-Gadget: treewalk.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MP-Gadget
   &#160;<span id="projectnumber">0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">treewalk.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="allvars_8h_source.html">allvars.h</a>&quot;</code><br />
</div>
<p><a href="treewalk_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTreeWalkNgbIterBase.html">TreeWalkNgbIterBase</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTreeWalk.html">TreeWalk</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a37475eba3cda0b50c89857b58478450e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a37475eba3cda0b50c89857b58478450e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adec418ab95919d7f9c11dbea86c32a0f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8h.html#adec418ab95919d7f9c11dbea86c32a0f">TREEWALK_REDUCE</a>(A,  B)&#160;&#160;&#160;(A) = (mode==<a class="el" href="treewalk_8h.html#a504d8280eaa376504899398c68577cefad61deee419e3b1ca683dc572930e016b">TREEWALK_PRIMARY</a>)?(B):((A) + (B))</td></tr>
<tr class="separator:adec418ab95919d7f9c11dbea86c32a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3fe3da6c80310f0d37902c4fa993f9d7"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structTreeWalk.html">TreeWalk</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8h.html#a3fe3da6c80310f0d37902c4fa993f9d7">TreeWalk</a></td></tr>
<tr class="separator:a3fe3da6c80310f0d37902c4fa993f9d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b18ab132aa3a45e2f2bed8aef94633"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8h.html#a01b18ab132aa3a45e2f2bed8aef94633">TreeWalkVisitFunction</a>) (<a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *input, <a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *output, <a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *lv)</td></tr>
<tr class="separator:a01b18ab132aa3a45e2f2bed8aef94633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bd69a60abf41f8b3a0cfcb14c518d73"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8h.html#a3bd69a60abf41f8b3a0cfcb14c518d73">TreeWalkNgbIterFunction</a>) (<a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *input, <a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *output, <a class="el" href="structTreeWalkNgbIterBase.html">TreeWalkNgbIterBase</a> *iter, <a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *lv)</td></tr>
<tr class="separator:a3bd69a60abf41f8b3a0cfcb14c518d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0dac1a587602f24fdaea983349b94d5"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8h.html#ae0dac1a587602f24fdaea983349b94d5">TreeWalkHasWorkFunction</a>) (const int i, <a class="el" href="structTreeWalk.html">TreeWalk</a> *tw)</td></tr>
<tr class="separator:ae0dac1a587602f24fdaea983349b94d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18ae30498477c2521e95251e204e8928"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8h.html#a18ae30498477c2521e95251e204e8928">TreeWalkProcessFunction</a>) (const int i, <a class="el" href="structTreeWalk.html">TreeWalk</a> *tw)</td></tr>
<tr class="separator:a18ae30498477c2521e95251e204e8928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9a8ade7817c58b83859399364deb1a1"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8h.html#ac9a8ade7817c58b83859399364deb1a1">TreeWalkFillQueryFunction</a>) (const int j, <a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *query, <a class="el" href="structTreeWalk.html">TreeWalk</a> *tw)</td></tr>
<tr class="separator:ac9a8ade7817c58b83859399364deb1a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b5a07b25001ac6e9e628d4eb0493b8c"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8h.html#a2b5a07b25001ac6e9e628d4eb0493b8c">TreeWalkReduceResultFunction</a>) (const int j, <a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *result, const enum <a class="el" href="treewalk_8h.html#a504d8280eaa376504899398c68577cef">TreeWalkReduceMode</a> mode, <a class="el" href="structTreeWalk.html">TreeWalk</a> *tw)</td></tr>
<tr class="separator:a2b5a07b25001ac6e9e628d4eb0493b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ae8d78c0b33a7736c7e75739976002dbd"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbd">NgbTreeFindSymmetric</a> { <a class="el" href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13">NGB_TREEFIND_SYMMETRIC</a>, 
<a class="el" href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbda3b05fa287fdb7661dbb081cd20c00eb5">NGB_TREEFIND_ASYMMETRIC</a>
 }</td></tr>
<tr class="separator:ae8d78c0b33a7736c7e75739976002dbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a504d8280eaa376504899398c68577cef"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8h.html#a504d8280eaa376504899398c68577cef">TreeWalkReduceMode</a> { <a class="el" href="treewalk_8h.html#a504d8280eaa376504899398c68577cefad61deee419e3b1ca683dc572930e016b">TREEWALK_PRIMARY</a>, 
<a class="el" href="treewalk_8h.html#a504d8280eaa376504899398c68577cefaff5a9c7f5eed52d1e5829852038aac3f">TREEWALK_GHOSTS</a>
 }</td></tr>
<tr class="separator:a504d8280eaa376504899398c68577cef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33be8e00fa2b5a7a103930069b4d75b0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0">TreeWalkType</a> { <a class="el" href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0a58be92c59ab4442464af176ac823415c">TREEWALK_ACTIVE</a> = 0, 
<a class="el" href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0acde5ff259faf863e892988f58764098f">TREEWALK_ALL</a>, 
<a class="el" href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0abcbdb347b8ee6b5272ecb2884cc9214b">TREEWALK_SPLIT</a>
 }</td></tr>
<tr class="separator:a33be8e00fa2b5a7a103930069b4d75b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa6772bdbc1552278ca7dae6a9adb031d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8h.html#aa6772bdbc1552278ca7dae6a9adb031d">treewalk_run</a> (<a class="el" href="structTreeWalk.html">TreeWalk</a> *tw, int *active_set, int size)</td></tr>
<tr class="separator:aa6772bdbc1552278ca7dae6a9adb031d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a145aa9608fd3824bec8049ee97da1c6f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8h.html#a145aa9608fd3824bec8049ee97da1c6f">treewalk_visit_ngbiter</a> (<a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *I, <a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *O, <a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *lv)</td></tr>
<tr class="separator:a145aa9608fd3824bec8049ee97da1c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad796f088f1c33bc7994c85e4c93f8585"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="treewalk_8h.html#ad796f088f1c33bc7994c85e4c93f8585">treewalk_export_particle</a> (<a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *lv, int no)</td></tr>
<tr class="separator:ad796f088f1c33bc7994c85e4c93f8585"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a37475eba3cda0b50c89857b58478450e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37475eba3cda0b50c89857b58478450e">&#9670;&nbsp;</a></span>NODELISTLENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NODELISTLENGTH&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8h_source.html#l00007">7</a> of file <a class="el" href="treewalk_8h_source.html">treewalk.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="gravshort-tree_8c_source.html#l00110">force_treeev_shortrange()</a>, <a class="el" href="gravshort-tree-old_8c_source.html#l00143">force_treeevaluate_shortrange()</a>, <a class="el" href="treewalk_8c_source.html#l00483">treewalk_export_particle()</a>, <a class="el" href="treewalk_8c_source.html#l00188">treewalk_init_query()</a>, and <a class="el" href="treewalk_8c_source.html#l00774">treewalk_visit_ngbiter()</a>.</p>

</div>
</div>
<a id="adec418ab95919d7f9c11dbea86c32a0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adec418ab95919d7f9c11dbea86c32a0f">&#9670;&nbsp;</a></span>TREEWALK_REDUCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TREEWALK_REDUCE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">A, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">B&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(A) = (mode==<a class="el" href="treewalk_8h.html#a504d8280eaa376504899398c68577cefad61deee419e3b1ca683dc572930e016b">TREEWALK_PRIMARY</a>)?(B):((A) + (B))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8h_source.html#l00136">136</a> of file <a class="el" href="treewalk_8h_source.html">treewalk.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="sfr__eff_8c_source.html#l00370">cooling_direct()</a>, <a class="el" href="density_8c_source.html#l00252">density_reduce()</a>, <a class="el" href="gravshort_8h_source.html#l00066">grav_short_reduce()</a>, and <a class="el" href="hydra_8c_source.html#l00163">hydro_reduce()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a3fe3da6c80310f0d37902c4fa993f9d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fe3da6c80310f0d37902c4fa993f9d7">&#9670;&nbsp;</a></span>TreeWalk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structTreeWalk.html">TreeWalk</a> <a class="el" href="structTreeWalk.html">TreeWalk</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8h_source.html#l00019">19</a> of file <a class="el" href="treewalk_8h_source.html">treewalk.h</a>.</p>

</div>
</div>
<a id="ac9a8ade7817c58b83859399364deb1a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9a8ade7817c58b83859399364deb1a1">&#9670;&nbsp;</a></span>TreeWalkFillQueryFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* TreeWalkFillQueryFunction) (const int j, <a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *query, <a class="el" href="structTreeWalk.html">TreeWalk</a> *tw)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8h_source.html#l00062">62</a> of file <a class="el" href="treewalk_8h_source.html">treewalk.h</a>.</p>

</div>
</div>
<a id="ae0dac1a587602f24fdaea983349b94d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0dac1a587602f24fdaea983349b94d5">&#9670;&nbsp;</a></span>TreeWalkHasWorkFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* TreeWalkHasWorkFunction) (const int i, <a class="el" href="structTreeWalk.html">TreeWalk</a> *tw)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8h_source.html#l00059">59</a> of file <a class="el" href="treewalk_8h_source.html">treewalk.h</a>.</p>

</div>
</div>
<a id="a3bd69a60abf41f8b3a0cfcb14c518d73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bd69a60abf41f8b3a0cfcb14c518d73">&#9670;&nbsp;</a></span>TreeWalkNgbIterFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* TreeWalkNgbIterFunction) (<a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *input, <a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *output, <a class="el" href="structTreeWalkNgbIterBase.html">TreeWalkNgbIterBase</a> *iter, <a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *lv)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8h_source.html#l00057">57</a> of file <a class="el" href="treewalk_8h_source.html">treewalk.h</a>.</p>

</div>
</div>
<a id="a18ae30498477c2521e95251e204e8928"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18ae30498477c2521e95251e204e8928">&#9670;&nbsp;</a></span>TreeWalkProcessFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* TreeWalkProcessFunction) (const int i, <a class="el" href="structTreeWalk.html">TreeWalk</a> *tw)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8h_source.html#l00060">60</a> of file <a class="el" href="treewalk_8h_source.html">treewalk.h</a>.</p>

</div>
</div>
<a id="a2b5a07b25001ac6e9e628d4eb0493b8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b5a07b25001ac6e9e628d4eb0493b8c">&#9670;&nbsp;</a></span>TreeWalkReduceResultFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* TreeWalkReduceResultFunction) (const int j, <a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *result, const enum <a class="el" href="treewalk_8h.html#a504d8280eaa376504899398c68577cef">TreeWalkReduceMode</a> mode, <a class="el" href="structTreeWalk.html">TreeWalk</a> *tw)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8h_source.html#l00063">63</a> of file <a class="el" href="treewalk_8h_source.html">treewalk.h</a>.</p>

</div>
</div>
<a id="a01b18ab132aa3a45e2f2bed8aef94633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b18ab132aa3a45e2f2bed8aef94633">&#9670;&nbsp;</a></span>TreeWalkVisitFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* TreeWalkVisitFunction) (<a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *input, <a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *output, <a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *lv)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8h_source.html#l00055">55</a> of file <a class="el" href="treewalk_8h_source.html">treewalk.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ae8d78c0b33a7736c7e75739976002dbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8d78c0b33a7736c7e75739976002dbd">&#9670;&nbsp;</a></span>NgbTreeFindSymmetric</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbd">NgbTreeFindSymmetric</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13"></a>NGB_TREEFIND_SYMMETRIC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8d78c0b33a7736c7e75739976002dbda3b05fa287fdb7661dbb081cd20c00eb5"></a>NGB_TREEFIND_ASYMMETRIC&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="treewalk_8h_source.html#l00009">9</a> of file <a class="el" href="treewalk_8h_source.html">treewalk.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;                          {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    <a class="code" href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13">NGB_TREEFIND_SYMMETRIC</a>,</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <a class="code" href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbda3b05fa287fdb7661dbb081cd20c00eb5">NGB_TREEFIND_ASYMMETRIC</a>,</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;};</div><div class="ttc" id="treewalk_8h_html_ae8d78c0b33a7736c7e75739976002dbda3b05fa287fdb7661dbb081cd20c00eb5"><div class="ttname"><a href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbda3b05fa287fdb7661dbb081cd20c00eb5">NGB_TREEFIND_ASYMMETRIC</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00011">treewalk.h:11</a></div></div>
<div class="ttc" id="treewalk_8h_html_ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13"><div class="ttname"><a href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13">NGB_TREEFIND_SYMMETRIC</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00010">treewalk.h:10</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a504d8280eaa376504899398c68577cef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a504d8280eaa376504899398c68577cef">&#9670;&nbsp;</a></span>TreeWalkReduceMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="treewalk_8h.html#a504d8280eaa376504899398c68577cef">TreeWalkReduceMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a504d8280eaa376504899398c68577cefad61deee419e3b1ca683dc572930e016b"></a>TREEWALK_PRIMARY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a504d8280eaa376504899398c68577cefaff5a9c7f5eed52d1e5829852038aac3f"></a>TREEWALK_GHOSTS&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="treewalk_8h_source.html#l00014">14</a> of file <a class="el" href="treewalk_8h_source.html">treewalk.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                        {</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <a class="code" href="treewalk_8h.html#a504d8280eaa376504899398c68577cefad61deee419e3b1ca683dc572930e016b">TREEWALK_PRIMARY</a>,</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <a class="code" href="treewalk_8h.html#a504d8280eaa376504899398c68577cefaff5a9c7f5eed52d1e5829852038aac3f">TREEWALK_GHOSTS</a>,</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;};</div><div class="ttc" id="treewalk_8h_html_a504d8280eaa376504899398c68577cefaff5a9c7f5eed52d1e5829852038aac3f"><div class="ttname"><a href="treewalk_8h.html#a504d8280eaa376504899398c68577cefaff5a9c7f5eed52d1e5829852038aac3f">TREEWALK_GHOSTS</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00016">treewalk.h:16</a></div></div>
<div class="ttc" id="treewalk_8h_html_a504d8280eaa376504899398c68577cefad61deee419e3b1ca683dc572930e016b"><div class="ttname"><a href="treewalk_8h.html#a504d8280eaa376504899398c68577cefad61deee419e3b1ca683dc572930e016b">TREEWALK_PRIMARY</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00015">treewalk.h:15</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a33be8e00fa2b5a7a103930069b4d75b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33be8e00fa2b5a7a103930069b4d75b0">&#9670;&nbsp;</a></span>TreeWalkType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0">TreeWalkType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a33be8e00fa2b5a7a103930069b4d75b0a58be92c59ab4442464af176ac823415c"></a>TREEWALK_ACTIVE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a33be8e00fa2b5a7a103930069b4d75b0acde5ff259faf863e892988f58764098f"></a>TREEWALK_ALL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a33be8e00fa2b5a7a103930069b4d75b0abcbdb347b8ee6b5272ecb2884cc9214b"></a>TREEWALK_SPLIT&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="treewalk_8h_source.html#l00065">65</a> of file <a class="el" href="treewalk_8h_source.html">treewalk.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                  {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0a58be92c59ab4442464af176ac823415c">TREEWALK_ACTIVE</a> = 0,</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0acde5ff259faf863e892988f58764098f">TREEWALK_ALL</a>,</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0abcbdb347b8ee6b5272ecb2884cc9214b">TREEWALK_SPLIT</a>,</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;};</div><div class="ttc" id="treewalk_8h_html_a33be8e00fa2b5a7a103930069b4d75b0acde5ff259faf863e892988f58764098f"><div class="ttname"><a href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0acde5ff259faf863e892988f58764098f">TREEWALK_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00067">treewalk.h:67</a></div></div>
<div class="ttc" id="treewalk_8h_html_a33be8e00fa2b5a7a103930069b4d75b0a58be92c59ab4442464af176ac823415c"><div class="ttname"><a href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0a58be92c59ab4442464af176ac823415c">TREEWALK_ACTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00066">treewalk.h:66</a></div></div>
<div class="ttc" id="treewalk_8h_html_a33be8e00fa2b5a7a103930069b4d75b0abcbdb347b8ee6b5272ecb2884cc9214b"><div class="ttname"><a href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0abcbdb347b8ee6b5272ecb2884cc9214b">TREEWALK_SPLIT</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00068">treewalk.h:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad796f088f1c33bc7994c85e4c93f8585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad796f088f1c33bc7994c85e4c93f8585">&#9670;&nbsp;</a></span>treewalk_export_particle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int treewalk_export_particle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *&#160;</td>
          <td class="paramname"><em>lv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>no</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00483">483</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="system_8h_source.html#l00044">atomic_fetch_and_add()</a>, <a class="el" href="treewalk_8h_source.html#l00115">TreeWalk::BufferFullFlag</a>, <a class="el" href="treewalk_8h_source.html#l00116">TreeWalk::BunchSize</a>, <a class="el" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a>, <a class="el" href="endrun_8c_source.html#l00210">endrun()</a>, <a class="el" href="treewalk_8h_source.html#l00047">LocalTreeWalk::exportflag</a>, <a class="el" href="treewalk_8h_source.html#l00049">LocalTreeWalk::exportindex</a>, <a class="el" href="treewalk_8h_source.html#l00048">LocalTreeWalk::exportnodecount</a>, <a class="el" href="treewalk_8c_source.html#l00043">data_index::Index</a>, <a class="el" href="treewalk_8c_source.html#l00044">data_index::IndexGet</a>, <a class="el" href="forcetree_8c_source.html#l00042">MaxNodes</a>, <a class="el" href="treewalk_8h_source.html#l00044">LocalTreeWalk::mode</a>, <a class="el" href="treewalk_8h_source.html#l00113">TreeWalk::Nexport</a>, <a class="el" href="treewalk_8c_source.html#l00032">data_nodelist::NodeList</a>, <a class="el" href="treewalk_8h_source.html#l00007">NODELISTLENGTH</a>, <a class="el" href="forcetree_8c_source.html#l00043">RootNode</a>, <a class="el" href="treewalk_8h_source.html#l00045">LocalTreeWalk::target</a>, <a class="el" href="treewalk_8c_source.html#l00042">data_index::Task</a>, <a class="el" href="domain_8c_source.html#l00051">TopLeaves</a>, <a class="el" href="treewalk_8h_source.html#l00042">LocalTreeWalk::tw</a>, and <a class="el" href="treewalk_8h_source.html#l00093">TreeWalk::UseNodeList</a>.</p>

<p class="reference">Referenced by <a class="el" href="gravshort-tree_8c_source.html#l00110">force_treeev_shortrange()</a>, <a class="el" href="gravshort-tree-old_8c_source.html#l00143">force_treeevaluate_shortrange()</a>, and <a class="el" href="treewalk_8c_source.html#l00902">ngb_treefind_threads()</a>.</p>
<div class="fragment"><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                                                         {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span>(lv-&gt;<a class="code" href="structLocalTreeWalk.html#a410824495c7cec6123947280f1457a73">mode</a> != 0) {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(1, <span class="stringliteral">&quot;Trying to export a ghost particle.\n&quot;</span>);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordtype">int</span> target = lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae999a6a9e0f7ba9597270d2acba0f7c0">target</a>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordtype">int</span> *exportflag = lv-&gt;<a class="code" href="structLocalTreeWalk.html#a678bc9d7c6a02c8d15926609f8025a80">exportflag</a>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordtype">int</span> *exportnodecount = lv-&gt;<a class="code" href="structLocalTreeWalk.html#a15e405e84e467d04aa82cc15850b514e">exportnodecount</a>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordtype">int</span> *exportindex = lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae0f3bbe608ee923cf4771abee672722a">exportindex</a>; </div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <a class="code" href="structTreeWalk.html">TreeWalk</a> * tw = lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordtype">int</span> task;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    task = <a class="code" href="domain_8c.html#aba985e8ae49746e598c581da7631076e">TopLeaves</a>[no - (<a class="code" href="forcetree_8c.html#a864c54aa65cc3be72a6ee67e77d4324a">RootNode</a> + <a class="code" href="forcetree_8c.html#aca70a1751175167a36c1c6775a338bee">MaxNodes</a>)].Task;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">if</span>(exportflag[task] != target)</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        exportflag[task] = target;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        exportnodecount[task] = <a class="code" href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a>;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span>(exportnodecount[task] == <a class="code" href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a>)</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordtype">int</span> nexp;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a> &lt; tw-&gt;<a class="code" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">BunchSize</a>) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            nexp = <a class="code" href="system_8h.html#a00eeba7aebd7952f4c0ecebb60fbeca2">atomic_fetch_and_add</a>(&amp;tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a>, 1);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            nexp = tw-&gt;<a class="code" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">BunchSize</a>;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">if</span>(nexp &gt;= tw-&gt;<a class="code" href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">BunchSize</a>) {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <span class="comment">/* out of buffer space. Need to discard work for this particle and interrupt */</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            tw-&gt;<a class="code" href="structTreeWalk.html#a8ab7e6e0602411dc1f3be72a346e76b9">BufferFullFlag</a> = 1;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="preprocessor">#pragma omp flush</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        exportnodecount[task] = 0;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        exportindex[task] = nexp;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[nexp].<a class="code" href="structdata__index.html#a4074371073ee7171281ad6404f22c699">Task</a> = task;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[nexp].<a class="code" href="structdata__index.html#a155c14e6f492c1e1c70f72a69cbbff2f">Index</a> = target;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <a class="code" href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a>[nexp].<a class="code" href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">IndexGet</a> = nexp;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#adc62eb856144faf75a8759af94f4b92f">UseNodeList</a>) </div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <a class="code" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a>[exportindex[task]].<a class="code" href="structdata__nodelist.html#a6013b9f0c28891468a9b91bc39e52961">NodeList</a>[exportnodecount[task]++] =</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <a class="code" href="domain_8c.html#aba985e8ae49746e598c581da7631076e">TopLeaves</a>[no - (<a class="code" href="forcetree_8c.html#a864c54aa65cc3be72a6ee67e77d4324a">RootNode</a> + <a class="code" href="forcetree_8c.html#aca70a1751175167a36c1c6775a338bee">MaxNodes</a>)].treenode;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">if</span>(exportnodecount[task] &lt; <a class="code" href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a>)</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <a class="code" href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a>[exportindex[task]].<a class="code" href="structdata__nodelist.html#a6013b9f0c28891468a9b91bc39e52961">NodeList</a>[exportnodecount[task]] = -1;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div><div class="ttc" id="structdata__nodelist_html_a6013b9f0c28891468a9b91bc39e52961"><div class="ttname"><a href="structdata__nodelist.html#a6013b9f0c28891468a9b91bc39e52961">data_nodelist::NodeList</a></div><div class="ttdeci">int NodeList[NODELISTLENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00032">treewalk.c:32</a></div></div>
<div class="ttc" id="endrun_8c_html_ad963d7efdb9f10f7a2298c8ccd222ab0"><div class="ttname"><a href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a></div><div class="ttdeci">void endrun(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00210">endrun.c:210</a></div></div>
<div class="ttc" id="structTreeWalk_html_adc62eb856144faf75a8759af94f4b92f"><div class="ttname"><a href="structTreeWalk.html#adc62eb856144faf75a8759af94f4b92f">TreeWalk::UseNodeList</a></div><div class="ttdeci">int UseNodeList</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00093">treewalk.h:93</a></div></div>
<div class="ttc" id="structdata__index_html_a4074371073ee7171281ad6404f22c699"><div class="ttname"><a href="structdata__index.html#a4074371073ee7171281ad6404f22c699">data_index::Task</a></div><div class="ttdeci">int Task</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00042">treewalk.c:42</a></div></div>
<div class="ttc" id="structTreeWalk_html"><div class="ttname"><a href="structTreeWalk.html">TreeWalk</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00071">treewalk.h:71</a></div></div>
<div class="ttc" id="structTreeWalk_html_a9cf8342687bbd213c2324c948ca0f9c0"><div class="ttname"><a href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">TreeWalk::Nexport</a></div><div class="ttdeci">int Nexport</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00113">treewalk.h:113</a></div></div>
<div class="ttc" id="domain_8c_html_aba985e8ae49746e598c581da7631076e"><div class="ttname"><a href="domain_8c.html#aba985e8ae49746e598c581da7631076e">TopLeaves</a></div><div class="ttdeci">struct topleaf_data * TopLeaves</div><div class="ttdef"><b>Definition:</b> <a href="domain_8c_source.html#l00051">domain.c:51</a></div></div>
<div class="ttc" id="structTreeWalk_html_a4265d246159741451ee1d24ea65e7323"><div class="ttname"><a href="structTreeWalk.html#a4265d246159741451ee1d24ea65e7323">TreeWalk::BunchSize</a></div><div class="ttdeci">int BunchSize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00116">treewalk.h:116</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a678bc9d7c6a02c8d15926609f8025a80"><div class="ttname"><a href="structLocalTreeWalk.html#a678bc9d7c6a02c8d15926609f8025a80">LocalTreeWalk::exportflag</a></div><div class="ttdeci">int * exportflag</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00047">treewalk.h:47</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_ae999a6a9e0f7ba9597270d2acba0f7c0"><div class="ttname"><a href="structLocalTreeWalk.html#ae999a6a9e0f7ba9597270d2acba0f7c0">LocalTreeWalk::target</a></div><div class="ttdeci">int target</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00045">treewalk.h:45</a></div></div>
<div class="ttc" id="treewalk_8c_html_adf63e880533c73bcbc5ae63dd833459c"><div class="ttname"><a href="treewalk_8c.html#adf63e880533c73bcbc5ae63dd833459c">DataIndexTable</a></div><div class="ttdeci">static struct data_index * DataIndexTable</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00047">treewalk.c:47</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_ae7a5a56205348bfd1bcd544e13c4b702"><div class="ttname"><a href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">LocalTreeWalk::tw</a></div><div class="ttdeci">TreeWalk * tw</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00042">treewalk.h:42</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a410824495c7cec6123947280f1457a73"><div class="ttname"><a href="structLocalTreeWalk.html#a410824495c7cec6123947280f1457a73">LocalTreeWalk::mode</a></div><div class="ttdeci">int mode</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00044">treewalk.h:44</a></div></div>
<div class="ttc" id="system_8h_html_a00eeba7aebd7952f4c0ecebb60fbeca2"><div class="ttname"><a href="system_8h.html#a00eeba7aebd7952f4c0ecebb60fbeca2">atomic_fetch_and_add</a></div><div class="ttdeci">static int atomic_fetch_and_add(int *ptr, int value)</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00044">system.h:44</a></div></div>
<div class="ttc" id="structdata__index_html_a155c14e6f492c1e1c70f72a69cbbff2f"><div class="ttname"><a href="structdata__index.html#a155c14e6f492c1e1c70f72a69cbbff2f">data_index::Index</a></div><div class="ttdeci">int Index</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00043">treewalk.c:43</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_ae0f3bbe608ee923cf4771abee672722a"><div class="ttname"><a href="structLocalTreeWalk.html#ae0f3bbe608ee923cf4771abee672722a">LocalTreeWalk::exportindex</a></div><div class="ttdeci">int * exportindex</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00049">treewalk.h:49</a></div></div>
<div class="ttc" id="forcetree_8c_html_a864c54aa65cc3be72a6ee67e77d4324a"><div class="ttname"><a href="forcetree_8c.html#a864c54aa65cc3be72a6ee67e77d4324a">RootNode</a></div><div class="ttdeci">int RootNode</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8c_source.html#l00043">forcetree.c:43</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a15e405e84e467d04aa82cc15850b514e"><div class="ttname"><a href="structLocalTreeWalk.html#a15e405e84e467d04aa82cc15850b514e">LocalTreeWalk::exportnodecount</a></div><div class="ttdeci">int * exportnodecount</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00048">treewalk.h:48</a></div></div>
<div class="ttc" id="structdata__index_html_a821d25b97450a6d676a46cb6ea89adaa"><div class="ttname"><a href="structdata__index.html#a821d25b97450a6d676a46cb6ea89adaa">data_index::IndexGet</a></div><div class="ttdeci">int IndexGet</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00044">treewalk.c:44</a></div></div>
<div class="ttc" id="treewalk_8h_html_a37475eba3cda0b50c89857b58478450e"><div class="ttname"><a href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a></div><div class="ttdeci">#define NODELISTLENGTH</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00007">treewalk.h:7</a></div></div>
<div class="ttc" id="treewalk_8c_html_a571736d9ee463ca84af6c4b98079899e"><div class="ttname"><a href="treewalk_8c.html#a571736d9ee463ca84af6c4b98079899e">DataNodeList</a></div><div class="ttdeci">static struct data_nodelist  * DataNodeList</div></div>
<div class="ttc" id="forcetree_8c_html_aca70a1751175167a36c1c6775a338bee"><div class="ttname"><a href="forcetree_8c.html#aca70a1751175167a36c1c6775a338bee">MaxNodes</a></div><div class="ttdeci">int MaxNodes</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8c_source.html#l00042">forcetree.c:42</a></div></div>
<div class="ttc" id="structTreeWalk_html_a8ab7e6e0602411dc1f3be72a346e76b9"><div class="ttname"><a href="structTreeWalk.html#a8ab7e6e0602411dc1f3be72a346e76b9">TreeWalk::BufferFullFlag</a></div><div class="ttdeci">int BufferFullFlag</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00115">treewalk.h:115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6772bdbc1552278ca7dae6a9adb031d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6772bdbc1552278ca7dae6a9adb031d">&#9670;&nbsp;</a></span>treewalk_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void treewalk_run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalk.html">TreeWalk</a> *&#160;</td>
          <td class="paramname"><em>tw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>active_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00543">543</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="endrun_8c_source.html#l00210">endrun()</a>, <a class="el" href="treewalk_8c_source.html#l00142">ev_begin()</a>, <a class="el" href="treewalk_8c_source.html#l00174">ev_finish()</a>, <a class="el" href="treewalk_8c_source.html#l00616">ev_get_remote()</a>, <a class="el" href="treewalk_8h_source.html#l00075">TreeWalk::ev_label</a>, <a class="el" href="treewalk_8c_source.html#l00421">ev_ndone()</a>, <a class="el" href="treewalk_8c_source.html#l00329">ev_primary()</a>, <a class="el" href="treewalk_8c_source.html#l00668">ev_reduce_result()</a>, <a class="el" href="treewalk_8c_source.html#l00441">ev_secondary()</a>, <a class="el" href="forcetree_8c_source.html#l00095">force_tree_allocated()</a>, <a class="el" href="treewalk_8h_source.html#l00113">TreeWalk::Nexport</a>, <a class="el" href="treewalk_8h_source.html#l00108">TreeWalk::Nexport_sum</a>, <a class="el" href="treewalk_8h_source.html#l00109">TreeWalk::Niterations</a>, <a class="el" href="allvars_8c_source.html#l00025">NTask</a>, <a class="el" href="treewalk_8h_source.html#l00090">TreeWalk::postprocess</a>, <a class="el" href="treewalk_8h_source.html#l00091">TreeWalk::preprocess</a>, <a class="el" href="mymalloc_8h_source.html#l00027">report_memory_usage</a>, <a class="el" href="system_8c_source.html#l00140">second()</a>, <a class="el" href="treewalk_8c_source.html#l00028">Send_count</a>, <a class="el" href="mymalloc_8h_source.html#l00025">ta_free</a>, <a class="el" href="treewalk_8h_source.html#l00103">TreeWalk::timecomp3</a>, <a class="el" href="system_8c_source.html#l00149">timediff()</a>, <a class="el" href="treewalk_8h_source.html#l00085">TreeWalk::visit</a>, <a class="el" href="treewalk_8h_source.html#l00119">TreeWalk::WorkSet</a>, and <a class="el" href="treewalk_8h_source.html#l00120">TreeWalk::WorkSetSize</a>.</p>

<p class="reference">Referenced by <a class="el" href="sfr__eff_8c_source.html#l00347">cooling_only()</a>, <a class="el" href="density_8c_source.html#l00120">density_internal()</a>, <a class="el" href="fof_8c_source.html#l00294">fof_label_primary()</a>, <a class="el" href="fof_8c_source.html#l01049">fof_label_secondary()</a>, <a class="el" href="gravshort-pair_8c_source.html#l00024">grav_short_pair()</a>, <a class="el" href="gravshort-tree_8c_source.html#l00045">grav_short_tree()</a>, <a class="el" href="gravshort-tree-old_8c_source.html#l00068">grav_short_tree_old()</a>, and <a class="el" href="hydra_8c_source.html#l00094">hydro_force()</a>.</p>
<div class="fragment"><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;{</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="forcetree_8c.html#aa1174e5cc4c75944aa98706941a70db9">force_tree_allocated</a>()) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(0, <span class="stringliteral">&quot;Tree has been freed before this treewalk.&quot;</span>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    }</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="treewalk_8c.html#a750e759c5d7e555c7ab6015392d5a91b">GDB_current_ev</a> = tw;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="treewalk_8c.html#ace9d4cc74131168498c47dc85ffc865e">ev_begin</a>(tw, active_set, <a class="code" href="namespacemake__zeros.html#a5a378c460c2a12be3a58ac2e687852d9">size</a>);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#a4e66d620c514c8574b776b8dd0c8ee4d">preprocess</a>) {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="preprocessor">        #pragma omp parallel for if(tw-&gt;WorkSetSize &gt; 64)</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; tw-&gt;<a class="code" href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">WorkSetSize</a>; i ++) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            tw-&gt;<a class="code" href="structTreeWalk.html#a4e66d620c514c8574b776b8dd0c8ee4d">preprocess</a>(tw-&gt;<a class="code" href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">WorkSet</a>[i], tw);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    }</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#ab4e96e67f2e72ac33dca9dd06cdac6c0">visit</a>) {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keywordflow">do</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <a class="code" href="treewalk_8c.html#a5341d99d76201774516d5e551dc1c559">ev_primary</a>(tw); <span class="comment">/* do local particles and prepare export list */</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <span class="comment">/* exchange particle data */</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <a class="code" href="treewalk_8c.html#a587df5201e3b9d6608189f9c606c2633">ev_get_remote</a>(tw);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <a class="code" href="mymalloc_8h.html#afaf046f010cd01115a573a59e1e73e01">report_memory_usage</a>(tw-&gt;<a class="code" href="structTreeWalk.html#a1bc94a4f19b597a6328f7048da73d8af">ev_label</a>);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <span class="comment">/* now do the particles that were sent to us */</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <a class="code" href="treewalk_8c.html#a6c043b95263071bc974da1c1cefc0a57">ev_secondary</a>(tw);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <span class="comment">/* import the result to local particles */</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <a class="code" href="treewalk_8c.html#afe78385cec6aabfdd65e6c619a307ef3">ev_reduce_result</a>(tw);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            tw-&gt;<a class="code" href="structTreeWalk.html#a3eca40f904a81c8a059b8580b08454e1">Niterations</a> ++;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            tw-&gt;<a class="code" href="structTreeWalk.html#a7c4e2764c52fbda45e6a090d4e7a322b">Nexport_sum</a> += tw-&gt;<a class="code" href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">Nexport</a>;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <a class="code" href="mymalloc_8h.html#a84e2115e90e9c22e11d9663c019fc8bc">ta_free</a>(<a class="code" href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a>);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        } <span class="keywordflow">while</span>(<a class="code" href="treewalk_8c.html#aecf470724936367dfc728a10b83152bf">ev_ndone</a>(tw) &lt; <a class="code" href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a>);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    }</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordtype">double</span> tstart, tend;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    tstart = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">if</span>(tw-&gt;<a class="code" href="structTreeWalk.html#a8c4dcda60d680c3d56423fca8647472f">postprocess</a>) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="preprocessor">        #pragma omp parallel for if(tw-&gt;WorkSetSize &gt; 64)</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keywordflow">for</span>(i = 0; i &lt; tw-&gt;<a class="code" href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">WorkSetSize</a>; i ++) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            tw-&gt;<a class="code" href="structTreeWalk.html#a8c4dcda60d680c3d56423fca8647472f">postprocess</a>(tw-&gt;<a class="code" href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">WorkSet</a>[i], tw);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        }</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    tend = <a class="code" href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a>();</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#a714d0465e0498a5a8d0b698d37348ce6">timecomp3</a> = <a class="code" href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a>(tstart, tend);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="treewalk_8c.html#a183c4217393b49949352febbde1cc1f2">ev_finish</a>(tw);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div><div class="ttc" id="system_8c_html_a890645bdc4536bd797ca53028072e30d"><div class="ttname"><a href="system_8c.html#a890645bdc4536bd797ca53028072e30d">timediff</a></div><div class="ttdeci">double timediff(double t0, double t1)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00149">system.c:149</a></div></div>
<div class="ttc" id="endrun_8c_html_ad963d7efdb9f10f7a2298c8ccd222ab0"><div class="ttname"><a href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a></div><div class="ttdeci">void endrun(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00210">endrun.c:210</a></div></div>
<div class="ttc" id="treewalk_8c_html_ae1ce32b3af7d102c9bfe189eeeef67d2"><div class="ttname"><a href="treewalk_8c.html#ae1ce32b3af7d102c9bfe189eeeef67d2">Send_count</a></div><div class="ttdeci">static int * Send_count</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00028">treewalk.c:28</a></div></div>
<div class="ttc" id="treewalk_8c_html_a5341d99d76201774516d5e551dc1c559"><div class="ttname"><a href="treewalk_8c.html#a5341d99d76201774516d5e551dc1c559">ev_primary</a></div><div class="ttdeci">static int ev_primary(TreeWalk *tw)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00329">treewalk.c:329</a></div></div>
<div class="ttc" id="treewalk_8c_html_aecf470724936367dfc728a10b83152bf"><div class="ttname"><a href="treewalk_8c.html#aecf470724936367dfc728a10b83152bf">ev_ndone</a></div><div class="ttdeci">static int ev_ndone(TreeWalk *tw)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00421">treewalk.c:421</a></div></div>
<div class="ttc" id="treewalk_8c_html_a750e759c5d7e555c7ab6015392d5a91b"><div class="ttname"><a href="treewalk_8c.html#a750e759c5d7e555c7ab6015392d5a91b">GDB_current_ev</a></div><div class="ttdeci">static TreeWalk * GDB_current_ev</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00107">treewalk.c:107</a></div></div>
<div class="ttc" id="treewalk_8c_html_a6c043b95263071bc974da1c1cefc0a57"><div class="ttname"><a href="treewalk_8c.html#a6c043b95263071bc974da1c1cefc0a57">ev_secondary</a></div><div class="ttdeci">static void ev_secondary(TreeWalk *tw)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00441">treewalk.c:441</a></div></div>
<div class="ttc" id="structTreeWalk_html_a9cf8342687bbd213c2324c948ca0f9c0"><div class="ttname"><a href="structTreeWalk.html#a9cf8342687bbd213c2324c948ca0f9c0">TreeWalk::Nexport</a></div><div class="ttdeci">int Nexport</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00113">treewalk.h:113</a></div></div>
<div class="ttc" id="structTreeWalk_html_a8c4dcda60d680c3d56423fca8647472f"><div class="ttname"><a href="structTreeWalk.html#a8c4dcda60d680c3d56423fca8647472f">TreeWalk::postprocess</a></div><div class="ttdeci">TreeWalkProcessFunction postprocess</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00090">treewalk.h:90</a></div></div>
<div class="ttc" id="forcetree_8c_html_aa1174e5cc4c75944aa98706941a70db9"><div class="ttname"><a href="forcetree_8c.html#aa1174e5cc4c75944aa98706941a70db9">force_tree_allocated</a></div><div class="ttdeci">int force_tree_allocated()</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8c_source.html#l00095">forcetree.c:95</a></div></div>
<div class="ttc" id="allvars_8c_html_a675acdcd149f5993271a1fdc11673b65"><div class="ttname"><a href="allvars_8c.html#a675acdcd149f5993271a1fdc11673b65">NTask</a></div><div class="ttdeci">int NTask</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8c_source.html#l00025">allvars.c:25</a></div></div>
<div class="ttc" id="system_8c_html_ad24c35a2016ce428248988795c1d3174"><div class="ttname"><a href="system_8c.html#ad24c35a2016ce428248988795c1d3174">second</a></div><div class="ttdeci">double second(void)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00140">system.c:140</a></div></div>
<div class="ttc" id="structTreeWalk_html_ab4e96e67f2e72ac33dca9dd06cdac6c0"><div class="ttname"><a href="structTreeWalk.html#ab4e96e67f2e72ac33dca9dd06cdac6c0">TreeWalk::visit</a></div><div class="ttdeci">TreeWalkVisitFunction visit</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00085">treewalk.h:85</a></div></div>
<div class="ttc" id="namespacemake__zeros_html_a5a378c460c2a12be3a58ac2e687852d9"><div class="ttname"><a href="namespacemake__zeros.html#a5a378c460c2a12be3a58ac2e687852d9">make_zeros.size</a></div><div class="ttdeci">size</div><div class="ttdef"><b>Definition:</b> <a href="make__zeros_8py_source.html#l00006">make_zeros.py:6</a></div></div>
<div class="ttc" id="mymalloc_8h_html_afaf046f010cd01115a573a59e1e73e01"><div class="ttname"><a href="mymalloc_8h.html#afaf046f010cd01115a573a59e1e73e01">report_memory_usage</a></div><div class="ttdeci">#define report_memory_usage(x)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00027">mymalloc.h:27</a></div></div>
<div class="ttc" id="structTreeWalk_html_a4e66d620c514c8574b776b8dd0c8ee4d"><div class="ttname"><a href="structTreeWalk.html#a4e66d620c514c8574b776b8dd0c8ee4d">TreeWalk::preprocess</a></div><div class="ttdeci">TreeWalkProcessFunction preprocess</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00091">treewalk.h:91</a></div></div>
<div class="ttc" id="structTreeWalk_html_a1bc94a4f19b597a6328f7048da73d8af"><div class="ttname"><a href="structTreeWalk.html#a1bc94a4f19b597a6328f7048da73d8af">TreeWalk::ev_label</a></div><div class="ttdeci">char * ev_label</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00075">treewalk.h:75</a></div></div>
<div class="ttc" id="structTreeWalk_html_a714d0465e0498a5a8d0b698d37348ce6"><div class="ttname"><a href="structTreeWalk.html#a714d0465e0498a5a8d0b698d37348ce6">TreeWalk::timecomp3</a></div><div class="ttdeci">double timecomp3</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00103">treewalk.h:103</a></div></div>
<div class="ttc" id="treewalk_8c_html_afe78385cec6aabfdd65e6c619a307ef3"><div class="ttname"><a href="treewalk_8c.html#afe78385cec6aabfdd65e6c619a307ef3">ev_reduce_result</a></div><div class="ttdeci">static void ev_reduce_result(TreeWalk *tw)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00668">treewalk.c:668</a></div></div>
<div class="ttc" id="treewalk_8c_html_a587df5201e3b9d6608189f9c606c2633"><div class="ttname"><a href="treewalk_8c.html#a587df5201e3b9d6608189f9c606c2633">ev_get_remote</a></div><div class="ttdeci">static void ev_get_remote(TreeWalk *tw)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00616">treewalk.c:616</a></div></div>
<div class="ttc" id="treewalk_8c_html_ace9d4cc74131168498c47dc85ffc865e"><div class="ttname"><a href="treewalk_8c.html#ace9d4cc74131168498c47dc85ffc865e">ev_begin</a></div><div class="ttdeci">static void ev_begin(TreeWalk *tw, int *active_set, int size)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00142">treewalk.c:142</a></div></div>
<div class="ttc" id="structTreeWalk_html_a3eca40f904a81c8a059b8580b08454e1"><div class="ttname"><a href="structTreeWalk.html#a3eca40f904a81c8a059b8580b08454e1">TreeWalk::Niterations</a></div><div class="ttdeci">int64_t Niterations</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00109">treewalk.h:109</a></div></div>
<div class="ttc" id="structTreeWalk_html_aaf26d07b5db3622b4d340cb0e4077c4f"><div class="ttname"><a href="structTreeWalk.html#aaf26d07b5db3622b4d340cb0e4077c4f">TreeWalk::WorkSet</a></div><div class="ttdeci">int * WorkSet</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00119">treewalk.h:119</a></div></div>
<div class="ttc" id="treewalk_8c_html_a183c4217393b49949352febbde1cc1f2"><div class="ttname"><a href="treewalk_8c.html#a183c4217393b49949352febbde1cc1f2">ev_finish</a></div><div class="ttdeci">static void ev_finish(TreeWalk *tw)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00174">treewalk.c:174</a></div></div>
<div class="ttc" id="mymalloc_8h_html_a84e2115e90e9c22e11d9663c019fc8bc"><div class="ttname"><a href="mymalloc_8h.html#a84e2115e90e9c22e11d9663c019fc8bc">ta_free</a></div><div class="ttdeci">#define ta_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00025">mymalloc.h:25</a></div></div>
<div class="ttc" id="structTreeWalk_html_a7c4e2764c52fbda45e6a090d4e7a322b"><div class="ttname"><a href="structTreeWalk.html#a7c4e2764c52fbda45e6a090d4e7a322b">TreeWalk::Nexport_sum</a></div><div class="ttdeci">int64_t Nexport_sum</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00108">treewalk.h:108</a></div></div>
<div class="ttc" id="structTreeWalk_html_ae316f9389f90ad3b5184fa48c2538e6e"><div class="ttname"><a href="structTreeWalk.html#ae316f9389f90ad3b5184fa48c2538e6e">TreeWalk::WorkSetSize</a></div><div class="ttdeci">int WorkSetSize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00120">treewalk.h:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a145aa9608fd3824bec8049ee97da1c6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a145aa9608fd3824bec8049ee97da1c6f">&#9670;&nbsp;</a></span>treewalk_visit_ngbiter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int treewalk_visit_ngbiter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTreeWalkQueryBase.html">TreeWalkQueryBase</a> *&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTreeWalkResultBase.html">TreeWalkResultBase</a> *&#160;</td>
          <td class="paramname"><em>O</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structLocalTreeWalk.html">LocalTreeWalk</a> *&#160;</td>
          <td class="paramname"><em>lv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="treewalk_8c_source.html#l00774">774</a> of file <a class="el" href="treewalk_8c_source.html">treewalk.c</a>.</p>

<p class="reference">References <a class="el" href="allvars_8c_source.html#l00047">All</a>, <a class="el" href="treewalk_8h_source.html#l00083">TreeWalk::bgmask</a>, <a class="el" href="types_8h_source.html#l00018">BINMASK</a>, <a class="el" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">NODE::d</a>, <a class="el" href="treewalk_8h_source.html#l00035">TreeWalkNgbIterBase::dist</a>, <a class="el" href="allvars_8h_source.html#l00112">DMAX()</a>, <a class="el" href="drift_8c_source.html#l00024">drift_particle()</a>, <a class="el" href="treewalk_8h_source.html#l00034">TreeWalkNgbIterBase::Hsml</a>, <a class="el" href="treewalk_8h_source.html#l00033">TreeWalkNgbIterBase::mask</a>, <a class="el" href="allvars_8h_source.html#l00044">NEAREST</a>, <a class="el" href="treewalk_8h_source.html#l00010">NGB_TREEFIND_SYMMETRIC</a>, <a class="el" href="treewalk_8c_source.html#l00902">ngb_treefind_threads()</a>, <a class="el" href="treewalk_8h_source.html#l00089">TreeWalk::ngbiter</a>, <a class="el" href="treewalk_8h_source.html#l00081">TreeWalk::ngbiter_type_elsize</a>, <a class="el" href="treewalk_8h_source.html#l00050">LocalTreeWalk::ngblist</a>, <a class="el" href="treewalk_8h_source.html#l00051">LocalTreeWalk::Ninteractions</a>, <a class="el" href="treewalk_8h_source.html#l00052">LocalTreeWalk::Nnodesinlist</a>, <a class="el" href="treewalk_8h_source.html#l00023">TreeWalkQueryBase::NodeList</a>, <a class="el" href="treewalk_8h_source.html#l00007">NODELISTLENGTH</a>, <a class="el" href="forcetree_8c_source.html#l00038">Nodes</a>, <a class="el" href="treewalk_8h_source.html#l00038">TreeWalkNgbIterBase::other</a>, <a class="el" href="partmanager_8h_source.html#l00099">P</a>, <a class="el" href="treewalk_8h_source.html#l00024">TreeWalkQueryBase::Pos</a>, <a class="el" href="treewalk_8h_source.html#l00037">TreeWalkNgbIterBase::r</a>, <a class="el" href="treewalk_8h_source.html#l00036">TreeWalkNgbIterBase::r2</a>, <a class="el" href="treewalk_8h_source.html#l00032">TreeWalkNgbIterBase::symmetric</a>, <a class="el" href="allvars_8h_source.html#l00282">global_data_all_processes::Ti_Current</a>, <a class="el" href="treewalk_8h_source.html#l00068">TREEWALK_SPLIT</a>, <a class="el" href="treewalk_8h_source.html#l00042">LocalTreeWalk::tw</a>, <a class="el" href="treewalk_8h_source.html#l00077">TreeWalk::type</a>, and <a class="el" href="structNODE.html#ac0a7e3bc6d29da84c41010b1336fe9ef">NODE::u</a>.</p>

<p class="reference">Referenced by <a class="el" href="density_8c_source.html#l00120">density_internal()</a>, <a class="el" href="fof_8c_source.html#l00294">fof_label_primary()</a>, <a class="el" href="fof_8c_source.html#l01049">fof_label_secondary()</a>, <a class="el" href="gravshort-pair_8c_source.html#l00024">grav_short_pair()</a>, and <a class="el" href="hydra_8c_source.html#l00094">hydro_force()</a>.</p>
<div class="fragment"><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;{</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="structTreeWalkNgbIterBase.html">TreeWalkNgbIterBase</a> * iter = alloca(lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>-&gt;<a class="code" href="structTreeWalk.html#a36bf2eb0e0d65ace233ef30335e04659">ngbiter_type_elsize</a>);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="comment">/* Kick-start the iteration with other == -1 */</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#ac75baa8cbd1cd6a47dbf9fb136c901d3">other</a> = -1;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>-&gt;<a class="code" href="structTreeWalk.html#a96381f9f61cf2c56dac48927cd997ec3">ngbiter</a>(I, O, iter, lv);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordtype">int</span> ninteractions = 0;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordtype">int</span> inode = 0;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordflow">for</span>(inode = 0; inode &lt; <a class="code" href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a> &amp;&amp; I-&gt;<a class="code" href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">NodeList</a>[inode] &gt;= 0; inode++)</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="keywordtype">int</span> startnode = <a class="code" href="forcetree_8c.html#ac46f89ba3715dfa877c2e1b8822da657">Nodes</a>[I-&gt;<a class="code" href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">NodeList</a>[inode]].<a class="code" href="structNODE.html#ac0a7e3bc6d29da84c41010b1336fe9ef">u</a>.<a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>.nextnode;  <span class="comment">/* open it */</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <span class="keywordtype">int</span> numcand = <a class="code" href="treewalk_8c.html#ab0d5f93870c52e50dbfb34df996ee776">ngb_treefind_threads</a>(I, O, iter, startnode, lv);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="comment">/* Export buffer is full end prematurally */</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="keywordflow">if</span>(numcand &lt; 0) <span class="keywordflow">return</span> numcand;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="comment">/* If we are here, export is succesful. Work on the this particle -- first</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment">         * filter out all of the candidates that are actually outside. */</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="keywordtype">int</span> numngb;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordflow">for</span>(numngb = 0; numngb &lt; numcand; numngb ++) {</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            <span class="keywordtype">int</span> other = lv-&gt;<a class="code" href="structLocalTreeWalk.html#a872d1ebfec863190d302352c40e9d034">ngblist</a>[numngb];</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            <span class="comment">/* skip garbage */</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[other].IsGarbage) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            <span class="comment">/* must be the correct type */</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <span class="keywordflow">if</span>(!((1&lt;&lt;<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[other].Type) &amp; iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#a887aa48798bdfb5a8cca30be18c9a849">mask</a>))</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <span class="comment">/* must be the correct time bin */</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            <span class="keywordflow">if</span>(lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>-&gt;<a class="code" href="structTreeWalk.html#a2552984fd6c49267b1e6d7ee8d300330">type</a> == <a class="code" href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0abcbdb347b8ee6b5272ecb2884cc9214b">TREEWALK_SPLIT</a> &amp;&amp; !(<a class="code" href="types_8h.html#aa70d9618f1de7669d2f5b22a807f5b62">BINMASK</a>(<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[other].TimeBin) &amp; lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>-&gt;<a class="code" href="structTreeWalk.html#a7623d7cecb2c2af64eb833ce62626dcf">bgmask</a>))</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            <span class="keywordflow">if</span>(lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>-&gt;<a class="code" href="structTreeWalk.html#a2552984fd6c49267b1e6d7ee8d300330">type</a> != <a class="code" href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0abcbdb347b8ee6b5272ecb2884cc9214b">TREEWALK_SPLIT</a>) <span class="comment">/* FIXME: get rid of this entirely */</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                <a class="code" href="drift_8c.html#aef778a2d1f0e7e44a06517bb0b6cd8ea">drift_particle</a>(other, <a class="code" href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a>.<a class="code" href="structglobal__data__all__processes.html#aac685530de56448068f8dd037fc56490">Ti_Current</a>);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            <span class="keywordtype">double</span> dist;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            <span class="keywordflow">if</span>(iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#aebe92fe57ee45b4ada2f95717b7cf12b">symmetric</a> == <a class="code" href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13">NGB_TREEFIND_SYMMETRIC</a>) {</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                dist = <a class="code" href="allvars_8h.html#a320153e129e2fe4833e5b43935499d3e">DMAX</a>(<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[other].Hsml, iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#a633d0a0d40776a7dcef5c6915bda2c56">Hsml</a>);</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                dist = iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#a633d0a0d40776a7dcef5c6915bda2c56">Hsml</a>;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            }</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <span class="keywordtype">double</span> r2 = 0;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <span class="keywordtype">double</span> h2 = dist * dist;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            <span class="keywordflow">for</span>(d = 0; d &lt; 3; d ++) {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                <span class="comment">/* the distance vector points to &#39;other&#39; */</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#aba52009bbabdd9e0cc5ea5b257b978f3">dist</a>[<a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>] = <a class="code" href="allvars_8h.html#a1094686c363ae3a70dca627763873649">NEAREST</a>(I-&gt;<a class="code" href="structTreeWalkQueryBase.html#a49a12e5d0c323fc4bda017bf127ff322">Pos</a>[d] - <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[other].Pos[d]);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                r2 += iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#aba52009bbabdd9e0cc5ea5b257b978f3">dist</a>[<a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>] * iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#aba52009bbabdd9e0cc5ea5b257b978f3">dist</a>[<a class="code" href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">d</a>];</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                <span class="keywordflow">if</span>(r2 &gt; h2) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            }</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            <span class="keywordflow">if</span>(r2 &gt; h2) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            <span class="comment">/* update the iter and call the iteration function*/</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#a70a2cc004aede46d1407c89d0cbb4616">r2</a> = r2;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#a5b1a01a9a059a9429cf0e5cf92a4f53b">r</a> = sqrt(r2);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            iter-&gt;<a class="code" href="structTreeWalkNgbIterBase.html#ac75baa8cbd1cd6a47dbf9fb136c901d3">other</a> = other;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            lv-&gt;<a class="code" href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">tw</a>-&gt;<a class="code" href="structTreeWalk.html#a96381f9f61cf2c56dac48927cd997ec3">ngbiter</a>(I, O, iter, lv);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        ninteractions += numngb;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    lv-&gt;<a class="code" href="structLocalTreeWalk.html#a8ba201fbee09b07625447ab9875f4743">Ninteractions</a> += ninteractions;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    lv-&gt;<a class="code" href="structLocalTreeWalk.html#aa7cbd292623450f5c9edee6b05409078">Nnodesinlist</a> += inode;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;}</div><div class="ttc" id="structglobal__data__all__processes_html_aac685530de56448068f8dd037fc56490"><div class="ttname"><a href="structglobal__data__all__processes.html#aac685530de56448068f8dd037fc56490">global_data_all_processes::Ti_Current</a></div><div class="ttdeci">inttime_t Ti_Current</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00282">allvars.h:282</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html_a633d0a0d40776a7dcef5c6915bda2c56"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#a633d0a0d40776a7dcef5c6915bda2c56">TreeWalkNgbIterBase::Hsml</a></div><div class="ttdeci">double Hsml</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00034">treewalk.h:34</a></div></div>
<div class="ttc" id="partmanager_8h_html_a2748566f4c443ee77aa831e63dbb5ebe"><div class="ttname"><a href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a></div><div class="ttdeci">#define P</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00099">partmanager.h:99</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html_aebe92fe57ee45b4ada2f95717b7cf12b"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#aebe92fe57ee45b4ada2f95717b7cf12b">TreeWalkNgbIterBase::symmetric</a></div><div class="ttdeci">enum NgbTreeFindSymmetric symmetric</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00032">treewalk.h:32</a></div></div>
<div class="ttc" id="allvars_8h_html_a320153e129e2fe4833e5b43935499d3e"><div class="ttname"><a href="allvars_8h.html#a320153e129e2fe4833e5b43935499d3e">DMAX</a></div><div class="ttdeci">static double DMAX(double a, double b)</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00112">allvars.h:112</a></div></div>
<div class="ttc" id="treewalk_8c_html_ab0d5f93870c52e50dbfb34df996ee776"><div class="ttname"><a href="treewalk_8c.html#ab0d5f93870c52e50dbfb34df996ee776">ngb_treefind_threads</a></div><div class="ttdeci">static int ngb_treefind_threads(TreeWalkQueryBase *I, TreeWalkResultBase *O, TreeWalkNgbIterBase *iter, int startnode, LocalTreeWalk *lv)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00902">treewalk.c:902</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_a872d1ebfec863190d302352c40e9d034"><div class="ttname"><a href="structLocalTreeWalk.html#a872d1ebfec863190d302352c40e9d034">LocalTreeWalk::ngblist</a></div><div class="ttdeci">int * ngblist</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00050">treewalk.h:50</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html_ac75baa8cbd1cd6a47dbf9fb136c901d3"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#ac75baa8cbd1cd6a47dbf9fb136c901d3">TreeWalkNgbIterBase::other</a></div><div class="ttdeci">int other</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00038">treewalk.h:38</a></div></div>
<div class="ttc" id="structNODE_html_a7f339ed4a80e4bc82506fdab65a7d655"><div class="ttname"><a href="structNODE.html#a7f339ed4a80e4bc82506fdab65a7d655">NODE::d</a></div><div class="ttdeci">struct NODE::@11::@12 d</div></div>
<div class="ttc" id="structLocalTreeWalk_html_a8ba201fbee09b07625447ab9875f4743"><div class="ttname"><a href="structLocalTreeWalk.html#a8ba201fbee09b07625447ab9875f4743">LocalTreeWalk::Ninteractions</a></div><div class="ttdeci">int64_t Ninteractions</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00051">treewalk.h:51</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_aa7cbd292623450f5c9edee6b05409078"><div class="ttname"><a href="structLocalTreeWalk.html#aa7cbd292623450f5c9edee6b05409078">LocalTreeWalk::Nnodesinlist</a></div><div class="ttdeci">int64_t Nnodesinlist</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00052">treewalk.h:52</a></div></div>
<div class="ttc" id="structTreeWalk_html_a7623d7cecb2c2af64eb833ce62626dcf"><div class="ttname"><a href="structTreeWalk.html#a7623d7cecb2c2af64eb833ce62626dcf">TreeWalk::bgmask</a></div><div class="ttdeci">binmask_t bgmask</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00083">treewalk.h:83</a></div></div>
<div class="ttc" id="treewalk_8h_html_ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13"><div class="ttname"><a href="treewalk_8h.html#ae8d78c0b33a7736c7e75739976002dbdaf79ece693dc79e41bbe731ed0e62db13">NGB_TREEFIND_SYMMETRIC</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00010">treewalk.h:10</a></div></div>
<div class="ttc" id="types_8h_html_aa70d9618f1de7669d2f5b22a807f5b62"><div class="ttname"><a href="types_8h.html#aa70d9618f1de7669d2f5b22a807f5b62">BINMASK</a></div><div class="ttdeci">#define BINMASK(i)</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00018">types.h:18</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html_a5b1a01a9a059a9429cf0e5cf92a4f53b"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#a5b1a01a9a059a9429cf0e5cf92a4f53b">TreeWalkNgbIterBase::r</a></div><div class="ttdeci">double r</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00037">treewalk.h:37</a></div></div>
<div class="ttc" id="structLocalTreeWalk_html_ae7a5a56205348bfd1bcd544e13c4b702"><div class="ttname"><a href="structLocalTreeWalk.html#ae7a5a56205348bfd1bcd544e13c4b702">LocalTreeWalk::tw</a></div><div class="ttdeci">TreeWalk * tw</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00042">treewalk.h:42</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html"><div class="ttname"><a href="structTreeWalkNgbIterBase.html">TreeWalkNgbIterBase</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00031">treewalk.h:31</a></div></div>
<div class="ttc" id="structTreeWalkQueryBase_html_a49a12e5d0c323fc4bda017bf127ff322"><div class="ttname"><a href="structTreeWalkQueryBase.html#a49a12e5d0c323fc4bda017bf127ff322">TreeWalkQueryBase::Pos</a></div><div class="ttdeci">double Pos[3]</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00024">treewalk.h:24</a></div></div>
<div class="ttc" id="forcetree_8c_html_ac46f89ba3715dfa877c2e1b8822da657"><div class="ttname"><a href="forcetree_8c.html#ac46f89ba3715dfa877c2e1b8822da657">Nodes</a></div><div class="ttdeci">struct NODE * Nodes</div><div class="ttdef"><b>Definition:</b> <a href="forcetree_8c_source.html#l00038">forcetree.c:38</a></div></div>
<div class="ttc" id="structTreeWalk_html_a2552984fd6c49267b1e6d7ee8d300330"><div class="ttname"><a href="structTreeWalk.html#a2552984fd6c49267b1e6d7ee8d300330">TreeWalk::type</a></div><div class="ttdeci">enum TreeWalkType type</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00077">treewalk.h:77</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html_a70a2cc004aede46d1407c89d0cbb4616"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#a70a2cc004aede46d1407c89d0cbb4616">TreeWalkNgbIterBase::r2</a></div><div class="ttdeci">double r2</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00036">treewalk.h:36</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html_a887aa48798bdfb5a8cca30be18c9a849"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#a887aa48798bdfb5a8cca30be18c9a849">TreeWalkNgbIterBase::mask</a></div><div class="ttdeci">int mask</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00033">treewalk.h:33</a></div></div>
<div class="ttc" id="structTreeWalk_html_a36bf2eb0e0d65ace233ef30335e04659"><div class="ttname"><a href="structTreeWalk.html#a36bf2eb0e0d65ace233ef30335e04659">TreeWalk::ngbiter_type_elsize</a></div><div class="ttdeci">size_t ngbiter_type_elsize</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00081">treewalk.h:81</a></div></div>
<div class="ttc" id="structNODE_html_ac0a7e3bc6d29da84c41010b1336fe9ef"><div class="ttname"><a href="structNODE.html#ac0a7e3bc6d29da84c41010b1336fe9ef">NODE::u</a></div><div class="ttdeci">union NODE::@11 u</div></div>
<div class="ttc" id="treewalk_8h_html_a37475eba3cda0b50c89857b58478450e"><div class="ttname"><a href="treewalk_8h.html#a37475eba3cda0b50c89857b58478450e">NODELISTLENGTH</a></div><div class="ttdeci">#define NODELISTLENGTH</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00007">treewalk.h:7</a></div></div>
<div class="ttc" id="allvars_8h_html_a1094686c363ae3a70dca627763873649"><div class="ttname"><a href="allvars_8h.html#a1094686c363ae3a70dca627763873649">NEAREST</a></div><div class="ttdeci">#define NEAREST(x)</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8h_source.html#l00044">allvars.h:44</a></div></div>
<div class="ttc" id="drift_8c_html_aef778a2d1f0e7e44a06517bb0b6cd8ea"><div class="ttname"><a href="drift_8c.html#aef778a2d1f0e7e44a06517bb0b6cd8ea">drift_particle</a></div><div class="ttdeci">void drift_particle(int i, inttime_t ti1)</div><div class="ttdef"><b>Definition:</b> <a href="drift_8c_source.html#l00024">drift.c:24</a></div></div>
<div class="ttc" id="treewalk_8h_html_a33be8e00fa2b5a7a103930069b4d75b0abcbdb347b8ee6b5272ecb2884cc9214b"><div class="ttname"><a href="treewalk_8h.html#a33be8e00fa2b5a7a103930069b4d75b0abcbdb347b8ee6b5272ecb2884cc9214b">TREEWALK_SPLIT</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00068">treewalk.h:68</a></div></div>
<div class="ttc" id="structTreeWalk_html_a96381f9f61cf2c56dac48927cd997ec3"><div class="ttname"><a href="structTreeWalk.html#a96381f9f61cf2c56dac48927cd997ec3">TreeWalk::ngbiter</a></div><div class="ttdeci">TreeWalkNgbIterFunction ngbiter</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00089">treewalk.h:89</a></div></div>
<div class="ttc" id="structTreeWalkQueryBase_html_a537e29d0a02494632970df25139000f2"><div class="ttname"><a href="structTreeWalkQueryBase.html#a537e29d0a02494632970df25139000f2">TreeWalkQueryBase::NodeList</a></div><div class="ttdeci">int NodeList[NODELISTLENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00023">treewalk.h:23</a></div></div>
<div class="ttc" id="structTreeWalkNgbIterBase_html_aba52009bbabdd9e0cc5ea5b257b978f3"><div class="ttname"><a href="structTreeWalkNgbIterBase.html#aba52009bbabdd9e0cc5ea5b257b978f3">TreeWalkNgbIterBase::dist</a></div><div class="ttdeci">double dist[3]</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00035">treewalk.h:35</a></div></div>
<div class="ttc" id="allvars_8c_html_ad49123ae0461ffe61629a0d4cf2ba91f"><div class="ttname"><a href="allvars_8c.html#ad49123ae0461ffe61629a0d4cf2ba91f">All</a></div><div class="ttdeci">struct global_data_all_processes All</div><div class="ttdef"><b>Definition:</b> <a href="allvars_8c_source.html#l00047">allvars.c:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
